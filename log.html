<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.35">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="https://trdthg-img-for-md-1306147581.cos.ap-beijing.myqcloud.com/img/202202022217241.jpg"><title>日志 | Trdthg's blog</title><meta name="description" content="我的个人网站">
    <link rel="modulepreload" href="/assets/app.40ce0bb5.js"><link rel="modulepreload" href="/assets/log.html.9127eb6e.js"><link rel="modulepreload" href="/assets/log.html.627ff7f6.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.21dcd24c.js">
    <link rel="stylesheet" href="/assets/style.e8e8fc80.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name can-hide">Trdthg&#39;s blog</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="学习笔记 📚"><span class="title">学习笔记 📚</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="学习笔记 📚"><span class="title">学习笔记 📚</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>前端相关</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/frontend/vdom" class="" aria-label="虚拟DOM"><!--[--><!--]--> 虚拟DOM <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/js_advanced" class="" aria-label="js进阶"><!--[--><!--]--> js进阶 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/list" class="" aria-label="资料"><!--[--><!--]--> 资料 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/vue" class="" aria-label="vue"><!--[--><!--]--> vue <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/http" class="" aria-label="HTTP相关"><!--[--><!--]--> HTTP相关 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/flutter" class="" aria-label="Flutter"><!--[--><!--]--> Flutter <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>python相关</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/other/python" class="" aria-label="总览"><!--[--><!--]--> 总览 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>java相关</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/java/java" class="" aria-label="基础知识"><!--[--><!--]--> 基础知识 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java/sourceread" class="" aria-label="部分源码"><!--[--><!--]--> 部分源码 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java/spring" class="" aria-label="Spring框架"><!--[--><!--]--> Spring框架 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java/springboot" class="" aria-label="常用工具"><!--[--><!--]--> 常用工具 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="小项目 💪"><span class="title">小项目 💪</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="小项目 💪"><span class="title">小项目 💪</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/projects/mini_vue" class="" aria-label="mini-vue"><!--[--><!--]--> mini-vue <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/projects/mini_bundle" class="" aria-label="打包器"><!--[--><!--]--> 打包器 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/projects/mini_tokio" class="" aria-label="异步运行时"><!--[--><!--]--> 异步运行时 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Rust 🦀"><span class="title">Rust 🦀</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Rust 🦀"><span class="title">Rust 🦀</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/rust/rust" class="" aria-label="语言特性"><!--[--><!--]--> 语言特性 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/rust/dioxus" class="" aria-label="dioxus前端"><!--[--><!--]--> dioxus前端 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/rust/wasm" class="" aria-label="Wasm 体验"><!--[--><!--]--> Wasm 体验 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/rust/lists" class="" aria-label="实现链表"><!--[--><!--]--> 实现链表 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="魔法 🔮"><span class="title">魔法 🔮</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="魔法 🔮"><span class="title">魔法 🔮</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/magic/haskell" class="" aria-label="haskell学习笔记"><!--[--><!--]--> haskell学习笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/magic/fd" class="" aria-label="文件描述符"><!--[--><!--]--> 文件描述符 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/magic/linuxIO" class="" aria-label="IO 多路复用"><!--[--><!--]--> IO 多路复用 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/magic/memory_ordering" class="" aria-label="原子操作/内存顺序"><!--[--><!--]--> 原子操作/内存顺序 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/magic/software_arch" class="" aria-label="软件架构"><!--[--><!--]--> 软件架构 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/magic/cicd" class="" aria-label="CI/CD"><!--[--><!--]--> CI/CD <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="IO Club ⚽"><span class="title">IO Club ⚽</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="IO Club ⚽"><span class="title">IO Club ⚽</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>分享</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/ioclub/share_1" class="" aria-label="关于数据库与B+树"><!--[--><!--]--> 关于数据库与B+树 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>授课</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/ioclub/backend_1" class="" aria-label="后端1"><!--[--><!--]--> 后端1 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/ioclub/backend_2" class="" aria-label="后端2"><!--[--><!--]--> 后端2 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/ioclub/backend_3" class="" aria-label="后端3"><!--[--><!--]--> 后端3 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/ioclub/backend_4" class="" aria-label="后端4"><!--[--><!--]--> 后端4 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="其他 📦"><span class="title">其他 📦</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="其他 📦"><span class="title">其他 📦</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/other/hadoop" class="" aria-label="hadoop"><!--[--><!--]--> hadoop <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/other/script" class="" aria-label="脚本"><!--[--><!--]--> 脚本 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/other/datastructure" class="" aria-label="数据结构"><!--[--><!--]--> 数据结构 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/other/vim" class="" aria-label="vim"><!--[--><!--]--> vim <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/other/git" class="" aria-label="git"><!--[--><!--]--> git <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/other/docker" class="" aria-label="docker"><!--[--><!--]--> docker <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/other/oauth2" class="" aria-label="oauth2学习"><!--[--><!--]--> oauth2学习 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/trdthg" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="切换夜间"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="学习笔记 📚"><span class="title">学习笔记 📚</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="学习笔记 📚"><span class="title">学习笔记 📚</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>前端相关</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/frontend/vdom" class="" aria-label="虚拟DOM"><!--[--><!--]--> 虚拟DOM <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/js_advanced" class="" aria-label="js进阶"><!--[--><!--]--> js进阶 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/list" class="" aria-label="资料"><!--[--><!--]--> 资料 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/vue" class="" aria-label="vue"><!--[--><!--]--> vue <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/http" class="" aria-label="HTTP相关"><!--[--><!--]--> HTTP相关 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/frontend/flutter" class="" aria-label="Flutter"><!--[--><!--]--> Flutter <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>python相关</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/other/python" class="" aria-label="总览"><!--[--><!--]--> 总览 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>java相关</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/java/java" class="" aria-label="基础知识"><!--[--><!--]--> 基础知识 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java/sourceread" class="" aria-label="部分源码"><!--[--><!--]--> 部分源码 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java/spring" class="" aria-label="Spring框架"><!--[--><!--]--> Spring框架 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/java/springboot" class="" aria-label="常用工具"><!--[--><!--]--> 常用工具 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="小项目 💪"><span class="title">小项目 💪</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="小项目 💪"><span class="title">小项目 💪</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/projects/mini_vue" class="" aria-label="mini-vue"><!--[--><!--]--> mini-vue <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/projects/mini_bundle" class="" aria-label="打包器"><!--[--><!--]--> 打包器 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/projects/mini_tokio" class="" aria-label="异步运行时"><!--[--><!--]--> 异步运行时 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Rust 🦀"><span class="title">Rust 🦀</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Rust 🦀"><span class="title">Rust 🦀</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/rust/rust" class="" aria-label="语言特性"><!--[--><!--]--> 语言特性 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/rust/dioxus" class="" aria-label="dioxus前端"><!--[--><!--]--> dioxus前端 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/rust/wasm" class="" aria-label="Wasm 体验"><!--[--><!--]--> Wasm 体验 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/rust/lists" class="" aria-label="实现链表"><!--[--><!--]--> 实现链表 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="魔法 🔮"><span class="title">魔法 🔮</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="魔法 🔮"><span class="title">魔法 🔮</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/magic/haskell" class="" aria-label="haskell学习笔记"><!--[--><!--]--> haskell学习笔记 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/magic/fd" class="" aria-label="文件描述符"><!--[--><!--]--> 文件描述符 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/magic/linuxIO" class="" aria-label="IO 多路复用"><!--[--><!--]--> IO 多路复用 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/magic/memory_ordering" class="" aria-label="原子操作/内存顺序"><!--[--><!--]--> 原子操作/内存顺序 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/magic/software_arch" class="" aria-label="软件架构"><!--[--><!--]--> 软件架构 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/magic/cicd" class="" aria-label="CI/CD"><!--[--><!--]--> CI/CD <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="IO Club ⚽"><span class="title">IO Club ⚽</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="IO Club ⚽"><span class="title">IO Club ⚽</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>分享</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/ioclub/share_1" class="" aria-label="关于数据库与B+树"><!--[--><!--]--> 关于数据库与B+树 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>授课</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/ioclub/backend_1" class="" aria-label="后端1"><!--[--><!--]--> 后端1 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/ioclub/backend_2" class="" aria-label="后端2"><!--[--><!--]--> 后端2 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/ioclub/backend_3" class="" aria-label="后端3"><!--[--><!--]--> 后端3 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/ioclub/backend_4" class="" aria-label="后端4"><!--[--><!--]--> 后端4 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="其他 📦"><span class="title">其他 📦</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="其他 📦"><span class="title">其他 📦</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/other/hadoop" class="" aria-label="hadoop"><!--[--><!--]--> hadoop <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/other/script" class="" aria-label="脚本"><!--[--><!--]--> 脚本 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/other/datastructure" class="" aria-label="数据结构"><!--[--><!--]--> 数据结构 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/other/vim" class="" aria-label="vim"><!--[--><!--]--> vim <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/other/git" class="" aria-label="git"><!--[--><!--]--> git <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/other/docker" class="" aria-label="docker"><!--[--><!--]--> docker <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/other/oauth2" class="" aria-label="oauth2学习"><!--[--><!--]--> oauth2学习 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/trdthg" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">日志 <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/log.html#_6月" class="router-link-active router-link-exact-active sidebar-item" aria-label="6月"><!--[--><!--]--> 6月 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/log.html#_6月13日" class="router-link-active router-link-exact-active sidebar-item" aria-label="6月13日"><!--[--><!--]--> 6月13日 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/log.html#_6月9日" class="router-link-active router-link-exact-active sidebar-item" aria-label="6月9日"><!--[--><!--]--> 6月9日 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/log.html#_6月2日" class="router-link-active router-link-exact-active sidebar-item" aria-label="6月2日"><!--[--><!--]--> 6月2日 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/log.html#_5月" class="router-link-active router-link-exact-active sidebar-item" aria-label="5月"><!--[--><!--]--> 5月 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/log.html#_5月31日" class="router-link-active router-link-exact-active sidebar-item" aria-label="5月31日"><!--[--><!--]--> 5月31日 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/log.html#_5月30日" class="router-link-active router-link-exact-active sidebar-item" aria-label="5月30日"><!--[--><!--]--> 5月30日 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/log.html#_5月27日" class="router-link-active router-link-exact-active sidebar-item" aria-label="5月27日"><!--[--><!--]--> 5月27日 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/log.html#_5月26日" class="router-link-active router-link-exact-active sidebar-item" aria-label="5月26日"><!--[--><!--]--> 5月26日 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/log.html#_5月22日" class="router-link-active router-link-exact-active sidebar-item" aria-label="5月22日"><!--[--><!--]--> 5月22日 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/log.html#_5月20日" class="router-link-active router-link-exact-active sidebar-item" aria-label="5月20日"><!--[--><!--]--> 5月20日 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/log.html#_5月18日" class="router-link-active router-link-exact-active sidebar-item" aria-label="5月18日"><!--[--><!--]--> 5月18日 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/log.html#_5月15日" class="router-link-active router-link-exact-active sidebar-item" aria-label="5月15日"><!--[--><!--]--> 5月15日 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/log.html#_5月14日" class="router-link-active router-link-exact-active sidebar-item" aria-label="5月14日"><!--[--><!--]--> 5月14日 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/log.html#_5月13日" class="router-link-active router-link-exact-active sidebar-item" aria-label="5月13日"><!--[--><!--]--> 5月13日 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/log.html#_5月12日" class="router-link-active router-link-exact-active sidebar-item" aria-label="5月12日"><!--[--><!--]--> 5月12日 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/log.html#_5月11日" class="router-link-active router-link-exact-active sidebar-item" aria-label="5月11日"><!--[--><!--]--> 5月11日 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/log.html#_5月10日" class="router-link-active router-link-exact-active sidebar-item" aria-label="5月10日"><!--[--><!--]--> 5月10日 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/log.html#_3月" class="router-link-active router-link-exact-active sidebar-item" aria-label="3月"><!--[--><!--]--> 3月 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/log.html#_3月6日" class="router-link-active router-link-exact-active sidebar-item" aria-label="3月6日"><!--[--><!--]--> 3月6日 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/log.html#_1月" class="router-link-active router-link-exact-active sidebar-item" aria-label="1月"><!--[--><!--]--> 1月 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/log.html#_1月14日" class="router-link-active router-link-exact-active sidebar-item" aria-label="1月14日"><!--[--><!--]--> 1月14日 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/log.html#_1月15日" class="router-link-active router-link-exact-active sidebar-item" aria-label="1月15日"><!--[--><!--]--> 1月15日 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/log.html#_1月16日" class="router-link-active router-link-exact-active sidebar-item" aria-label="1月16日"><!--[--><!--]--> 1月16日 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/log.html#_1月17日" class="router-link-active router-link-exact-active sidebar-item" aria-label="1月17日"><!--[--><!--]--> 1月17日 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/log.html#_1月18日" class="router-link-active router-link-exact-active sidebar-item" aria-label="1月18日"><!--[--><!--]--> 1月18日 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/log.html#_1月19日" class="router-link-active router-link-exact-active sidebar-item" aria-label="1月19日"><!--[--><!--]--> 1月19日 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/log.html#_1月20日" class="router-link-active router-link-exact-active sidebar-item" aria-label="1月20日"><!--[--><!--]--> 1月20日 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/log.html#_1月21日" class="router-link-active router-link-exact-active sidebar-item" aria-label="1月21日"><!--[--><!--]--> 1月21日 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/log.html#_1月22日" class="router-link-active router-link-exact-active sidebar-item" aria-label="1月22日"><!--[--><!--]--> 1月22日 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/log.html#_1-23日-1-27日" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.23日~ 1.27日"><!--[--><!--]--> 1.23日~ 1.27日 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="日志" tabindex="-1"><a class="header-anchor" href="#日志" aria-hidden="true">#</a> 日志</h1><div class="custom-container tip"><p class="custom-container-title">提示</p><p>this is a tip</p></div><h2 id="_6月" tabindex="-1"><a class="header-anchor" href="#_6月" aria-hidden="true">#</a> 6月</h2><h3 id="_6月13日" tabindex="-1"><a class="header-anchor" href="#_6月13日" aria-hidden="true">#</a> 6月13日</h3><p>计划还行吧，虽然期末没好好复习<br> 看java源码是真的劝退，HashMap的红黑树实现先放一边吧，这边准备先从TreeMap入手 :-）<br> Spring-Cloud-Alibaba的版本问题真烦人，加了@LoadBalanced，服务都在nacos注册了也还是找不到</p><h3 id="_6月9日" tabindex="-1"><a class="header-anchor" href="#_6月9日" aria-hidden="true">#</a> 6月9日</h3><p>去了腾讯serverless大会，学习了一波新知识，停更了几天 指定了学习计划</p><ol><li>Rust（个人兴趣）</li><li>Java（混口饭吃：基础 + 框架） 目前缓步推进中 希望文档补齐也能加入每日任务中</li></ol><h3 id="_6月2日" tabindex="-1"><a class="header-anchor" href="#_6月2日" aria-hidden="true">#</a> 6月2日</h3><p>这两天自己通过购买VPS搭建了自己的v2ray，搭建过程中服务端安装配置很简单，配置完成后可以用<code>v2ray url</code>获取vmess配置连接，手机端连接很顺利，windows，linux配置很有问题，linux下edge浏览器没法翻墙，直到突然发现火狐能正常使用才知道edge（chrome）走的是系统代理，需要手动配置系统代理后才能正常使用。</p><h2 id="_5月" tabindex="-1"><a class="header-anchor" href="#_5月" aria-hidden="true">#</a> 5月</h2><h3 id="_5月31日" tabindex="-1"><a class="header-anchor" href="#_5月31日" aria-hidden="true">#</a> 5月31日</h3><p>修复了关联查询的bug<br> 修复了权限验证的bug，权限验证也要在map中添加authc进行登录验证<br> 把token改为了 access_token + refresh_token 实现了token的自动更新<br> 将username改为从token解析得到</p><h3 id="_5月30日" tabindex="-1"><a class="header-anchor" href="#_5月30日" aria-hidden="true">#</a> 5月30日</h3><p>今天写了Shiro模块（southwind_shiro）， 以及shiro + redis + token整合版，现在关于权限还没有测试，下一步是把权限信息也加入到redis缓存里，整一套可以复用的登录模板</p><h3 id="_5月27日" tabindex="-1"><a class="header-anchor" href="#_5月27日" aria-hidden="true">#</a> 5月27日</h3><p>10天前开得hashmap终于继续了，今天只把增删看了， 关于红黑树方面的具体实现明天再说</p><h3 id="_5月26日" tabindex="-1"><a class="header-anchor" href="#_5月26日" aria-hidden="true">#</a> 5月26日</h3><p>花了几天天装了个manjaro系统双系统，用了两天感觉还不错， 今天早上发现耗电量不尽人意，只能说一般般吧，比windows看着好像差点，在用用看先;</p><h3 id="_5月22日" tabindex="-1"><a class="header-anchor" href="#_5月22日" aria-hidden="true">#</a> 5月22日</h3><p>卡了几天的红黑树终于写完了... 回去看HashMap吧(≧﹏≦)</p><h3 id="_5月20日" tabindex="-1"><a class="header-anchor" href="#_5月20日" aria-hidden="true">#</a> 5月20日</h3><ol><li>昨天的avl树, 因为需要在添加节点后重置height, 必须使用递归</li><li>今天的红黑树非常带劲, 判断旋转条件太xx了, 红黑树没有height了, while循环会好些的多, 我却用递归, 今天只写了add, 剩下的明天再说, 先写作业了</li></ol><h3 id="_5月18日" tabindex="-1"><a class="header-anchor" href="#_5月18日" aria-hidden="true">#</a> 5月18日</h3><p>昨天开了HashMap源码学习<br> 决定先去学习树(二叉搜索树 -&gt; AVL树 -&gt; 红黑树)</p><h3 id="_5月15日" tabindex="-1"><a class="header-anchor" href="#_5月15日" aria-hidden="true">#</a> 5月15日</h3><p>对博客加了自定义内容</p><ul><li>添加背景</li><li>美化布局</li><li>分离java部分</li></ul><h3 id="_5月14日" tabindex="-1"><a class="header-anchor" href="#_5月14日" aria-hidden="true">#</a> 5月14日</h3><p>开了rust的坑, 开坑真爽</p><h3 id="_5月13日" tabindex="-1"><a class="header-anchor" href="#_5月13日" aria-hidden="true">#</a> 5月13日</h3><p>开了集合框架源码阅读的坑</p><h3 id="_5月12日" tabindex="-1"><a class="header-anchor" href="#_5月12日" aria-hidden="true">#</a> 5月12日</h3><p>c++ 菜鸟教程看完了反正, java简直是C++--, 舍弃了大量的模块, 升华了面向对象的思想 8266 micropython成功运行</p><h3 id="_5月11日" tabindex="-1"><a class="header-anchor" href="#_5月11日" aria-hidden="true">#</a> 5月11日</h3><p>开了8266模块的坑 并发编程++</p><h3 id="_5月10日" tabindex="-1"><a class="header-anchor" href="#_5月10日" aria-hidden="true">#</a> 5月10日</h3><p>开了C++的新坑, 看到了重裁 java 把书看完了, 感觉讲的贼浅, 只讲了某些类怎么用而已, 不过网络编程那部分的感念倒是更清晰了 UDP + TCP 并发编程++</p><h2 id="_3月" tabindex="-1"><a class="header-anchor" href="#_3月" aria-hidden="true">#</a> 3月</h2><h3 id="_3月6日" tabindex="-1"><a class="header-anchor" href="#_3月6日" aria-hidden="true">#</a> 3月6日</h3><h5 id="_1-pickle模块" tabindex="-1"><a class="header-anchor" href="#_1-pickle模块" aria-hidden="true">#</a> 1. pickle模块</h5><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>
<span class="token comment">#pickle提供了一个简单的持久化功能。可以将对象以文件的形式存放在磁盘上。</span>
<span class="token triple-quoted-string string">&#39;&#39;&#39;pickle模块只能在python中使用，python中几乎所有的数据类型（列表，字典，集合，类等）都可以用pickle来序列化，
pickle序列化后的数据，可读性差，人一般无法识别。&#39;&#39;&#39;</span>

<span class="token number">1.</span> pickle<span class="token punctuation">.</span>dump<span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token builtin">file</span><span class="token punctuation">[</span><span class="token punctuation">,</span> protocol<span class="token punctuation">]</span><span class="token punctuation">)</span>
　　序列化对象，并将结果数据流写入到文件对象中。参数protocol是序列化模式，默认值为<span class="token number">0</span>，表示以文本的形式序列化。		protocol的值还可以是<span class="token number">1</span>或<span class="token number">2</span>，表示以二进制的形式序列化。
<span class="token number">1.</span> pickle<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token builtin">file</span><span class="token punctuation">)</span>
　　反序列化对象。将文件中的数据解析为一个Python对象。
　　
<span class="token comment">#其中要注意的是，在load(file)的时候，要让python能够找到类的定义，否则会报错：</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h5 id="_2-networks-from-dict-of-lists" tabindex="-1"><a class="header-anchor" href="#_2-networks-from-dict-of-lists" aria-hidden="true">#</a> 2. networks.from_dict_of_lists</h5><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 读取字典对象, 并制成graph</span>
dol<span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">}</span> <span class="token comment"># single edge (0,1)</span>
G<span class="token operator">=</span>nx<span class="token punctuation">.</span>from_dict_of_lists<span class="token punctuation">(</span>dol<span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_1月" tabindex="-1"><a class="header-anchor" href="#_1月" aria-hidden="true">#</a> 1月</h2><h3 id="_1月14日" tabindex="-1"><a class="header-anchor" href="#_1月14日" aria-hidden="true">#</a> 1月14日</h3><h4 id="_1-java-处理json" tabindex="-1"><a class="header-anchor" href="#_1-java-处理json" aria-hidden="true">#</a> 1. Java 处理JSON</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;/aaa&quot;</span><span class="token punctuation">,</span>  method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>POST<span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token keyword">public</span> <span class="token class-name">JSONObject</span> <span class="token function">aaa</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">JSONObject</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 一.读取json数据</span>
        <span class="token punctuation">{</span>
            <span class="token string">&quot;num&quot;</span><span class="token operator">:</span> <span class="token number">1234567</span><span class="token punctuation">,</span>
            <span class="token string">&quot;pwd&quot;</span><span class="token operator">:</span> <span class="token number">689753</span><span class="token punctuation">,</span>
            <span class="token string">&quot;arr&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token operator">:</span><span class="token number">12</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;李四&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token operator">:</span><span class="token number">13</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;王五&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token operator">:</span><span class="token number">14</span><span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 1.普通数据</span>
        <span class="token class-name">Integer</span> num <span class="token operator">=</span> user<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;num&quot;</span><span class="token punctuation">)</span>
        <span class="token comment">// 2.列表嵌套json  </span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&gt;</span></span> mmm <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ArrayList</span><span class="token punctuation">)</span> user<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;arr&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Map</span> mm <span class="token operator">:</span> mmm<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>mm<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token comment">// 二. 创建JSONObject实例并返回</span>
        <span class="token comment">//1. 普通数据</span>
        <span class="token class-name">JSONObject</span> user_ <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JSONObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user_<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;num&quot;</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;num&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//2. 列表</span>
        <span class="token class-name">JSONObject</span> info <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JSONObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        info<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;num&quot;</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;num&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//创建{}</span>
        <span class="token class-name">JSONArray</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JSONArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        arr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>user__<span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token comment">// 创建列表arr[],并把info添加到arr中 =&gt; [{},{}]</span>
        user_<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;套娃&quot;</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">// { key:val, key: [{}, {}]}</span>
        <span class="token keyword">return</span> user_<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h4 id="_2-arraylist" tabindex="-1"><a class="header-anchor" href="#_2-arraylist" aria-hidden="true">#</a> 2. ArrayList</h4><ol><li>添加: add()</li><li>取值: get( int index )</li><li>修改: set( int index, Object obj)</li><li>删除: remove(int index)</li><li>计算大小: list.size()方法</li></ol><table><thead><tr><th><a href="https://www.runoob.com/java/java-arraylist-addall.html" target="_blank" rel="noopener noreferrer">addAll()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></th><th>添加集合中的所有元素到 arraylist 中</th></tr></thead><tbody><tr><td><a href="https://www.runoob.com/java/java-arraylist-clear.html" target="_blank" rel="noopener noreferrer">clear()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>删除 arraylist 中的所有元素</td></tr><tr><td><a href="https://www.runoob.com/java/java-arraylist-clone.html" target="_blank" rel="noopener noreferrer">clone()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>复制一份 arraylist</td></tr><tr><td><a href="https://www.runoob.com/java/java-arraylist-contains.html" target="_blank" rel="noopener noreferrer">contains()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>判断元素是否在 arraylist</td></tr><tr><td><a href="https://www.runoob.com/java/java-arraylist-indexof.html" target="_blank" rel="noopener noreferrer">indexOf()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>返回 arraylist 中元素的索引值</td></tr><tr><td><a href="https://www.runoob.com/java/java-arraylist-removeall.html" target="_blank" rel="noopener noreferrer">removeAll()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>删除存在于指定集合中的 arraylist 里的所有元素</td></tr><tr><td><a href="https://www.runoob.com/java/java-arraylist-remove.html" target="_blank" rel="noopener noreferrer">remove()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>删除 arraylist 里的单个元素</td></tr><tr><td><a href="https://www.runoob.com/java/java-arraylist-isempty.html" target="_blank" rel="noopener noreferrer">isEmpty()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>判断 arraylist 是否为空</td></tr><tr><td><a href="https://www.runoob.com/java/java-arraylist-sublist.html" target="_blank" rel="noopener noreferrer">subList()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>截取部分 arraylist 的元素</td></tr><tr><td><a href="https://www.runoob.com/java/java-arraylist-sort.html" target="_blank" rel="noopener noreferrer">sort()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>对 arraylist 元素进行排序</td></tr><tr><td><a href="https://www.runoob.com/java/java-arraylist-toarray.html" target="_blank" rel="noopener noreferrer">toArray()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>将 arraylist 转换为数组</td></tr><tr><td><a href="https://www.runoob.com/java/java-arraylist-surecapacity.html" target="_blank" rel="noopener noreferrer">ensureCapacity<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>()</td><td>设置指定容量大小的 arraylist</td></tr><tr><td><a href="https://www.runoob.com/java/java-arraylist-lastindexof.html" target="_blank" rel="noopener noreferrer">lastIndexOf()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>返回指定元素在 arraylist 中最后一次出现的位置</td></tr><tr><td><a href="https://www.runoob.com/java/java-arraylist-retainall.html" target="_blank" rel="noopener noreferrer">retainAll()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>保留 arraylist 中在指定集合中也存在的那些元素</td></tr><tr><td><a href="https://www.runoob.com/java/java-arraylist-containsall.html" target="_blank" rel="noopener noreferrer">containsAll()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>查看 arraylist 是否包含指定集合中的所有元素</td></tr><tr><td><a href="https://www.runoob.com/java/java-arraylist-trimtosize.html" target="_blank" rel="noopener noreferrer">trimToSize()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>将 arraylist 中的容量调整为数组中的元素个数</td></tr><tr><td><a href="https://www.runoob.com/java/java-arraylist-removerange.html" target="_blank" rel="noopener noreferrer">removeRange()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>删除 arraylist 中指定索引之间存在的元素</td></tr><tr><td><a href="https://www.runoob.com/java/java-arraylist-replaceall.html" target="_blank" rel="noopener noreferrer">replaceAll()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>将给定的操作内容替换掉数组中每一个元素</td></tr><tr><td><a href="https://www.runoob.com/java/java-arraylist-removeif.html" target="_blank" rel="noopener noreferrer">removeIf()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>删除所有满足特定条件的 arraylist 元素</td></tr></tbody></table><h4 id="_3-hashmap" tabindex="-1"><a class="header-anchor" href="#_3-hashmap" aria-hidden="true">#</a> 3. HashMap</h4><p>创建Map: HashMap&lt;String, String&gt; map = <strong>new</strong> HashMap&lt;String, String&gt;();</p><ol><li><p>添加 : map.put(&quot;key&quot; : &quot;value&quot; )</p></li><li><p>获取 : map.get(int index)</p></li><li><p>删除 : map.remove(int index)</p></li><li><p>迭代方法</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 方法1    map.keySet()返回键集合   使用map.get(key)获取value</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span> i <span class="token operator">:</span> <span class="token class-name">Sites</span><span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;key: &quot;</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">&quot; value: &quot;</span> <span class="token operator">+</span> <span class="token class-name">Sites</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 方法2    map.values()返回值集合   </span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> value<span class="token operator">:</span> <span class="token class-name">Sites</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>value <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ol><table><thead><tr><th><a href="https://www.runoob.com/java/java-hashmap-clear.html" target="_blank" rel="noopener noreferrer">clear()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></th><th>删除 hashMap 中的所有键/值对</th></tr></thead><tbody><tr><td><a href="https://www.runoob.com/java/java-hashmap-clone.html" target="_blank" rel="noopener noreferrer">clone()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>复制一份 hashMap</td></tr><tr><td><a href="https://www.runoob.com/java/java-hashmap-isempty.html" target="_blank" rel="noopener noreferrer">isEmpty()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>判断 hashMap 是否为空</td></tr><tr><td><a href="https://www.runoob.com/java/java-hashmap-size.html" target="_blank" rel="noopener noreferrer">size()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>计算 hashMap 中键/值对的数量</td></tr><tr><td><a href="https://www.runoob.com/java/java-hashmap-put.html" target="_blank" rel="noopener noreferrer">put()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>将键/值对添加到 hashMap 中</td></tr><tr><td><a href="https://www.runoob.com/java/java-hashmap-putall.html" target="_blank" rel="noopener noreferrer">putAll()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>将所有键/值对添加到 hashMap 中</td></tr><tr><td><a href="https://www.runoob.com/java/java-hashmap-putifabsent.html" target="_blank" rel="noopener noreferrer">putIfAbsent()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>如果 hashMap 中不存在指定的键，则将指定的键/值对插入到 hashMap 中。</td></tr><tr><td><a href="https://www.runoob.com/java/java-hashmap-remove.html" target="_blank" rel="noopener noreferrer">remove()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>删除 hashMap 中指定键 key 的映射关系</td></tr><tr><td><a href="https://www.runoob.com/java/java-hashmap-containskey.html" target="_blank" rel="noopener noreferrer">containsKey()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>检查 hashMap 中是否存在指定的 key 对应的映射关系。</td></tr><tr><td><a href="https://www.runoob.com/java/java-hashmap-containsvalue.html" target="_blank" rel="noopener noreferrer">containsValue()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>检查 hashMap 中是否存在指定的 value 对应的映射关系。</td></tr><tr><td><a href="https://www.runoob.com/java/java-hashmap-replace.html" target="_blank" rel="noopener noreferrer">replace()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>替换 hashMap 中是指定的 key 对应的 value。</td></tr><tr><td><a href="https://www.runoob.com/java/java-hashmap-replaceall.html" target="_blank" rel="noopener noreferrer">replaceAll()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>将 hashMap 中的所有映射关系替换成给定的函数所执行的结果。</td></tr><tr><td><a href="https://www.runoob.com/java/java-hashmap-get.html" target="_blank" rel="noopener noreferrer">get()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>获取指定 key 对应对 value</td></tr><tr><td><a href="https://www.runoob.com/java/java-hashmap-getordefault.html" target="_blank" rel="noopener noreferrer">getOrDefault()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>获取指定 key 对应对 value，如果找不到 key ，则返回设置的默认值</td></tr><tr><td><a href="https://www.runoob.com/java/java-hashmap-foreach.html" target="_blank" rel="noopener noreferrer">forEach()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>对 hashMap 中的每个映射执行指定的操作。</td></tr><tr><td><a href="https://www.runoob.com/java/java-hashmap-entryset.html" target="_blank" rel="noopener noreferrer">entrySet()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>返回 hashMap 中所有映射项的集合集合视图。</td></tr><tr><td><a href="https://www.runoob.com/java/java-hashmap-keyset.html" target="_blank" rel="noopener noreferrer">keySet<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>()</td><td>返回 hashMap 中所有 key 组成的集合视图。</td></tr><tr><td><a href="https://www.runoob.com/java/java-hashmap-values.html" target="_blank" rel="noopener noreferrer">values()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>返回 hashMap 中存在的所有 value 值。</td></tr><tr><td><a href="https://www.runoob.com/java/java-hashmap-merge.html" target="_blank" rel="noopener noreferrer">merge()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>添加键值对到 hashMap 中</td></tr><tr><td><a href="https://www.runoob.com/java/java-hashmap-compute.html" target="_blank" rel="noopener noreferrer">compute()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>对 hashMap 中指定 key 的值进行重新计算</td></tr><tr><td><a href="https://www.runoob.com/java/java-hashmap-computeifabsent.html" target="_blank" rel="noopener noreferrer">computeIfAbsent()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>对 hashMap 中指定 key 的值进行重新计算，如果不存在这个 key，则添加到 hasMap 中</td></tr><tr><td><a href="https://www.runoob.com/java/java-hashmap-computeifpresent.html" target="_blank" rel="noopener noreferrer">computeIfPresent()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>对 hashMap 中指定 key 的值进行重新计算，前提是该 key 存在于 hashMap 中。</td></tr></tbody></table><h3 id="_1月15日" tabindex="-1"><a class="header-anchor" href="#_1月15日" aria-hidden="true">#</a> 1月15日</h3><h4 id="_1-神经八股复习" tabindex="-1"><a class="header-anchor" href="#_1-神经八股复习" aria-hidden="true">#</a> 1. 神经八股复习</h4><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 1. 引入数据集</span>
fashion_mnist <span class="token operator">=</span> tf<span class="token punctuation">.</span>keras<span class="token punctuation">.</span>datasets<span class="token punctuation">.</span>fashion_mnist
<span class="token comment"># (x_train, y_train), (x_test, y_test) = mnist.load_data()</span>
<span class="token punctuation">(</span>x_train<span class="token punctuation">,</span> y_train<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>x_test<span class="token punctuation">,</span> y_test<span class="token punctuation">)</span> <span class="token operator">=</span> fashion_mnist<span class="token punctuation">.</span>load_data<span class="token punctuation">(</span><span class="token punctuation">)</span>
x_train<span class="token punctuation">,</span> x_test <span class="token operator">=</span> x_train<span class="token operator">/</span><span class="token number">255.0</span><span class="token punctuation">,</span> x_test<span class="token operator">/</span><span class="token number">255.0</span>
<span class="token comment"># 2. 搭建神经网络</span>
model <span class="token operator">=</span> tf<span class="token punctuation">.</span>keras<span class="token punctuation">.</span>Sequential<span class="token punctuation">(</span><span class="token punctuation">[</span>
    tf<span class="token punctuation">.</span>keras<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>Flatten<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    tf<span class="token punctuation">.</span>keras<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>Dense<span class="token punctuation">(</span><span class="token number">128</span><span class="token punctuation">,</span> activation<span class="token operator">=</span><span class="token string">&#39;relu&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment"># tf.keras.layers.Dense(32, activation=&#39;sigmoid&#39;,kernel_regularizer=tf.keras.regularizers.l2()),</span>
    tf<span class="token punctuation">.</span>keras<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>Dense<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> activation<span class="token operator">=</span><span class="token string">&#39;softmax&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># 3. 选择 优化器 | 损失函数 | 以及metrics</span>
model<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span>  optimizer<span class="token operator">=</span><span class="token string">&#39;adam&#39;</span><span class="token punctuation">,</span>
                loss<span class="token operator">=</span>tf<span class="token punctuation">.</span>keras<span class="token punctuation">.</span>losses<span class="token punctuation">.</span>SparseCategoricalCrossentropy<span class="token punctuation">(</span>from_logits<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                metrics<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;sparse_categorical_accuracy&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># PS: metrics可选:    y_ = y_train  y = x_train * w + b</span>
        <span class="token number">1.</span> <span class="token string">&#39;accuracy&#39;</span>  y_和y都是数值
        <span class="token number">2.</span> <span class="token string">&#39;categorical_accuracy&#39;</span> y_和y都是独热码
        <span class="token number">3.</span> <span class="token string">&#39;sparsecategorical_accuracy&#39;</span> y_是数值y是独热码
<span class="token comment"># 4. 执行训练过程</span>
model<span class="token punctuation">.</span>fit<span class="token punctuation">(</span>
    x_train<span class="token punctuation">,</span> y_train<span class="token punctuation">,</span> 
    batch_size<span class="token operator">=</span><span class="token number">48</span><span class="token punctuation">,</span> epochs<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> 
    validation_data<span class="token operator">=</span><span class="token punctuation">(</span>x_test<span class="token punctuation">,</span>y_test<span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">#(1)任选一个 选择测试集</span>
    validation_split<span class="token operator">=</span>                 <span class="token comment">#(2)任选一个 不选择测试集, 从训练集中划分一块作为测试集</span>
    validation_freq<span class="token operator">=</span><span class="token number">1</span>   <span class="token comment"># 多少epoch测试一次</span>
<span class="token punctuation">)</span>
<span class="token comment"># 5. 打印网络结构和参数统计</span>
model<span class="token punctuation">.</span>summary<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h4 id="_2-numpy方法" tabindex="-1"><a class="header-anchor" href="#_2-numpy方法" aria-hidden="true">#</a> 2. numpy方法</h4><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token number">1.</span>   reshape<span class="token punctuation">(</span>数据<span class="token punctuation">,</span> 形状<span class="token punctuation">)</span>  <span class="token operator">=</span><span class="token operator">&gt;</span>   x_train <span class="token operator">=</span> np<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span>x_train<span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>x_train<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token number">2.</span>   np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>shuffle<span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment"># 列表打乱重排, 将x_train和y_train用相同的随机数重排</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="_3-rnn期望的输入形状" tabindex="-1"><a class="header-anchor" href="#_3-rnn期望的输入形状" aria-hidden="true">#</a> 3. RNN期望的输入形状</h4><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 以字母预测为例    a-&gt;b b-&gt;c c-&gt;d d-&gt;e e-&gt;a</span>
x_train <span class="token operator">=</span> np<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span>x_train<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>x_train<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    
<span class="token triple-quoted-string string">&#39;&#39;&#39;
三个参数分别是 (送入样本数 循环核时间展开步数 每个时间步输入特征数)
这里每次输入一个字母 返回一个预测字母(输入一次就给出预测结果)  所以循环核时间展开步数为1
输入特征是独热码[1,0,0,0,0]有五个值,所以每个时间步输入特征数为5 
&#39;&#39;&#39;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_1月16日" tabindex="-1"><a class="header-anchor" href="#_1月16日" aria-hidden="true">#</a> 1月16日</h3><h4 id="_1-embedding编码" tabindex="-1"><a class="header-anchor" href="#_1-embedding编码" aria-hidden="true">#</a> 1. Embedding编码</h4><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 在sequential中搭建神经网络时先进行embedding编码</span>
<span class="token comment"># 1. 将x_train变成embedding期待的形状</span>
x_train <span class="token operator">=</span> np<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span>x_train<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>x_train<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment"># (样本数, 时间展开步数)</span>
<span class="token comment"># 2. 搭建神经网络</span>
model <span class="token operator">=</span> tf<span class="token punctuation">.</span>keras<span class="token punctuation">.</span>Sequential<span class="token punctuation">(</span><span class="token punctuation">[</span>
    Embedding<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>   <span class="token comment"># (需要表示的结果数量, 编码维度(几个数字能表示一个结果))</span>
    SimpleRNN<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    Dense<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> activation<span class="token operator">=</span><span class="token string">&#39;softmax&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="_2-spring-mvc" tabindex="-1"><a class="header-anchor" href="#_2-spring-mvc" aria-hidden="true">#</a> 2. spring MVC</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>    <span class="token comment">/// 1. 普通传参</span>
	<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;/index3&quot;</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>POST<span class="token punctuation">,</span> params<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;id=10&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// ！！！注意！！！ id 的类型已经被自动完成类型转换</span>
    <span class="token comment">//0 public String index3(String name, int id) {    正常</span>
    <span class="token comment">//(1) 如果不想用name 和 id 作为参数  需要进行参数绑定</span>
    <span class="token comment">//(2)（1）public String index3(String str, int age) {    报错</span>
    <span class="token comment">//(2)（2） public String index3(String str, Integer age) {   不报错 但值均为Null</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">index3</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> str<span class="token punctuation">,</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;执行了带有参数的POST请求&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// return &quot;您传递的name是&quot; + name + &quot; id是&quot; + id;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;您传递的name是&quot;</span> <span class="token operator">+</span> str <span class="token operator">+</span> <span class="token string">&quot; id是&quot;</span> <span class="token operator">+</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/// 2. rest风格的传参  必须进行参数映射</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;/rest/{name}/{id}&quot;</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>POST<span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">rest</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token keyword">int</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;您传递的name是&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot; id是&quot;</span> <span class="token operator">+</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/// 3. 取出cookie信息</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/cookie&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> cookie <span class="token punctuation">(</span><span class="token annotation punctuation">@CookieValue</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;JSESSIONID&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> sessionId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;SESSIONID: &quot;</span> <span class="token operator">+</span> sessionId <span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h4 id="_3-springboot-水" tabindex="-1"><a class="header-anchor" href="#_3-springboot-水" aria-hidden="true">#</a> 3. SpringBoot(水)</h4><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8081</span>  <span class="token comment"># 默认端口</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="_4-pandas读取列" tabindex="-1"><a class="header-anchor" href="#_4-pandas读取列" aria-hidden="true">#</a> 4. pandas读取列</h4><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">&#39;./pandas/test.csv&#39;</span><span class="token punctuation">)</span>
<span class="token comment"># 1. loc单行</span>
<span class="token comment"># 2. iloc[1:2,3:4] 按索引 行和列</span>
<span class="token comment"># 3. iloc[[1,2,3], [2,3]] 第1,2,3行的第2,3列</span>
data_name_and_score <span class="token operator">=</span> data<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span>values  <span class="token comment"># iloc方法 [行, 列] 都是前闭后开  结果以二维数组表示</span>
<span class="token comment"># 4. 写入csv/excel</span>
df<span class="token punctuation">.</span>to_csv<span class="token punctuation">(</span><span class="token string">&#39;a.csv&#39;</span><span class="token punctuation">)</span> 
df<span class="token punctuation">.</span>to_excel<span class="token punctuation">(</span><span class="token string">&#39;a.xlsx&#39;</span><span class="token punctuation">,</span> sheet_name<span class="token operator">=</span><span class="token string">&#39;sheet1&#39;</span><span class="token punctuation">)</span> 
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="_5-numpy" tabindex="-1"><a class="header-anchor" href="#_5-numpy" aria-hidden="true">#</a> 5. numpy</h4><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 1. np.asarray() 可以将数据转为numpy格式</span>
<span class="token comment"># 2. data.flatten() 可以将数据拉为一维</span>
<span class="token comment"># 3. reshaape(data, (1,-1))   (数据, 形状) 不必多说</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_1月17日" tabindex="-1"><a class="header-anchor" href="#_1月17日" aria-hidden="true">#</a> 1月17日</h3><h4 id="_1-sequential参数" tabindex="-1"><a class="header-anchor" href="#_1-sequential参数" aria-hidden="true">#</a> 1. Sequential参数</h4><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 1. RNN</span>
SimpleRNN<span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> return_sequences<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># 两层都是RNN时,前一层要加上return_sequences=True</span>
<span class="token comment"># 2. Dropout</span>
Dropout<span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># 随即扔掉一些神经元, 防止过拟合, 可以先设为0, 逐渐调大, 找到最优值</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="_2-cp-callbacks参数" tabindex="-1"><a class="header-anchor" href="#_2-cp-callbacks参数" aria-hidden="true">#</a> 2. cp_callbacks参数</h4><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>cp_callback <span class="token operator">=</span> tf<span class="token punctuation">.</span>keras<span class="token punctuation">.</span>callbacks<span class="token punctuation">.</span>ModelCheckPoint<span class="token punctuation">(</span>
    filepath <span class="token operator">=</span> checkpoint_save_path<span class="token punctuation">,</span>
    save_weights_only <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">,</span>
    save_best_only <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">,</span>
    monitor <span class="token operator">=</span> <span class="token string">&#39;var_loss&#39;</span><span class="token punctuation">,</span> <span class="token comment"># 指定需要监测的值</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_3-model-fit参数" tabindex="-1"><a class="header-anchor" href="#_3-model-fit参数" aria-hidden="true">#</a> 3. model.fit参数</h4><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 都用来描述验证集, 与测试集不同</span>
validation_data<span class="token operator">=</span><span class="token punctuation">(</span>x_test<span class="token punctuation">,</span> y_test<span class="token punctuation">)</span><span class="token punctuation">,</span>
validation_freq<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>
<span class="token triple-quoted-string string">&#39;&#39;&#39;
其实验证集是从训练集中抽取出来用于调参的，
而测试集是和训练集无交集的，用于测试所选参数用于该模型的效果的，这个还是不要弄错了。。。
在Keras中，验证集的划分只要在fit函数里设置validation_split的值就好了，这个对应了取训练集中百分之几的数据出来当做验证集。
&#39;&#39;&#39;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ol><li><blockquote><p>训练集（train set） —— 用于模型拟合的数据样本。在训练过程中对训练误差进行梯度下降</p><p>作用:训练的权重参数。</p></blockquote></li><li><blockquote><p>验证集（validation set）—— 是模型训练过程中单独留出的样本集，</p><p>作用:调整模型的超参数 验证集可以用在训练的过程中，一般在训练时，几个epoch结束后跑一次验证集看看效果。(验证得太频繁会影响训练速度)这样做的第一个好处是，可以及时发现模型或者参数的问题，比如模型在验证集上发散啦、出现很奇怪的结果啦(如无穷大)、mAP不增长或者增长很慢啦等等情况，这时可以及时终止训练，重新调参或者调整模型，而不需要等到训练结束。另外一个好处是验证模型的泛化能力，如果在验证集上的效果比训练集上差很多，就该考虑模型是否过拟合了。同时，还可以通过验证集对比不同的模型。在一般的神经网络中， 我们用验证数据集去寻找最优的网络深度（number of hidden layers)，或者决定反向传播算法的停止点或者在神经网络中选择隐藏层神经元的数量； 由于验证集是用来”训练”超参数的，尽管验证集的误差通常会比训练集误差小，一般来说验证集比较小会低估泛化误差。所有超参数优化完成之后，泛化误差可能会通过测试集来估计。<br> 在普通的机器学习中常用的交叉验证（Cross Validation) 就是把训练数据集本身再细分成不同的验证数据集去训练模型。</p></blockquote></li><li><blockquote><p>测试集 —— 用来评估模最终模型的泛化能力。但不能作为调参、选择特征等算法相关的选择的依据。</p><p>作用: 只是验证</p></blockquote></li></ol><h4 id="_4-归一化操作" tabindex="-1"><a class="header-anchor" href="#_4-归一化操作" aria-hidden="true">#</a> 4. 归一化操作</h4><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> sklearn<span class="token punctuation">.</span>preprocessing <span class="token keyword">import</span> MinMaxScaler
motai <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">&#39;./tensorflow/SH600519.csv&#39;</span><span class="token punctuation">)</span>
train_set <span class="token operator">=</span> motai<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2426</span><span class="token operator">-</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span>values
test_set <span class="token operator">=</span> motai<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">2426</span><span class="token operator">-</span><span class="token number">300</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span>values
<span class="token comment"># !! 归一化 !!</span>
sc <span class="token operator">=</span> MinMaxScaler<span class="token punctuation">(</span>feature_range<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 定义归一化, 选定范围到(0-1)间</span>
train_set_scaled <span class="token operator">=</span> sc<span class="token punctuation">.</span>fit_transform<span class="token punctuation">(</span>train_set<span class="token punctuation">)</span>
<span class="token comment"># fit 求得训练集固有属性(如平均值, 最大值, 方差等), transform对训练集进行归一化</span>
test_set <span class="token operator">=</span> sc<span class="token punctuation">.</span>transform<span class="token punctuation">(</span>test_set<span class="token punctuation">)</span>
<span class="token comment"># 利用训练集的属性对测试集进行归一化</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="_5-tensorboard使用" tabindex="-1"><a class="header-anchor" href="#_5-tensorboard使用" aria-hidden="true">#</a> 5. TensorBoard使用</h4><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 1. 设置路径和文件名</span>
log_dir<span class="token operator">=</span><span class="token string">&quot;logs/fit/&quot;</span> <span class="token operator">+</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">&quot;%Y%m%d-%H%M%S&quot;</span><span class="token punctuation">)</span>
<span class="token comment"># 2. 添加 tf.keras.callback.TensorBoard 回调可确保创建和存储日志</span>
tensorboard_callback <span class="token operator">=</span> tf<span class="token punctuation">.</span>keras<span class="token punctuation">.</span>callbacks<span class="token punctuation">.</span>TensorBoard<span class="token punctuation">(</span>log_dir<span class="token operator">=</span>log_dir<span class="token punctuation">,</span> histogram_freq<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment"># 3. callbacks中加入</span>
callbacks <span class="token operator">=</span> <span class="token punctuation">[</span>cp_callback<span class="token punctuation">,</span>tensorboard_callback<span class="token punctuation">]</span>
<span class="token comment"># 4. 控制台运行  (需要将tensorboard加入环境变量  例如:C:\Users\YMZ\anaconda3\envs\tf2\Scripts  )</span>
tensorboard <span class="token operator">-</span><span class="token operator">-</span>logdir logs<span class="token operator">/</span>fit
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_1月18日" tabindex="-1"><a class="header-anchor" href="#_1月18日" aria-hidden="true">#</a> 1月18日</h3><h4 id="_1-傻子预测股市" tabindex="-1"><a class="header-anchor" href="#_1-傻子预测股市" aria-hidden="true">#</a> 1. 傻子预测股市</h4><ol><li>输入 : 60 天的开盘价</li><li>输出 : 61天的开盘价</li><li>把预测的61天当作输入值 , 重复上述实验</li><li>结果 : 曲线趋于平坦, 没用</li></ol><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>i <span class="token operator">=</span> <span class="token number">500</span>
data60_ori <span class="token operator">=</span> maotai<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">1213</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span>values
<span class="token keyword">def</span> <span class="token function">pre</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> data60_ori<span class="token punctuation">)</span><span class="token punctuation">:</span>
    i <span class="token operator">-=</span> <span class="token number">1</span>
    <span class="token keyword">if</span> i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
        data60 <span class="token operator">=</span> data60_ori
        data60 <span class="token operator">=</span> sc<span class="token punctuation">.</span>transform<span class="token punctuation">(</span>data60<span class="token punctuation">)</span>
        readyfortest <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        readyfortest<span class="token punctuation">.</span>append<span class="token punctuation">(</span>data60<span class="token punctuation">[</span><span class="token builtin">len</span><span class="token punctuation">(</span>data60<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">60</span><span class="token punctuation">:</span><span class="token builtin">len</span><span class="token punctuation">(</span>data60<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        readyfortest <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>readyfortest<span class="token punctuation">)</span>
        readyfortest <span class="token operator">=</span> np<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span>readyfortest<span class="token punctuation">,</span> <span class="token punctuation">(</span>readyfortest<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        preprice <span class="token operator">=</span> model<span class="token punctuation">.</span>predict<span class="token punctuation">(</span>readyfortest<span class="token punctuation">)</span>
        preprice <span class="token operator">=</span> sc<span class="token punctuation">.</span>inverse_transform<span class="token punctuation">(</span>preprice<span class="token punctuation">)</span>
        data60_ori <span class="token operator">=</span> np<span class="token punctuation">.</span>vstack<span class="token punctuation">(</span><span class="token punctuation">(</span>data60_ori<span class="token punctuation">,</span> preprice<span class="token punctuation">)</span><span class="token punctuation">)</span>
        pre<span class="token punctuation">(</span>i<span class="token punctuation">,</span> data60_ori<span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span> 
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;------over------&#39;</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>data60_ori<span class="token punctuation">.</span>shape<span class="token punctuation">)</span>
        plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>all_set<span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token string">&#39;r&#39;</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">&#39;Real Price&#39;</span><span class="token punctuation">)</span>
        plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>data60_ori<span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token string">&#39;b&#39;</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">&#39;Predict Price&#39;</span><span class="token punctuation">)</span>
        plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>test1<span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token string">&#39;y&#39;</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">&#39;Predict Price&#39;</span><span class="token punctuation">)</span>
        plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span><span class="token punctuation">)</span>
        plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h4 id="_2-pandas-删除列" tabindex="-1"><a class="header-anchor" href="#_2-pandas-删除列" aria-hidden="true">#</a> 2. pandas 删除列</h4><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 在数据预处理中，需要删除dataframe的一列的话，可以使用下面的方法。</span>
train <span class="token operator">=</span> train<span class="token punctuation">.</span>drop<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment"># 其中axis=1代表的是要删除一列，而不是一行。</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="_3-pandas-解析时间" tabindex="-1"><a class="header-anchor" href="#_3-pandas-解析时间" aria-hidden="true">#</a> 3. pandas 解析时间</h4><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>trips <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">&#39;./data/trips.csv&#39;</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">&#39;gbk&#39;</span><span class="token punctuation">)</span> 
<span class="token comment"># 1. 转换格式</span>
trips<span class="token punctuation">[</span><span class="token string">&#39;进站时间&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span>trips<span class="token punctuation">[</span><span class="token string">&#39;进站时间&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token builtin">format</span><span class="token operator">=</span><span class="token string">&quot;%Y/%m/%d %H:%M&quot;</span><span class="token punctuation">)</span>
<span class="token comment"># 2. 解析</span>
year <span class="token operator">=</span> trips<span class="token punctuation">[</span><span class="token string">&#39;某一列&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dt<span class="token punctuation">.</span>year  <span class="token comment"># 获取一列</span>
year <span class="token operator">=</span> trips<span class="token punctuation">[</span><span class="token string">&#39;某一列&#39;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token builtin">int</span> index<span class="token punctuation">]</span><span class="token punctuation">.</span>year <span class="token comment"># 只获取一个</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_4-pandas筛选数据" tabindex="-1"><a class="header-anchor" href="#_4-pandas筛选数据" aria-hidden="true">#</a> 4. pandas筛选数据</h4><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 1. ==</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> trips<span class="token punctuation">.</span>loc<span class="token punctuation">[</span> trips<span class="token punctuation">[</span><span class="token string">&#39;进站时间&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dt<span class="token punctuation">.</span>month<span class="token punctuation">.</span>isin<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">]</span><span class="token punctuation">)</span> 
<span class="token comment"># 2. is in [] </span>
<span class="token keyword">print</span><span class="token punctuation">(</span> trips<span class="token punctuation">.</span>loc<span class="token punctuation">[</span> trips<span class="token punctuation">[</span><span class="token string">&#39;进站时间&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dt<span class="token punctuation">.</span>month<span class="token punctuation">.</span>isin<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># 3.  &amp; | !</span>
注意只有一个 <span class="token operator">&amp;</span> 或 <span class="token operator">|</span>
<span class="token comment"># 4. 筛选结果计数 (两种都行)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> trips<span class="token punctuation">.</span>loc<span class="token punctuation">[</span> trips<span class="token punctuation">[</span><span class="token string">&#39;进站时间&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dt<span class="token punctuation">.</span>month<span class="token punctuation">.</span>isin<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">]</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
<span class="token keyword">print</span><span class="token punctuation">(</span> trips<span class="token punctuation">.</span>loc<span class="token punctuation">[</span> trips<span class="token punctuation">[</span><span class="token string">&#39;进站时间&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dt<span class="token punctuation">.</span>month<span class="token punctuation">.</span>isin<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&#39;进站时间&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  


</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_1月19日" tabindex="-1"><a class="header-anchor" href="#_1月19日" aria-hidden="true">#</a> 1月19日</h3><h4 id="_1-pandas行列操作" tabindex="-1"><a class="header-anchor" href="#_1-pandas行列操作" aria-hidden="true">#</a> 1. pandas行列操作</h4><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 1. 判断是星期几</span>
trips<span class="token punctuation">[</span><span class="token string">&#39;dayofweek&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> trips<span class="token punctuation">[</span><span class="token string">&#39;进站时间&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dt<span class="token punctuation">.</span>dayofweek
<span class="token comment"># 2. 新增行/列</span>
trips<span class="token punctuation">[</span><span class="token string">&#39;new_col&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&#39;0&#39;</span>
trips<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token string">&#39;new_row&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&#39;0&#39;</span>
<span class="token comment"># 3. 遍历行</span>
<span class="token keyword">for</span> index<span class="token punctuation">,</span> row <span class="token keyword">in</span> trips<span class="token punctuation">.</span>iterrows<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token comment"># 4. 替换某格数据</span>
trips<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span>index<span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> row_<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="_2-pandas日期-完整" tabindex="-1"><a class="header-anchor" href="#_2-pandas日期-完整" aria-hidden="true">#</a> 2. pandas日期(完整)</h4><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>pandas 日期时间数据的分割提取操作
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> time
s<span class="token operator">=</span>time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
data_2019<span class="token operator">=</span>pd<span class="token punctuation">.</span>read_excel<span class="token punctuation">(</span><span class="token string">&#39;d:\\data\\abc.xlsx&#39;</span><span class="token punctuation">)</span>
data<span class="token operator">=</span>data_2019<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#39;卡号&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;交易时间&#39;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
data<span class="token punctuation">[</span><span class="token string">&#39;日期&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span>data_2019<span class="token punctuation">[</span><span class="token string">&#39;交易时间&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dt<span class="token punctuation">.</span>date
data<span class="token punctuation">[</span><span class="token string">&#39;时间&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span>data_2019<span class="token punctuation">[</span><span class="token string">&#39;交易时间&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dt<span class="token punctuation">.</span>time
data<span class="token punctuation">[</span><span class="token string">&#39;年&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> data_2019<span class="token punctuation">[</span><span class="token string">&#39;交易时间&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dt<span class="token punctuation">.</span>year
data<span class="token punctuation">[</span><span class="token string">&#39;季节&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> data_2019<span class="token punctuation">[</span><span class="token string">&#39;交易时间&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dt<span class="token punctuation">.</span>quarter
data<span class="token punctuation">[</span><span class="token string">&#39;月&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> data_2019<span class="token punctuation">[</span><span class="token string">&#39;交易时间&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dt<span class="token punctuation">.</span>month
data<span class="token punctuation">[</span><span class="token string">&#39;周&#39;</span><span class="token punctuation">]</span><span class="token operator">=</span>data_2019<span class="token punctuation">[</span><span class="token string">&#39;交易时间&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dt<span class="token punctuation">.</span>week
data<span class="token punctuation">[</span><span class="token string">&#39;日&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> data_2019<span class="token punctuation">[</span><span class="token string">&#39;交易时间&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dt<span class="token punctuation">.</span>day
data<span class="token punctuation">[</span><span class="token string">&#39;小时&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span>data_2019<span class="token punctuation">[</span><span class="token string">&#39;交易时间&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dt<span class="token punctuation">.</span>hour
data<span class="token punctuation">[</span><span class="token string">&#39;分钟&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span>data_2019<span class="token punctuation">[</span><span class="token string">&#39;交易时间&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dt<span class="token punctuation">.</span>minute
data<span class="token punctuation">[</span><span class="token string">&#39;秒&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> data_2019<span class="token punctuation">[</span><span class="token string">&#39;交易时间&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dt<span class="token punctuation">.</span>second
data<span class="token punctuation">[</span><span class="token string">&#39;一年第几天&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span>data_2019<span class="token punctuation">[</span><span class="token string">&#39;交易时间&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dt<span class="token punctuation">.</span>dayofyear
data<span class="token punctuation">[</span><span class="token string">&#39;一年第几周&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> data_2019<span class="token punctuation">[</span><span class="token string">&#39;交易时间&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dt<span class="token punctuation">.</span>weekofyear
data<span class="token punctuation">[</span><span class="token string">&#39;一周第几天&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> data_2019<span class="token punctuation">[</span><span class="token string">&#39;交易时间&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dt<span class="token punctuation">.</span>dayofweek
data<span class="token punctuation">[</span><span class="token string">&#39;一个月含有多少天&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> data_2019<span class="token punctuation">[</span><span class="token string">&#39;交易时间&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dt<span class="token punctuation">.</span>days_in_month
data<span class="token punctuation">[</span><span class="token string">&#39;星期名称&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span>data_2019<span class="token punctuation">[</span><span class="token string">&#39;交易时间&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dt<span class="token punctuation">.</span>weekday_name
<span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
data<span class="token punctuation">.</span>to_excel<span class="token punctuation">(</span><span class="token string">&#39;d:\\data\\abcsss.xlsx&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h4 id="_3-series对象" tabindex="-1"><a class="header-anchor" href="#_3-series对象" aria-hidden="true">#</a> 3. Series对象</h4><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># Series 常用属性和方法</span>
获取数据的值<span class="token punctuation">,</span> 使用 values方法
获取索引的值<span class="token punctuation">,</span> 使用 index 方法
获取每对索引的值<span class="token punctuation">,</span> 使用 items 方法
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_1月20日" tabindex="-1"><a class="header-anchor" href="#_1月20日" aria-hidden="true">#</a> 1月20日</h3><h4 id="_1-获取某月天数" tabindex="-1"><a class="header-anchor" href="#_1-获取某月天数" aria-hidden="true">#</a> 1. 获取某月天数</h4><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> calendar
res <span class="token operator">=</span> calendar<span class="token punctuation">.</span>monthrange<span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="_2-纵向显示x轴坐标" tabindex="-1"><a class="header-anchor" href="#_2-纵向显示x轴坐标" aria-hidden="true">#</a> 2. 纵向显示x轴坐标</h4><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">&#39;./sta_flow_by_day.csv&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span>rotation<span class="token operator">=</span><span class="token number">270</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>bar<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string-interpolation"><span class="token string">f&#39;</span><span class="token interpolation"><span class="token punctuation">{</span>month<span class="token punctuation">}</span></span><span class="token string">.</span><span class="token interpolation"><span class="token punctuation">{</span>day<span class="token punctuation">}</span></span><span class="token string">&#39;</span></span> <span class="token keyword">for</span> month<span class="token punctuation">,</span> day <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">&#39;month&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">&#39;day&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">&#39;flow&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_3-pandas筛选注意" tabindex="-1"><a class="header-anchor" href="#_3-pandas筛选注意" aria-hidden="true">#</a> 3. pandas筛选注意</h4><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 不同条件一定要加括号</span>
df <span class="token operator">=</span> df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">&#39;sta&#39;</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">&#39;Sta1&#39;</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">&#39;month&#39;</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_1月21日" tabindex="-1"><a class="header-anchor" href="#_1月21日" aria-hidden="true">#</a> 1月21日</h3><h4 id="_1-分割线-水" tabindex="-1"><a class="header-anchor" href="#_1-分割线-水" aria-hidden="true">#</a> 1. 分割线 (水)</h4><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;#-&amp;-$-@-%-&#39;</span><span class="token operator">*</span><span class="token number">13</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h4 id="_2-防止无key" tabindex="-1"><a class="header-anchor" href="#_2-防止无key" aria-hidden="true">#</a> 2. 防止无key</h4><blockquote><h6 id="try-except真好用" tabindex="-1"><a class="header-anchor" href="#try-except真好用" aria-hidden="true">#</a> try except真好用</h6></blockquote><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">for</span> key <span class="token keyword">in</span> stas<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    month <span class="token operator">=</span> stas<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
    <span class="token keyword">for</span> sta <span class="token keyword">in</span> month<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            big_dict<span class="token punctuation">[</span>sta<span class="token punctuation">]</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> month<span class="token punctuation">[</span>sta<span class="token punctuation">]</span>      
        <span class="token keyword">except</span><span class="token punctuation">:</span>
            <span class="token keyword">try</span><span class="token punctuation">:</span>
                big_dict_gun<span class="token punctuation">[</span>sta<span class="token punctuation">]</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> month<span class="token punctuation">[</span>sta<span class="token punctuation">]</span>
            <span class="token keyword">except</span><span class="token punctuation">:</span>
                big_dict_gun<span class="token punctuation">[</span>sta<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="_3-onehot应用" tabindex="-1"><a class="header-anchor" href="#_3-onehot应用" aria-hidden="true">#</a> 3. onehot应用</h4><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 2. 把route列转为onehot编码</span>
enc_route <span class="token operator">=</span> sklearn<span class="token punctuation">.</span>preprocessing<span class="token punctuation">.</span>OneHotEncoder<span class="token punctuation">(</span>sparse<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span> <span class="token comment"># Key here is sparse=False!</span>
route_onehot <span class="token operator">=</span> enc_route<span class="token punctuation">.</span>fit_transform<span class="token punctuation">(</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">&#39;route&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">&#39;route&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">&#39;route&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>shape<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>route_onehot<span class="token punctuation">)</span>

<span class="token comment"># fit_transform = fit + transform</span>
<span class="token comment"># 之后可以用 enc_route.transform() 编码测试集</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_1月22日" tabindex="-1"><a class="header-anchor" href="#_1月22日" aria-hidden="true">#</a> 1月22日</h3><h4 id="_1-反归一化-1-17" tabindex="-1"><a class="header-anchor" href="#_1-反归一化-1-17" aria-hidden="true">#</a> 1. 反归一化(1.17)</h4><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>preprice <span class="token operator">=</span> model<span class="token punctuation">.</span>predict<span class="token punctuation">(</span>readyfortest<span class="token punctuation">)</span>
preprice <span class="token operator">=</span> sc<span class="token punctuation">.</span>inverse_transform<span class="token punctuation">(</span>preprice<span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="_2-pandas排序" tabindex="-1"><a class="header-anchor" href="#_2-pandas排序" aria-hidden="true">#</a> 2. pandas排序</h4><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment">#默认为升序</span>
df_3 <span class="token operator">=</span> df<span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span>by<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;day&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;flow&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_1-23日-1-27日" tabindex="-1"><a class="header-anchor" href="#_1-23日-1-27日" aria-hidden="true">#</a> 1.23日~ 1.27日</h3><h4 id="_1-神经网络经验总结" tabindex="-1"><a class="header-anchor" href="#_1-神经网络经验总结" aria-hidden="true">#</a> 1.神经网络经验总结</h4><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>
<span class="token comment"># 1. 模型隐藏层层数设置</span>
<span class="token number">1.</span> 在神经网络中，当且仅当数据非线性分离时才需要隐藏层！
<span class="token number">2.</span> 对于一般简单的数据集，一两层隐藏层通常就足够了。但对于涉及时间序列或计算机视觉的复杂数据集，则需要额外增加层数。单层神经网络只能用于表示线性分离函数，也就是非常简单的问题，比如分类问题中的两个类可以用一条直线整齐地分开。
<span class="token number">3.</span> 一般规律
没有隐藏层：仅能够表示线性可分函数或决策
隐藏层数<span class="token operator">=</span><span class="token number">1</span>：可以拟合任何“包含从一个有限空间到另一个有限空间的连续映射”的函数
隐藏层数<span class="token operator">=</span><span class="token number">2</span>：搭配适当的激活函数可以表示任意精度的任意决策边界，并且可以拟合任何精度的任何平滑映射
隐藏层数<span class="token operator">&gt;</span><span class="token number">2</span>：多出来的隐藏层可以学习复杂的描述（某种自动特征工程）
<span class="token comment"># 2. 模型隐藏层神经元个数设置</span>
<span class="token number">1</span>、隐藏单元的数量不应该超过输入层中单元的两倍
<span class="token number">2</span>、隐藏单元的大小应该介于输入单元和输出单元之间
<span class="token number">3</span>、神经元的数量应捕获输入数据集方差的<span class="token number">70</span><span class="token operator">~</span><span class="token number">90</span><span class="token operator">%</span>
<span class="token comment"># 3. 注意输入训练集的形状</span>
<span class="token comment"># 4. 注意输入层特征的输入顺序</span>
与输出层关联性强的放前面
有些关联性弱的特征加入会严重扰乱准确性 比如day
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/trdthg/edit/main/log.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page"><!--[--><!--]--> Edit this page <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: trdthg@outlook.com">trdthg</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.40ce0bb5.js" defer></script>
  </body>
</html>
