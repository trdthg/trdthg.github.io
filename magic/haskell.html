<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Haskell 学习 | Trdthg&#39;s blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="logo.png">
    <meta name="description" content="我的个人网站">
    
    <link rel="preload" href="/assets/css/0.styles.daf71108.css" as="style"><link rel="preload" href="/assets/js/app.1bd48539.js" as="script"><link rel="preload" href="/assets/js/2.a44404e3.js" as="script"><link rel="preload" href="/assets/js/25.503e7a39.js" as="script"><link rel="prefetch" href="/assets/js/10.20906692.js"><link rel="prefetch" href="/assets/js/11.ef37f94c.js"><link rel="prefetch" href="/assets/js/12.23fc77e4.js"><link rel="prefetch" href="/assets/js/13.327d2ec5.js"><link rel="prefetch" href="/assets/js/14.e3704113.js"><link rel="prefetch" href="/assets/js/15.3c33179a.js"><link rel="prefetch" href="/assets/js/16.1c2f5b23.js"><link rel="prefetch" href="/assets/js/17.fb44a5e3.js"><link rel="prefetch" href="/assets/js/18.08c69aa9.js"><link rel="prefetch" href="/assets/js/19.f3cabe33.js"><link rel="prefetch" href="/assets/js/20.08675a4c.js"><link rel="prefetch" href="/assets/js/21.07b7c268.js"><link rel="prefetch" href="/assets/js/22.5100be19.js"><link rel="prefetch" href="/assets/js/23.4a1cdf2c.js"><link rel="prefetch" href="/assets/js/24.06b3b354.js"><link rel="prefetch" href="/assets/js/26.c53b719e.js"><link rel="prefetch" href="/assets/js/27.eae658ce.js"><link rel="prefetch" href="/assets/js/28.0c123b7c.js"><link rel="prefetch" href="/assets/js/29.8ccd22f8.js"><link rel="prefetch" href="/assets/js/3.27d32d8b.js"><link rel="prefetch" href="/assets/js/30.19ed579f.js"><link rel="prefetch" href="/assets/js/31.02889cee.js"><link rel="prefetch" href="/assets/js/32.ad0c0378.js"><link rel="prefetch" href="/assets/js/33.b6034c3c.js"><link rel="prefetch" href="/assets/js/4.1b45b5e8.js"><link rel="prefetch" href="/assets/js/5.c613dbab.js"><link rel="prefetch" href="/assets/js/6.9b2f38a1.js"><link rel="prefetch" href="/assets/js/7.ac27fb72.js"><link rel="prefetch" href="/assets/js/8.cf648b2c.js"><link rel="prefetch" href="/assets/js/9.52e3062a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.daf71108.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Trdthg's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/java/java.html" class="nav-link">
  Java
</a></div><div class="nav-item"><a href="/js/vue.html" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/python/python.html" class="nav-link">
  Python
</a></div><div class="nav-item"><a href="/rust/wasm.html" class="nav-link">
  Rust
</a></div><div class="nav-item"><a href="/magic/haskell.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  魔法
</a></div><div class="nav-item"><a href="/ioclub/oauth2.html" class="nav-link">
  IO Club
</a></div><div class="nav-item"><a href="/other/other.html" class="nav-link">
  其他
</a></div><div class="nav-item"><a href="https://github.com/trdthg" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/java/java.html" class="nav-link">
  Java
</a></div><div class="nav-item"><a href="/js/vue.html" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/python/python.html" class="nav-link">
  Python
</a></div><div class="nav-item"><a href="/rust/wasm.html" class="nav-link">
  Rust
</a></div><div class="nav-item"><a href="/magic/haskell.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  魔法
</a></div><div class="nav-item"><a href="/ioclub/oauth2.html" class="nav-link">
  IO Club
</a></div><div class="nav-item"><a href="/other/other.html" class="nav-link">
  其他
</a></div><div class="nav-item"><a href="https://github.com/trdthg" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/magic/haskell.html" aria-current="page" class="active sidebar-link">Haskell 学习</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/magic/haskell.html#_0-特性" class="sidebar-link">0. 特性</a></li><li class="sidebar-sub-header"><a href="/magic/haskell.html#_1-开始" class="sidebar-link">1. 开始</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/magic/haskell.html#_1-1-基本函数" class="sidebar-link">1.1 基本函数</a></li><li class="sidebar-sub-header"><a href="/magic/haskell.html#_1-2-列表" class="sidebar-link">1.2 列表</a></li><li class="sidebar-sub-header"><a href="/magic/haskell.html#_1-3-生成式" class="sidebar-link">1.3 生成式</a></li><li class="sidebar-sub-header"><a href="/magic/haskell.html#_1-4-元组" class="sidebar-link">1.4 元组</a></li><li class="sidebar-sub-header"><a href="/magic/haskell.html#_1-5-重要" class="sidebar-link">1.5 重要</a></li></ul></li><li class="sidebar-sub-header"><a href="/magic/haskell.html#_2-类型系统" class="sidebar-link">2. 类型系统</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/magic/haskell.html#_2-1-查看类型" class="sidebar-link">2.1 查看类型</a></li><li class="sidebar-sub-header"><a href="/magic/haskell.html#_2-2-类型" class="sidebar-link">2.2 类型</a></li></ul></li><li class="sidebar-sub-header"><a href="/magic/haskell.html#_3-函数语法" class="sidebar-link">3. 函数语法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/magic/haskell.html#_3-1-match表达式" class="sidebar-link">3.1 Match表达式</a></li><li class="sidebar-sub-header"><a href="/magic/haskell.html#_3-2-guard" class="sidebar-link">3.2 Guard</a></li><li class="sidebar-sub-header"><a href="/magic/haskell.html#_3-3-where" class="sidebar-link">3.3 where</a></li><li class="sidebar-sub-header"><a href="/magic/haskell.html#_3-4-let-it-be" class="sidebar-link">3.4 Let it be</a></li><li class="sidebar-sub-header"><a href="/magic/haskell.html#_3-5-case-expression" class="sidebar-link">3.5 Case Expression</a></li></ul></li><li class="sidebar-sub-header"><a href="/magic/haskell.html#_4-递归" class="sidebar-link">4. 递归</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/magic/haskell.html#_4-2-replicate" class="sidebar-link">4.2 replicate</a></li><li class="sidebar-sub-header"><a href="/magic/haskell.html#_4-3-take" class="sidebar-link">4.3 take</a></li><li class="sidebar-sub-header"><a href="/magic/haskell.html#_4-4-zip" class="sidebar-link">4.4 zip</a></li><li class="sidebar-sub-header"><a href="/magic/haskell.html#_4-5-quick-sort" class="sidebar-link">4.5 quick sort</a></li></ul></li><li class="sidebar-sub-header"><a href="/magic/haskell.html#_5-高阶函数" class="sidebar-link">5. 高阶函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/magic/haskell.html#_5-1-curried-functions" class="sidebar-link">5.1 Curried functions</a></li><li class="sidebar-sub-header"><a href="/magic/haskell.html#_5-2-一些高阶函数" class="sidebar-link">5.2 一些高阶函数</a></li><li class="sidebar-sub-header"><a href="/magic/haskell.html#_5-3-map" class="sidebar-link">5.3 Map</a></li><li class="sidebar-sub-header"><a href="/magic/haskell.html#_5-4-filter" class="sidebar-link">5.4 Filter</a></li><li class="sidebar-sub-header"><a href="/magic/haskell.html#_5-5-takewhile" class="sidebar-link">5.5 takeWhile</a></li><li class="sidebar-sub-header"><a href="/magic/haskell.html#_5-6-chain" class="sidebar-link">5.6 Chain</a></li><li class="sidebar-sub-header"><a href="/magic/haskell.html#_5-7-map-0" class="sidebar-link">5.7 map (*) [0..]</a></li><li class="sidebar-sub-header"><a href="/magic/haskell.html#_5-8-lambdas" class="sidebar-link">5.8 Lambdas</a></li><li class="sidebar-sub-header"><a href="/magic/haskell.html#_5-9-fold" class="sidebar-link">5.9 Fold</a></li><li class="sidebar-sub-header"><a href="/magic/haskell.html#_5-10-运算符" class="sidebar-link">5.10 $ 运算符</a></li><li class="sidebar-sub-header"><a href="/magic/haskell.html#_5-11-函数组合" class="sidebar-link">5.11 函数组合</a></li></ul></li><li class="sidebar-sub-header"><a href="/magic/haskell.html#_6-模块" class="sidebar-link">6. 模块</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/magic/haskell.html#_6-1-导入模块" class="sidebar-link">6.1 导入模块</a></li><li class="sidebar-sub-header"><a href="/magic/haskell.html#_6-2-data-list" class="sidebar-link">6.2 Data.List</a></li><li class="sidebar-sub-header"><a href="/magic/haskell.html#_6-3-其他常用模块" class="sidebar-link">6.3 其他常用模块</a></li><li class="sidebar-sub-header"><a href="/magic/haskell.html#_6-4-写模块" class="sidebar-link">6.4 写模块</a></li></ul></li></ul></li><li><a href="/magic/fd.html" class="sidebar-link">文件系统</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="haskell-学习"><a href="#haskell-学习" class="header-anchor">#</a> Haskell 学习</h1> <h2 id="_0-特性"><a href="#_0-特性" class="header-anchor">#</a> 0. 特性</h2> <ol><li><blockquote><p>We usually use ' to either denote a strict  version of a function (one that isn't lazy) or a slightly modified  version of a function or a variable. Because ' is a valid character in functions, we can make a function like this.</p></blockquote> <p><code>‘</code> 在haskell中是声明的合法字符， 一般中加 <code>’</code> 的函数代表一个函数的修改版本或者严格版本</p></li></ol> <h2 id="_1-开始"><a href="#_1-开始" class="header-anchor">#</a> 1. 开始</h2> <p><strong>Starting Out</strong></p> <h3 id="_1-1-基本函数"><a href="#_1-1-基本函数" class="header-anchor">#</a> 1.1 基本函数</h3> <ul><li>最小值:  <code>min 1 3</code></li> <li>最大值:  <code>max 1 3</code></li> <li>加一:  <code>succ 1</code></li> <li>除:  <code>div 92 10</code></li></ul> <h3 id="_1-2-列表"><a href="#_1-2-列表" class="header-anchor">#</a> 1.2 列表</h3> <ul><li><p>合并： <code>[1,2,3,4] ++ [9,10,11,12]</code></p></li> <li><p>根据索引取值： <code>&quot;Steve Buscemi&quot; !! 6</code></p></li> <li><p>开头插入： <code>'A':&quot; SMALL CAT&quot;</code></p> <blockquote><p>[1,2,3] is actually just syntactic sugar for 1:2:3:[].</p></blockquote></li> <li><p>取表头: <code>head [1, 2, 3, 4, 5]</code></p></li> <li><p>取表尾: <code>tail [1, 2, 3, 4, 5]</code></p></li> <li><p>取最后一个元素: <code>last [1, 2, 3, 4, 5]</code></p></li> <li><p>取除了最后一个元素： <code>init [1, 2, 3, 4, 5]</code></p></li> <li><p>长度： <code>length [5,4,3,2,1]</code></p></li> <li><p>是否为空： <code>null [1,2,3]</code></p></li> <li><p>反转列表： <code>reverse [5,4,3,2,1]</code></p></li> <li><p>取前n个： <code>take 3 [5,4,3,2,1]</code></p></li> <li><p>从第n个开始向后取： <code>drop 3 [8,4,2,1,5,6]</code></p></li> <li><p>最大元素： <code>maximum [1,9,2,3,4]</code></p></li> <li><p>最小元素： <code>minimum [8,4,2,1,5,6]</code></p></li> <li><p>加： <code>sum [5,2,1,6,3,2,5,7]</code></p></li> <li><p>乘： <code>product [6,2,1,2]</code></p></li> <li><p>是否在列表中： <code>4</code>elem<code>[3,4,5,6]</code></p></li></ul> <h3 id="_1-3-生成式"><a href="#_1-3-生成式" class="header-anchor">#</a> 1.3 生成式</h3> <ul><li><p>循环追加（append）： <code>cycle [1,2,3]</code></p></li> <li><p>循环生成（extend）： <code>repeat 5</code></p></li> <li><p>生成式： <code>boomBangs xs = [ if x &lt; 10 then &quot;BOOM!&quot; else &quot;BANG!&quot; | x &lt;- xs, odd x]</code></p></li></ul> <h3 id="_1-4-元组"><a href="#_1-4-元组" class="header-anchor">#</a> 1.4 元组</h3> <p>类型随意，</p> <ul><li>fst： <code>fst (&quot;Wow&quot;, False)</code></li> <li>snd： <code>snd (&quot;Wow&quot;, False)</code></li></ul> <h3 id="_1-5-重要"><a href="#_1-5-重要" class="header-anchor">#</a> 1.5 重要</h3> <ul><li>zip<div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token builtin">zip</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token string">&quot;im&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;turtle&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token string">&quot;im&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&quot;turtle&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token builtin">zip</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">..</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token string">&quot;apple&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;orange&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;cherry&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;mango&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;apple&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&quot;orange&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">&quot;cherry&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">&quot;mango&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span> 
</code></pre></div></li></ul> <h2 id="_2-类型系统"><a href="#_2-类型系统" class="header-anchor">#</a> 2. 类型系统</h2> <p><strong>Types and Typeclasses</strong></p> <h3 id="_2-1-查看类型"><a href="#_2-1-查看类型" class="header-anchor">#</a> 2.1 查看类型</h3> <p>ghci查看</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code>：<span class="token hvariable">t</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;qqq&quot;</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_2-2-类型"><a href="#_2-2-类型" class="header-anchor">#</a> 2.2 类型</h3> <ol><li><p>所有的 <code>== + - * /</code> 都是function</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token operator">:</span><span class="token hvariable">t</span> <span class="token punctuation">(</span><span class="token operator">==</span><span class="token punctuation">)</span>  
<span class="token punctuation">(</span><span class="token operator">==</span><span class="token punctuation">)</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Eq</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token constant">Bool</span>
</code></pre></div><blockquote><p>Everything before the =&gt; symbol is called a <em>class constraint</em>. We can read the previous type declaration like this: the equality  function takes any two values that are of the same type and returns a Bool. The type of those two values must be a member of the Eq class (this was the class constraint).</p></blockquote> <ul><li><code>=&gt;</code> 之前的被叫做类型约束</li></ul></li></ol> <h4 id="_2-2-1-eq"><a href="#_2-2-1-eq" class="header-anchor">#</a> 2.2.1 Eq</h4> <blockquote><p>The Eq typeclass provides an interface for  testing for equality. Any type where it makes sense to test for equality between two values of that type should be a member of the Eq class. All standard Haskell types except for IO (the type for dealing with input and output) and functions are a part of the Eq typeclass.</p></blockquote> <p>Eq提供了一个比较的接口， 任何能够比较该类型的两个值之间相等性的都应该是Eq类的成员</p> <h4 id="_2-2-2-ord"><a href="#_2-2-2-ord" class="header-anchor">#</a> 2.2.2 Ord</h4> <blockquote><p>All the types we covered so far except for functions are part of Ord. Ord covers all the standard comparing functions such as &gt;, &lt;, &gt;= and &lt;=. The compare function takes two Ord members of the same type and returns an ordering. Ordering is a type that can be GT, LT or EQ, meaning <em>greater than</em>, <em>lesser than</em> and <em>equal</em>, respectively.</p></blockquote> <p>Ord包含了所有标准的比较函数， 例如 &gt; &lt; &gt;= &lt;=, 比较函数接受两个类型相同的Ord成员，并返回一个排序，排序是GT， LT， EQ，分别表示大于，小于，等于</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token string">&quot;Abrakadabra&quot;</span> <span class="token operator">&lt;</span> <span class="token string">&quot;Zebra&quot;</span>  
<span class="token constant">True</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token string">&quot;Abrakadabra&quot;</span> <span class="token operator">`compare`</span> <span class="token string">&quot;Zebra&quot;</span>  
<span class="token constant">LT</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token number">5</span> <span class="token operator">&gt;=</span> <span class="token number">2</span>  
<span class="token constant">True</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token number">5</span> <span class="token operator">`compare`</span> <span class="token number">3</span>  
<span class="token constant">GT</span>  
</code></pre></div><h4 id="_2-2-3-show"><a href="#_2-2-3-show" class="header-anchor">#</a> 2.2.3 Show</h4> <blockquote><p>Members of Show can be presented as strings. All types covered so far except for functions are a part of Show. The most used function that deals with the Show typeclass is show. It takes a value whose type is a member of Show and presents it to us as a string.</p></blockquote> <p>Show的成员可以被打印为字符串，到目前为止，除了函数之外的所有类型都是 Show 的一部分。</p> <p>show函数接受一个类型为Show成员的值，并将其作为字符串呈现</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token operator">:</span><span class="token hvariable">t</span> <span class="token builtin">read</span>  
<span class="token builtin">read</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Read</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">String</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span>  
</code></pre></div><h4 id="_2-2-4-read"><a href="#_2-2-4-read" class="header-anchor">#</a> 2.2.4 Read</h4> <blockquote><p>Read is sort of the opposite typeclass of Show. The read function takes a string and returns a type which is a member of Read.</p></blockquote> <p>read函数接受一个String，并返回一个Read的成员的类型</p> <p><strong>问题</strong></p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">read</span> <span class="token string">&quot;4&quot;</span>  
    <span class="token operator">&lt;</span><span class="token hvariable">interactive</span><span class="token operator">&gt;:</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">0</span><span class="token operator">:</span>  
        <span class="token constant">Ambiguous</span> <span class="token keyword">type</span> <span class="token hvariable">variable</span> `<span class="token hvariable">a'</span> <span class="token keyword">in</span> <span class="token hvariable">the</span> <span class="token hvariable">constraint</span><span class="token operator">:</span>  
        	`<span class="token constant">Read</span> <span class="token hvariable">a'</span> <span class="token hvariable">arising</span> <span class="token hvariable">from</span> <span class="token hvariable">a</span> <span class="token hvariable">use</span> <span class="token keyword">of</span> `<span class="token builtin">read</span>' <span class="token hvariable">at</span> <span class="token operator">&lt;</span><span class="token hvariable">interactive</span><span class="token operator">&gt;:</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">7</span>  
        <span class="token constant">Probable</span> <span class="token hvariable">fix</span><span class="token operator">:</span> <span class="token hvariable">add</span> <span class="token hvariable">a</span> <span class="token keyword">type</span> <span class="token hvariable">signature</span> <span class="token hvariable">that</span> <span class="token hvariable">fixes</span> <span class="token hvariable">these</span> <span class="token keyword">type</span> <span class="token hvariable">variable</span><span class="token punctuation">(</span><span class="token hvariable">s</span><span class="token punctuation">)</span>  
</code></pre></div><p><strong>指定return类型</strong></p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">read</span> <span class="token string">&quot;5&quot;</span> <span class="token operator">::</span> <span class="token constant">Int</span>  
<span class="token number">5</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">read</span> <span class="token string">&quot;5&quot;</span> <span class="token operator">::</span> <span class="token constant">Float</span>  
<span class="token number">5.0</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token builtin">read</span> <span class="token string">&quot;5&quot;</span> <span class="token operator">::</span> <span class="token constant">Float</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">4</span>  
<span class="token number">20.0</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">read</span> <span class="token string">&quot;[1,2,3,4]&quot;</span> <span class="token operator">::</span> <span class="token punctuation">[</span><span class="token constant">Int</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">read</span> <span class="token string">&quot;(3, 'a')&quot;</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Int</span><span class="token punctuation">,</span> <span class="token constant">Char</span><span class="token punctuation">)</span>  
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token char string">'a'</span><span class="token punctuation">)</span>  
</code></pre></div><h4 id="_2-2-5-enum"><a href="#_2-2-5-enum" class="header-anchor">#</a> 2.2.5 Enum</h4> <blockquote><p>Enum members are sequentially ordered types — they can be enumerated. The main advantage of the Enum typeclass is that we can use its types in list ranges. They also have  defined successors and predecesors, which you can get with the succ and pred functions. Types in this class: (), Bool, Char, Ordering, Int, Integer, Float and Double.</p></blockquote> <p>枚举类型是按照顺序排序的类型，他们可以被枚举，我们可以在列表中使用它的所有类型。</p> <p>他们还被定义了前驱和后继，因此可以对它的类型使用 <code>succ</code> 和 <code>pred</code> 函数</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token char string">'a'</span><span class="token operator">..</span><span class="token char string">'e'</span><span class="token punctuation">]</span>  
<span class="token string">&quot;abcde&quot;</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token constant">LT</span> <span class="token operator">..</span> <span class="token constant">GT</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token constant">LT</span><span class="token punctuation">,</span><span class="token constant">EQ</span><span class="token punctuation">,</span><span class="token constant">GT</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">3</span> <span class="token operator">..</span> <span class="token number">5</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">succ</span> <span class="token char string">'B'</span>  
<span class="token char string">'C'</span>  
</code></pre></div><h4 id="_2-2-6-bounded"><a href="#_2-2-6-bounded" class="header-anchor">#</a> 2.2.6 Bounded</h4> <blockquote><p>Bounded members have an upper and a lower bound.</p></blockquote> <p>Bounded类型有上界和下界</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">minBound</span> <span class="token operator">::</span> <span class="token constant">Int</span>  
<span class="token operator">-</span><span class="token number">2147483648</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">maxBound</span> <span class="token operator">::</span> <span class="token constant">Char</span>  
<span class="token char string">'\1114111'</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">maxBound</span> <span class="token operator">::</span> <span class="token constant">Bool</span>  
<span class="token constant">True</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">minBound</span> <span class="token operator">::</span> <span class="token constant">Bool</span>  
<span class="token constant">False</span>  
</code></pre></div><blockquote><p>minBound and maxBound are interesting because they have a type of (Bounded a) =&gt; a. In a sense they are polymorphic constants.</p></blockquote> <p>他们是多态性常量，见下文</p> <p>如果元组的元素也在元组中，那么这个元组也是Bounded的成员。</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">maxBound</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Bool</span><span class="token punctuation">,</span> <span class="token constant">Int</span><span class="token punctuation">,</span> <span class="token constant">Char</span><span class="token punctuation">)</span>  
<span class="token punctuation">(</span><span class="token constant">True</span><span class="token punctuation">,</span><span class="token number">2147483647</span><span class="token punctuation">,</span><span class="token char string">'\1114111'</span><span class="token punctuation">)</span>  
</code></pre></div><h4 id="_2-2-7-num"><a href="#_2-2-7-num" class="header-anchor">#</a> 2.2.7 Num</h4> <p>Num也是一个多态性常量，他能表现的向任何Num类的成员（包括 Int, Integer, Float, Double）</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token operator">:</span><span class="token hvariable">t</span> <span class="token number">20</span>  
<span class="token number">20</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Num</span> <span class="token hvariable">t</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token hvariable">t</span>  

<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token number">20</span> <span class="token operator">::</span> <span class="token constant">Int</span>  
<span class="token number">20</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token number">20</span> <span class="token operator">::</span> <span class="token constant">Integer</span>  
<span class="token number">20</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token number">20</span> <span class="token operator">::</span> <span class="token constant">Float</span>  
<span class="token number">20.0</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token number">20</span> <span class="token operator">::</span> <span class="token constant">Double</span>  
<span class="token number">20.0</span>  
</code></pre></div><p><code>(5 :: Int) * (6 :: Integer)</code> will error， while <code>5 * (6 :: Integer)</code>  will work just fine</p> <h4 id="_2-2-9-integral-floating"><a href="#_2-2-9-integral-floating" class="header-anchor">#</a> 2.2.9 Integral &amp; Floating</h4> <ul><li><p><code>Integral</code>contains <code>Int</code> and <code>Integer</code></p></li> <li><p><code>Floating</code> contains <code>Float</code> and <code>Double</code>.</p></li></ul> <p><code>fromIntegral</code>可以帮我们实现类型转换</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token comment">-- It has a type declaration of</span>
<span class="token builtin">fromIntegral</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Num</span> <span class="token hvariable">b</span><span class="token punctuation">,</span> <span class="token constant">Integral</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token hvariable">b</span>
<span class="token comment">-- so, you can use it as</span>
<span class="token builtin">fromIntegral</span> <span class="token punctuation">(</span><span class="token builtin">length</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">3.2</span>
</code></pre></div><h2 id="_3-函数语法"><a href="#_3-函数语法" class="header-anchor">#</a> 3. 函数语法</h2> <p><strong>Syntax in Functions</strong></p> <h3 id="_3-1-match表达式"><a href="#_3-1-match表达式" class="header-anchor">#</a> 3.1 Match表达式</h3> <p><strong>Pattern marching</strong></p> <ol><li><p>在 ghci 中声明类型需要使用多行块中</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token operator">:</span><span class="token punctuation">{</span>
<span class="token hvariable">lucky</span> <span class="token operator">::</span> <span class="token constant">Int</span> <span class="token operator">-&gt;</span> <span class="token constant">String</span>
<span class="token hvariable">lucky</span> <span class="token hvariable">a</span> <span class="token operator">=</span> <span class="token builtin">show</span><span class="token punctuation">(</span><span class="token hvariable">a</span><span class="token punctuation">)</span>
<span class="token operator">:</span><span class="token punctuation">}</span>

<span class="token operator">:</span><span class="token keyword">type</span> <span class="token hvariable">lucky</span> 
<span class="token hvariable">lucky</span> <span class="token operator">::</span> <span class="token constant">Int</span> <span class="token operator">-&gt;</span> <span class="token constant">String</span>
</code></pre></div></li> <li><p>匹配列表长度</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">tell</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Show</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token constant">String</span>  
<span class="token hvariable">tell</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;The list is empty&quot;</span>  
<span class="token hvariable">tell</span> <span class="token punctuation">(</span><span class="token hvariable">x</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;The list has one element: &quot;</span> <span class="token operator">++</span> <span class="token builtin">show</span> <span class="token hvariable">x</span>  
<span class="token hvariable">tell</span> <span class="token punctuation">(</span><span class="token hvariable">x</span><span class="token operator">:</span><span class="token hvariable">y</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;The list has two elements: &quot;</span> <span class="token operator">++</span> <span class="token builtin">show</span> <span class="token hvariable">x</span> <span class="token operator">++</span> <span class="token string">&quot; and &quot;</span> <span class="token operator">++</span> <span class="token builtin">show</span> <span class="token hvariable">y</span>  
<span class="token hvariable">tell</span> <span class="token punctuation">(</span><span class="token hvariable">x</span><span class="token operator">:</span><span class="token hvariable">y</span><span class="token operator">:</span><span class="token hvariable">_</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;This list is long. The first two elements are: &quot;</span> <span class="token operator">++</span> <span class="token builtin">show</span> <span class="token hvariable">x</span> <span class="token operator">++</span> <span class="token string">&quot; and &quot;</span> <span class="token operator">++</span> <span class="token builtin">show</span> <span class="token hvariable">y</span>  
</code></pre></div></li> <li><p>一个 length 函数的实现</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token builtin">length</span>' <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Num</span> <span class="token hvariable">b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token hvariable">b</span>  
<span class="token builtin">length</span>' <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>  
<span class="token builtin">length</span>' <span class="token punctuation">(</span><span class="token hvariable">_</span><span class="token operator">:</span><span class="token hvariable">xs</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token builtin">length</span>' <span class="token hvariable">xs</span>  
</code></pre></div></li></ol> <h3 id="_3-2-guard"><a href="#_3-2-guard" class="header-anchor">#</a> 3.2 Guard</h3> <ol><li><p>标准</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">bmiTell</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">RealFloat</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token constant">String</span>  
<span class="token hvariable">bmiTell</span> <span class="token hvariable">bmi</span>  
   <span class="token operator">|</span> <span class="token hvariable">bmi</span> <span class="token operator">&lt;=</span> <span class="token number">18.5</span> <span class="token operator">=</span> <span class="token string">&quot;You're underweight, you emo, you!&quot;</span>  
   <span class="token operator">|</span> <span class="token hvariable">bmi</span> <span class="token operator">&lt;=</span> <span class="token number">25.0</span> <span class="token operator">=</span> <span class="token string">&quot;You're supposedly normal. Pffft, I bet you're ugly!&quot;</span>  
   <span class="token operator">|</span> <span class="token hvariable">bmi</span> <span class="token operator">&lt;=</span> <span class="token number">30.0</span> <span class="token operator">=</span> <span class="token string">&quot;You're fat! Lose some weight, fatty!&quot;</span>  
   <span class="token operator">|</span> <span class="token builtin">otherwise</span>   <span class="token operator">=</span> <span class="token string">&quot;You're a whale, congratulations!&quot;</span> 
    
<span class="token hvariable">myCompare</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Ord</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token constant">Ordering</span>  
<span class="token hvariable">a</span> <span class="token operator">`myCompare`</span> <span class="token hvariable">b</span>  
    <span class="token operator">|</span> <span class="token hvariable">a</span> <span class="token operator">&gt;</span> <span class="token hvariable">b</span>     <span class="token operator">=</span> <span class="token constant">GT</span>  
    <span class="token operator">|</span> <span class="token hvariable">a</span> <span class="token operator">==</span> <span class="token hvariable">b</span>    <span class="token operator">=</span> <span class="token constant">EQ</span>  
    <span class="token operator">|</span> <span class="token builtin">otherwise</span> <span class="token operator">=</span> <span class="token constant">LT</span>  
</code></pre></div></li> <li><p>inline 版（可读性差）</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token builtin">max</span>' <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Ord</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span>  
<span class="token builtin">max</span>' <span class="token hvariable">a</span> <span class="token hvariable">b</span> <span class="token operator">|</span> <span class="token hvariable">a</span> <span class="token operator">&gt;</span> <span class="token hvariable">b</span> <span class="token operator">=</span> <span class="token hvariable">a</span> <span class="token operator">|</span> <span class="token builtin">otherwise</span> <span class="token operator">=</span> <span class="token hvariable">b</span>  
</code></pre></div></li></ol> <h3 id="_3-3-where"><a href="#_3-3-where" class="header-anchor">#</a> 3.3 where</h3> <ol><li><p>作用在guard上</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code>    <span class="token hvariable">bmiTell</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">RealFloat</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token constant">String</span>  
    <span class="token hvariable">bmiTell</span> <span class="token hvariable">weight</span> <span class="token hvariable">height</span>  
        <span class="token operator">|</span> <span class="token hvariable">bmi</span> <span class="token operator">&lt;=</span> <span class="token hvariable">skinny</span> <span class="token operator">=</span> <span class="token string">&quot;You're underweight, you emo, you!&quot;</span>  
        <span class="token operator">|</span> <span class="token hvariable">bmi</span> <span class="token operator">&lt;=</span> <span class="token hvariable">normal</span> <span class="token operator">=</span> <span class="token string">&quot;You're supposedly normal. Pffft, I bet you're ugly!&quot;</span>  
        <span class="token operator">|</span> <span class="token hvariable">bmi</span> <span class="token operator">&lt;=</span> <span class="token hvariable">fat</span>    <span class="token operator">=</span> <span class="token string">&quot;You're fat! Lose some weight, fatty!&quot;</span>  
        <span class="token operator">|</span> <span class="token builtin">otherwise</span>     <span class="token operator">=</span> <span class="token string">&quot;You're a whale, congratulations!&quot;</span>  
        <span class="token keyword">where</span> <span class="token hvariable">bmi</span> <span class="token operator">=</span> <span class="token hvariable">weight</span> <span class="token operator">/</span> <span class="token hvariable">height</span> <span class="token operator">^</span> <span class="token number">2</span>  
              <span class="token hvariable">skinny</span> <span class="token operator">=</span> <span class="token number">18.5</span>  
              <span class="token hvariable">normal</span> <span class="token operator">=</span> <span class="token number">25.0</span>  
              <span class="token hvariable">fat</span> <span class="token operator">=</span> <span class="token number">30.0</span>  
</code></pre></div><blockquote><p><em>where</em> bindings aren't shared across function bodies of different  patterns. If you want several patterns of one function to access some  shared name, you have to define it globally.</p></blockquote> <p>where 的绑定不能在函数体里共享，除非以全局方式定义</p></li> <li><p>作用在 pattern match 上</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code>    <span class="token hvariable">initials</span> <span class="token operator">::</span> <span class="token constant">String</span> <span class="token operator">-&gt;</span> <span class="token constant">String</span> <span class="token operator">-&gt;</span> <span class="token constant">String</span>  
    <span class="token hvariable">initials</span> <span class="token hvariable">firstname</span> <span class="token hvariable">lastname</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token hvariable">f</span><span class="token punctuation">]</span> <span class="token operator">++</span> <span class="token string">&quot;. &quot;</span> <span class="token operator">++</span> <span class="token punctuation">[</span><span class="token hvariable">l</span><span class="token punctuation">]</span> <span class="token operator">++</span> <span class="token string">&quot;.&quot;</span>  
        <span class="token keyword">where</span> <span class="token punctuation">(</span><span class="token hvariable">f</span><span class="token operator">:</span><span class="token hvariable">_</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token hvariable">firstname</span>  
              <span class="token punctuation">(</span><span class="token hvariable">l</span><span class="token operator">:</span><span class="token hvariable">_</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token hvariable">lastname</span>    
</code></pre></div></li> <li><p>使用 where 定义 function</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code>    <span class="token hvariable">calcBmis</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">RealFloat</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token hvariable">a</span><span class="token punctuation">,</span> <span class="token hvariable">a</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span>  
    <span class="token hvariable">calcBmis</span> <span class="token hvariable">xs</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token hvariable">bmi</span> <span class="token hvariable">w</span> <span class="token hvariable">h</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token hvariable">w</span><span class="token punctuation">,</span> <span class="token hvariable">h</span><span class="token punctuation">)</span> <span class="token operator">&lt;-</span> <span class="token hvariable">xs</span><span class="token punctuation">]</span>  
        <span class="token keyword">where</span> <span class="token hvariable">bmi</span> <span class="token hvariable">weight</span> <span class="token hvariable">height</span> <span class="token operator">=</span> <span class="token hvariable">weight</span> <span class="token operator">/</span> <span class="token hvariable">height</span> <span class="token operator">^</span> <span class="token number">2</span>  
</code></pre></div></li></ol> <h3 id="_3-4-let-it-be"><a href="#_3-4-let-it-be" class="header-anchor">#</a> 3.4 Let it be</h3> <p>** <code>let &lt;bindings&gt; in &lt;expression&gt;</code>**</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code>    <span class="token hvariable">cylinder</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">RealFloat</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span>  
    <span class="token hvariable">cylinder</span> <span class="token hvariable">r</span> <span class="token hvariable">h</span> <span class="token operator">=</span> 
        <span class="token keyword">let</span> <span class="token hvariable">sideArea</span> <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token builtin">pi</span> <span class="token operator">*</span> <span class="token hvariable">r</span> <span class="token operator">*</span> <span class="token hvariable">h</span>  
            <span class="token hvariable">topArea</span> <span class="token operator">=</span> <span class="token builtin">pi</span> <span class="token operator">*</span> <span class="token hvariable">r</span> <span class="token operator">^</span><span class="token number">2</span>  
        <span class="token keyword">in</span>  <span class="token hvariable">sideArea</span> <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token hvariable">topArea</span>  
</code></pre></div><blockquote><p>The difference is that <em>let</em> bindings are expressions themselves. <em>where</em> bindings are just syntactic constructs.</p></blockquote> <p>Let 把绑定放在前面，where 把绑定放在后面， 但是 Let 是一个表达式， Where只是个语法结构</p> <h3 id="_3-5-case-expression"><a href="#_3-5-case-expression" class="header-anchor">#</a> 3.5 Case Expression</h3> <ul><li><p>示例 1</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">describeList</span> <span class="token operator">::</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token constant">String</span>  
<span class="token hvariable">describeList</span> <span class="token hvariable">xs</span> <span class="token operator">=</span> <span class="token string">&quot;The list is &quot;</span> <span class="token operator">++</span> <span class="token keyword">case</span> <span class="token hvariable">xs</span> <span class="token keyword">of</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token string">&quot;empty.&quot;</span> 
                                               <span class="token punctuation">[</span><span class="token hvariable">x</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token string">&quot;a singleton list.&quot;</span>   
                                               <span class="token hvariable">xs</span> <span class="token operator">-&gt;</span> <span class="token string">&quot;a longer list.&quot;</span>  
</code></pre></div></li> <li><p>示例 2</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">describeList</span> <span class="token operator">::</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token constant">String</span>  
<span class="token hvariable">describeList</span> <span class="token hvariable">xs</span> <span class="token operator">=</span> <span class="token string">&quot;The list is &quot;</span> <span class="token operator">++</span> <span class="token hvariable">what</span> <span class="token hvariable">xs</span>  
    <span class="token keyword">where</span> <span class="token hvariable">what</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;empty.&quot;</span>  
          <span class="token hvariable">what</span> <span class="token punctuation">[</span><span class="token hvariable">x</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;a singleton list.&quot;</span>  
          <span class="token hvariable">what</span> <span class="token hvariable">xs</span> <span class="token operator">=</span> <span class="token string">&quot;a longer list.&quot;</span>
</code></pre></div></li></ul> <h2 id="_4-递归"><a href="#_4-递归" class="header-anchor">#</a> 4. 递归</h2> <p><strong>Recursion</strong></p> <div class="language- extra-class"><pre><code>### 4.1 maxium
</code></pre></div><div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token comment">-- 第一种</span>
<span class="token builtin">maximum</span>' <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Ord</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span>  
<span class="token builtin">maximum</span>' <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">error</span> <span class="token string">&quot;maximum of empty list&quot;</span>  
<span class="token builtin">maximum</span>' <span class="token punctuation">[</span><span class="token hvariable">x</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token hvariable">x</span>  
<span class="token builtin">maximum</span>' <span class="token punctuation">(</span><span class="token hvariable">x</span><span class="token operator">:</span><span class="token hvariable">xs</span><span class="token punctuation">)</span>   
    <span class="token operator">|</span> <span class="token hvariable">x</span> <span class="token operator">&gt;</span> <span class="token hvariable">maxTail</span> <span class="token operator">=</span> <span class="token hvariable">x</span>  
    <span class="token operator">|</span> <span class="token builtin">otherwise</span> <span class="token operator">=</span> <span class="token hvariable">maxTail</span>  
    <span class="token keyword">where</span> <span class="token hvariable">maxTail</span> <span class="token operator">=</span> <span class="token builtin">maximum</span>' <span class="token hvariable">xs</span>
<span class="token comment">-- 第二种</span>
<span class="token builtin">maximum</span>' <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Ord</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span>  
<span class="token builtin">maximum</span>' <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">error</span> <span class="token string">&quot;maximum of empty list&quot;</span>  
<span class="token builtin">maximum</span>' <span class="token punctuation">[</span><span class="token hvariable">x</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token hvariable">x</span>  
<span class="token builtin">maximum</span>' <span class="token punctuation">(</span><span class="token hvariable">x</span><span class="token operator">:</span><span class="token hvariable">xs</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token builtin">max</span> <span class="token hvariable">x</span> <span class="token punctuation">(</span><span class="token builtin">maximum</span>' <span class="token hvariable">xs</span><span class="token punctuation">)</span>  
</code></pre></div><h3 id="_4-2-replicate"><a href="#_4-2-replicate" class="header-anchor">#</a> 4.2 replicate</h3> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token builtin">replicate</span>' <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Num</span> <span class="token hvariable">i</span><span class="token punctuation">,</span> <span class="token constant">Ord</span> <span class="token hvariable">i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token hvariable">i</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span>  
<span class="token builtin">replicate</span>' <span class="token hvariable">n</span> <span class="token hvariable">x</span>  
    <span class="token operator">|</span> <span class="token hvariable">n</span> <span class="token operator">&lt;=</span> <span class="token number">0</span>    <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  
    <span class="token operator">|</span> <span class="token builtin">otherwise</span> <span class="token operator">=</span> <span class="token hvariable">x</span><span class="token operator">:</span><span class="token builtin">replicate</span>' <span class="token punctuation">(</span><span class="token hvariable">n</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token hvariable">x</span> 
</code></pre></div><h3 id="_4-3-take"><a href="#_4-3-take" class="header-anchor">#</a> 4.3 take</h3> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token builtin">take</span>' <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Num</span> <span class="token hvariable">i</span><span class="token punctuation">,</span> <span class="token constant">Ord</span> <span class="token hvariable">i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token hvariable">i</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span>  
<span class="token builtin">take</span>' <span class="token hvariable">n</span> <span class="token hvariable">_</span>  
    <span class="token operator">|</span> <span class="token hvariable">n</span> <span class="token operator">&lt;=</span> <span class="token number">0</span>   <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  
<span class="token builtin">take</span>' <span class="token hvariable">_</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>     <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  
<span class="token builtin">take</span>' <span class="token hvariable">n</span> <span class="token punctuation">(</span><span class="token hvariable">x</span><span class="token operator">:</span><span class="token hvariable">xs</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token hvariable">x</span> <span class="token operator">:</span> <span class="token builtin">take</span>' <span class="token punctuation">(</span><span class="token hvariable">n</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token hvariable">xs</span>  
</code></pre></div><h3 id="_4-4-zip"><a href="#_4-4-zip" class="header-anchor">#</a> 4.4 zip</h3> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token builtin">elem</span>' <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Eq</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token constant">Bool</span>  
<span class="token builtin">elem</span>' <span class="token hvariable">a</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">False</span>  
<span class="token builtin">elem</span>' <span class="token hvariable">a</span> <span class="token punctuation">(</span><span class="token hvariable">x</span><span class="token operator">:</span><span class="token hvariable">xs</span><span class="token punctuation">)</span>  
    <span class="token operator">|</span> <span class="token hvariable">a</span> <span class="token operator">==</span> <span class="token hvariable">x</span>    <span class="token operator">=</span> <span class="token constant">True</span>  
    <span class="token operator">|</span> <span class="token builtin">otherwise</span> <span class="token operator">=</span> <span class="token hvariable">a</span> <span class="token operator">`elem'`</span> <span class="token hvariable">xs</span>   
</code></pre></div><h3 id="_4-5-quick-sort"><a href="#_4-5-quick-sort" class="header-anchor">#</a> 4.5 quick sort</h3> <div class="language-haskell extra-class"><pre class="language-haskell"><code>    <span class="token hvariable">quicksort</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Ord</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span>  
    <span class="token hvariable">quicksort</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  
    <span class="token hvariable">quicksort</span> <span class="token punctuation">(</span><span class="token hvariable">x</span><span class="token operator">:</span><span class="token hvariable">xs</span><span class="token punctuation">)</span> <span class="token operator">=</span>   
        <span class="token keyword">let</span> <span class="token hvariable">smallerSorted</span> <span class="token operator">=</span> <span class="token hvariable">quicksort</span> <span class="token punctuation">[</span><span class="token hvariable">a</span> <span class="token operator">|</span> <span class="token hvariable">a</span> <span class="token operator">&lt;-</span> <span class="token hvariable">xs</span><span class="token punctuation">,</span> <span class="token hvariable">a</span> <span class="token operator">&lt;=</span> <span class="token hvariable">x</span><span class="token punctuation">]</span>  
            <span class="token hvariable">biggerSorted</span> <span class="token operator">=</span> <span class="token hvariable">quicksort</span> <span class="token punctuation">[</span><span class="token hvariable">a</span> <span class="token operator">|</span> <span class="token hvariable">a</span> <span class="token operator">&lt;-</span> <span class="token hvariable">xs</span><span class="token punctuation">,</span> <span class="token hvariable">a</span> <span class="token operator">&gt;</span> <span class="token hvariable">x</span><span class="token punctuation">]</span>  
        <span class="token keyword">in</span>  <span class="token hvariable">smallerSorted</span> <span class="token operator">++</span> <span class="token punctuation">[</span><span class="token hvariable">x</span><span class="token punctuation">]</span> <span class="token operator">++</span> <span class="token hvariable">biggerSorted</span>  
</code></pre></div><h2 id="_5-高阶函数"><a href="#_5-高阶函数" class="header-anchor">#</a> 5. 高阶函数</h2> <p><em>Higher order functions</em></p> <p>能够以函数作为参数, 或者返回一个函数的函数都是高阶函数, 告诫函数就是Haskell的体验</p> <h3 id="_5-1-curried-functions"><a href="#_5-1-curried-functions" class="header-anchor">#</a> 5.1 Curried functions</h3> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">max</span> <span class="token number">4</span> <span class="token number">5</span>  
<span class="token number">5</span>  
<span class="token comment">-- max本身可以这样写</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token builtin">max</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token number">5</span>  
<span class="token number">5</span>  
</code></pre></div><p>让我们看看max的类型</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token builtin">max</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Ord</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span><span class="token punctuation">.</span> 
<span class="token comment">-- 也能写作</span>
<span class="token builtin">max</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Ord</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token punctuation">(</span><span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span><span class="token punctuation">)</span><span class="token punctuation">.</span> 
</code></pre></div><p>所以max这个函数能够返回一个函数</p> <p>同时</p> <h3 id="_5-2-一些高阶函数"><a href="#_5-2-一些高阶函数" class="header-anchor">#</a> 5.2 一些高阶函数</h3> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">applyTwice</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span>  
<span class="token hvariable">applyTwice</span> <span class="token hvariable">f</span> <span class="token hvariable">x</span> <span class="token operator">=</span> <span class="token hvariable">f</span> <span class="token punctuation">(</span><span class="token hvariable">f</span> <span class="token hvariable">x</span><span class="token punctuation">)</span>  

<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">applyTwice</span> <span class="token punctuation">(</span><span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token number">10</span>  
<span class="token number">16</span>  
</code></pre></div><div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token builtin">zipWith</span>' <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token hvariable">b</span> <span class="token operator">-&gt;</span> <span class="token hvariable">c</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">b</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">c</span><span class="token punctuation">]</span>  
<span class="token builtin">zipWith</span>' <span class="token hvariable">_</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token hvariable">_</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  
<span class="token builtin">zipWith</span>' <span class="token hvariable">_</span> <span class="token hvariable">_</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  
<span class="token builtin">zipWith</span>' <span class="token hvariable">f</span> <span class="token punctuation">(</span><span class="token hvariable">x</span><span class="token operator">:</span><span class="token hvariable">xs</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token hvariable">y</span><span class="token operator">:</span><span class="token hvariable">ys</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token hvariable">f</span> <span class="token hvariable">x</span> <span class="token hvariable">y</span> <span class="token operator">:</span> <span class="token builtin">zipWith</span>' <span class="token hvariable">f</span> <span class="token hvariable">xs</span> <span class="token hvariable">ys</span>  

<span class="token builtin">zipWith</span>' <span class="token punctuation">(</span><span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token string">&quot;aaa&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bbb&quot;</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token string">&quot;ccc&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ddd&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token string">&quot;aaaccc&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;bbbddd&quot;</span><span class="token punctuation">]</span>
</code></pre></div><p><strong>flip</strong></p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token builtin">flip</span>' <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token hvariable">b</span> <span class="token operator">-&gt;</span> <span class="token hvariable">c</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token hvariable">b</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token hvariable">c</span>  
<span class="token builtin">flip</span>' <span class="token hvariable">f</span> <span class="token hvariable">y</span> <span class="token hvariable">x</span> <span class="token operator">=</span> <span class="token hvariable">f</span> <span class="token hvariable">x</span> <span class="token hvariable">y</span>  
</code></pre></div><h3 id="_5-3-map"><a href="#_5-3-map" class="header-anchor">#</a> 5.3 Map</h3> <blockquote><p><code>map (+3) [1,5,3,1,6]</code>is the same as writing <code>[x+3 | x &lt;- [1,5,3,1,6]].</code></p></blockquote> <div class="language-haskell extra-class"><pre class="language-haskell"><code>    <span class="token builtin">map</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token hvariable">b</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">b</span><span class="token punctuation">]</span>  
    <span class="token builtin">map</span> <span class="token hvariable">_</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  
    <span class="token builtin">map</span> <span class="token hvariable">f</span> <span class="token punctuation">(</span><span class="token hvariable">x</span><span class="token operator">:</span><span class="token hvariable">xs</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token hvariable">f</span> <span class="token hvariable">x</span> <span class="token operator">:</span> <span class="token builtin">map</span> <span class="token hvariable">f</span> <span class="token hvariable">xs</span>  
</code></pre></div><h3 id="_5-4-filter"><a href="#_5-4-filter" class="header-anchor">#</a> 5.4 Filter</h3> <div class="language-haskell extra-class"><pre class="language-haskell"><code>    <span class="token builtin">filter</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token constant">Bool</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span>  
    <span class="token builtin">filter</span> <span class="token hvariable">_</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  
    <span class="token builtin">filter</span> <span class="token hvariable">p</span> <span class="token punctuation">(</span><span class="token hvariable">x</span><span class="token operator">:</span><span class="token hvariable">xs</span><span class="token punctuation">)</span>   
        <span class="token operator">|</span> <span class="token hvariable">p</span> <span class="token hvariable">x</span>       <span class="token operator">=</span> <span class="token hvariable">x</span> <span class="token operator">:</span> <span class="token builtin">filter</span> <span class="token hvariable">p</span> <span class="token hvariable">xs</span>  
        <span class="token operator">|</span> <span class="token builtin">otherwise</span> <span class="token operator">=</span> <span class="token builtin">filter</span> <span class="token hvariable">p</span> <span class="token hvariable">xs</span>  
</code></pre></div><h3 id="_5-5-takewhile"><a href="#_5-5-takewhile" class="header-anchor">#</a> 5.5 takeWhile</h3> <p>take直到限制条件到</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token builtin">sum</span> <span class="token punctuation">(</span><span class="token builtin">takeWhile</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token number">10000</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">filter</span> <span class="token builtin">odd</span> <span class="token punctuation">(</span><span class="token builtin">map</span> <span class="token punctuation">(</span><span class="token operator">^</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">..</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  

<span class="token builtin">sum</span> <span class="token punctuation">(</span><span class="token builtin">takeWhile</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token number">10000</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token hvariable">n</span><span class="token operator">^</span><span class="token number">2</span> <span class="token operator">|</span> <span class="token hvariable">n</span> <span class="token operator">&lt;-</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">..</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">odd</span> <span class="token punctuation">(</span><span class="token hvariable">n</span><span class="token operator">^</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  
</code></pre></div><h3 id="_5-6-chain"><a href="#_5-6-chain" class="header-anchor">#</a> 5.6 Chain</h3> <p>生成 Collatz sequences</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">chain</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Integral</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span>  
<span class="token hvariable">chain</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>  
<span class="token hvariable">chain</span> <span class="token hvariable">n</span>  
    <span class="token operator">|</span> <span class="token builtin">even</span> <span class="token hvariable">n</span> <span class="token operator">=</span>  <span class="token hvariable">n</span><span class="token operator">:</span><span class="token hvariable">chain</span> <span class="token punctuation">(</span><span class="token hvariable">n</span> <span class="token operator">`div`</span> <span class="token number">2</span><span class="token punctuation">)</span>  
    <span class="token operator">|</span> <span class="token builtin">odd</span> <span class="token hvariable">n</span>  <span class="token operator">=</span>  <span class="token hvariable">n</span><span class="token operator">:</span><span class="token hvariable">chain</span> <span class="token punctuation">(</span><span class="token hvariable">n</span><span class="token operator">*</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> 
   
<span class="token comment">-- 小练习</span>
<span class="token hvariable">numLongChains</span> <span class="token operator">::</span> <span class="token constant">Int</span>  
<span class="token hvariable">numLongChains</span> <span class="token operator">=</span> <span class="token builtin">length</span> <span class="token punctuation">(</span><span class="token builtin">filter</span> <span class="token hvariable">isLong</span> <span class="token punctuation">(</span><span class="token builtin">map</span> <span class="token hvariable">chain</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">..</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
    <span class="token keyword">where</span> <span class="token hvariable">isLong</span> <span class="token hvariable">xs</span> <span class="token operator">=</span> <span class="token builtin">length</span> <span class="token hvariable">xs</span> <span class="token operator">&gt;</span> <span class="token number">15</span> 
</code></pre></div><h3 id="_5-7-map-0"><a href="#_5-7-map-0" class="header-anchor">#</a> 5.7 map (*) [0..]</h3> <blockquote><p>If we map <code>*</code> over the list<code>[0..]</code>, we get back a list of functions that only take one parameter, so <code>(Num a) =&gt; [a -&gt; a]</code>. <code>map (*) [0..]</code> produces a list like the one we'd get by writing <code>[(0*),(1*),(2*),(3*),(4*),(5*)...</code></p></blockquote> <p>实例代码</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token keyword">let</span> <span class="token hvariable">listOfFuns</span> <span class="token operator">=</span> <span class="token builtin">map</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">..</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token hvariable">listOfFuns</span> <span class="token operator">!!</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token number">5</span>  
<span class="token number">20</span>  
</code></pre></div><h3 id="_5-8-lambdas"><a href="#_5-8-lambdas" class="header-anchor">#</a> 5.8 Lambdas</h3> <p>语法: 一般以小括号阔起来, 以 <code>\</code> 开头</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">numLongChains</span> <span class="token operator">::</span> <span class="token constant">Int</span>  
<span class="token hvariable">numLongChains</span> <span class="token operator">=</span> <span class="token builtin">length</span> <span class="token punctuation">(</span><span class="token builtin">filter</span> <span class="token punctuation">(</span><span class="token operator">\</span><span class="token hvariable">xs</span> <span class="token operator">-&gt;</span> <span class="token builtin">length</span> <span class="token hvariable">xs</span> <span class="token operator">&gt;</span> <span class="token number">15</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">map</span> <span class="token hvariable">chain</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">..</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
</code></pre></div><p>一个比较好的用发</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token builtin">flip</span>' <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token hvariable">b</span> <span class="token operator">-&gt;</span> <span class="token hvariable">c</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token hvariable">b</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token hvariable">c</span>  
<span class="token builtin">flip</span>' <span class="token hvariable">f</span> <span class="token operator">=</span> <span class="token operator">\</span><span class="token hvariable">x</span> <span class="token hvariable">y</span> <span class="token operator">-&gt;</span> <span class="token hvariable">f</span> <span class="token hvariable">y</span> <span class="token hvariable">x</span>  
</code></pre></div><h3 id="_5-9-fold"><a href="#_5-9-fold" class="header-anchor">#</a> 5.9 Fold</h3> <p>我们用 <em>fold</em> 再次实现 <code>sum</code> 函数</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token builtin">sum</span>' <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Num</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span>  
<span class="token builtin">sum</span>' <span class="token hvariable">xs</span> <span class="token operator">=</span> <span class="token builtin">foldl</span> <span class="token punctuation">(</span><span class="token operator">\</span><span class="token hvariable">acc</span> <span class="token hvariable">x</span> <span class="token operator">-&gt;</span> <span class="token hvariable">acc</span> <span class="token operator">+</span> <span class="token hvariable">x</span><span class="token punctuation">)</span> <span class="token number">0</span> <span class="token hvariable">xs</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">sum</span>' <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>  
<span class="token number">11</span>  
</code></pre></div><ol><li><strong>foldl</strong> 接受2个参数, 分别是函数和一个初始值(或者说累加器), acc开始为0, 之后依次加 3, 5, 2, 1</li></ol> <p>函数的第一个参数是累加器, 第二个是当前的值</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token comment">-- 再次实现 elem</span>
<span class="token builtin">elem</span>' <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Eq</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token constant">Bool</span>
<span class="token builtin">elem</span>' <span class="token hvariable">x</span> <span class="token hvariable">xs</span> <span class="token operator">=</span> <span class="token builtin">foldl</span> <span class="token punctuation">(</span><span class="token operator">\</span><span class="token hvariable">acc</span> <span class="token hvariable">el</span> <span class="token operator">-&gt;</span> <span class="token keyword">if</span> <span class="token hvariable">el</span> <span class="token operator">==</span> <span class="token hvariable">x</span> <span class="token keyword">then</span> <span class="token constant">True</span> <span class="token keyword">else</span> <span class="token hvariable">acc</span><span class="token punctuation">)</span> <span class="token constant">False</span> <span class="token hvariable">xs</span>
</code></pre></div><ol start="2"><li><p><strong>foldr</strong> 与 foldl 相似, 不过是从右侧开始遍历元素, 其中, foldr的第一个参数是当前元素, 第二个元素是 acc 累加器</p></li> <li><p><strong>两种map的实现</strong></p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token comment">-- foldr</span>
<span class="token builtin">map</span>' <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token hvariable">b</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">b</span><span class="token punctuation">]</span>  
<span class="token builtin">map</span>' <span class="token hvariable">f</span> <span class="token hvariable">xs</span> <span class="token operator">=</span> <span class="token builtin">foldr</span> <span class="token punctuation">(</span><span class="token operator">\</span><span class="token hvariable">x</span> <span class="token hvariable">acc</span> <span class="token operator">-&gt;</span> <span class="token hvariable">f</span> <span class="token hvariable">x</span> <span class="token operator">:</span> <span class="token hvariable">acc</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token hvariable">xs</span>  
<span class="token comment">-- foldl</span>
<span class="token builtin">map</span>' <span class="token hvariable">f</span> <span class="token hvariable">xs</span> <span class="token operator">=</span> <span class="token builtin">foldl</span> <span class="token punctuation">(</span><span class="token operator">\</span><span class="token hvariable">acc</span> <span class="token hvariable">x</span> <span class="token operator">-&gt;</span> <span class="token hvariable">acc</span> <span class="token operator">++</span> <span class="token punctuation">[</span><span class="token hvariable">f</span> <span class="token hvariable">x</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token hvariable">xs</span>
</code></pre></div><p>在上面的案例中,  <code>foldr</code> 实现的更好, 因为 <code>:</code> 的开销比 <code>++</code> 小的多</p></li> <li><p>要注意的是 foldr 可以作用在无线列表上, foldl 不能</p></li> <li><p><strong>foldl1</strong> 和 <strong>foldr1</strong> 使用第一个或者最后一个作为初值, 不需要那个参数了</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token comment">-- 这里是一堆例子</span>
<span class="token builtin">maximum</span>' <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Ord</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span>  
<span class="token builtin">maximum</span>' <span class="token operator">=</span> <span class="token builtin">foldr1</span> <span class="token punctuation">(</span><span class="token operator">\</span><span class="token hvariable">x</span> <span class="token hvariable">acc</span> <span class="token operator">-&gt;</span> <span class="token keyword">if</span> <span class="token hvariable">x</span> <span class="token operator">&gt;</span> <span class="token hvariable">acc</span> <span class="token keyword">then</span> <span class="token hvariable">x</span> <span class="token keyword">else</span> <span class="token hvariable">acc</span><span class="token punctuation">)</span>  

<span class="token builtin">reverse</span>' <span class="token operator">::</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span>  
<span class="token builtin">reverse</span>' <span class="token operator">=</span> <span class="token builtin">foldl</span> <span class="token punctuation">(</span><span class="token operator">\</span><span class="token hvariable">acc</span> <span class="token hvariable">x</span> <span class="token operator">-&gt;</span> <span class="token hvariable">x</span> <span class="token operator">:</span> <span class="token hvariable">acc</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  

<span class="token builtin">product</span>' <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Num</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span>  
<span class="token builtin">product</span>' <span class="token operator">=</span> <span class="token builtin">foldr1</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span>  

<span class="token builtin">filter</span>' <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token constant">Bool</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span>  
<span class="token builtin">filter</span>' <span class="token hvariable">p</span> <span class="token operator">=</span> <span class="token builtin">foldr</span> <span class="token punctuation">(</span><span class="token operator">\</span><span class="token hvariable">x</span> <span class="token hvariable">acc</span> <span class="token operator">-&gt;</span> <span class="token keyword">if</span> <span class="token hvariable">p</span> <span class="token hvariable">x</span> <span class="token keyword">then</span> <span class="token hvariable">x</span> <span class="token operator">:</span> <span class="token hvariable">acc</span> <span class="token keyword">else</span> <span class="token hvariable">acc</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  

<span class="token builtin">head</span>' <span class="token operator">::</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span>  
<span class="token builtin">head</span>' <span class="token operator">=</span> <span class="token builtin">foldr1</span> <span class="token punctuation">(</span><span class="token operator">\</span><span class="token hvariable">x</span> <span class="token hvariable">_</span> <span class="token operator">-&gt;</span> <span class="token hvariable">x</span><span class="token punctuation">)</span>  

<span class="token builtin">last</span>' <span class="token operator">::</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span>  
<span class="token builtin">last</span>' <span class="token operator">=</span> <span class="token builtin">foldl1</span> <span class="token punctuation">(</span><span class="token operator">\</span><span class="token hvariable">_</span> <span class="token hvariable">x</span> <span class="token operator">-&gt;</span> <span class="token hvariable">x</span><span class="token punctuation">)</span>  
</code></pre></div></li> <li><p><strong>scanl</strong> 和 <strong>scanr</strong> 和fold类似, 不过会把中间的状态保留, 并返回一个列表</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">scanl</span> <span class="token punctuation">(</span><span class="token operator">+</span><span class="token punctuation">)</span> <span class="token number">0</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">scanr</span> <span class="token punctuation">(</span><span class="token operator">+</span><span class="token punctuation">)</span> <span class="token number">0</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">scanl1</span> <span class="token punctuation">(</span><span class="token operator">\</span><span class="token hvariable">acc</span> <span class="token hvariable">x</span> <span class="token operator">-&gt;</span> <span class="token keyword">if</span> <span class="token hvariable">x</span> <span class="token operator">&gt;</span> <span class="token hvariable">acc</span> <span class="token keyword">then</span> <span class="token hvariable">x</span> <span class="token keyword">else</span> <span class="token hvariable">acc</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">scanl</span> <span class="token punctuation">(</span><span class="token builtin">flip</span> <span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span>  
</code></pre></div></li></ol> <h3 id="_5-10-运算符"><a href="#_5-10-运算符" class="header-anchor">#</a> 5.10 $ 运算符</h3> <blockquote><p>Whereas normal function application (putting a space between two things) has a really high precedence, the $ function has the lowest precedence. Function application with a space is left-associative (so f a b c is the same as ((f a) b) c)), function application with $ is right-associative.</p></blockquote> <p>空格具有较高的优先级, 但是 <code>$</code> 具有最低的优先级</p> <p>使用空格分割的是左关联的, 而使用 <code>$</code> 分割的是右关联的</p> <p>有什么用?</p> <ol><li><p>少些括号</p> <p><code>sum (map sqrt [1..130])</code> 可以用 <code>sum $ map sqrt [1..130]</code> 代替, <code>sqrt 3 + 4 + 9</code>是13+根号3, 但是<code>sqrt $ 3 + 4 + 9</code> 就正常</p> <p>[]:</p> <blockquote><p>How about sum (filter (&gt; 10) (map (*2) [2..10]))? Well, because $ is right-associative, f (g (z x)) is equal to f $ g $ z x. And so, we can rewrite sum (filter (&gt; 10) (map (*2) [2..10])) as sum $ filter (&gt; 10) $ map (*2) [2..10].</p></blockquote></li> <li><p>增加特性</p></li></ol> <p>加了 <code>$</code> 意味着可以被当作函数来对待， 所以下面的写法是可行的</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">map</span> <span class="token punctuation">(</span><span class="token operator">$</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token operator">+</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">^</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">sqrt</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token number">7.0</span><span class="token punctuation">,</span><span class="token number">30.0</span><span class="token punctuation">,</span><span class="token number">9.0</span><span class="token punctuation">,</span><span class="token number">1.7320508075688772</span><span class="token punctuation">]</span>  
</code></pre></div><h3 id="_5-11-函数组合"><a href="#_5-11-函数组合" class="header-anchor">#</a> 5.11 函数组合</h3> <p><code>.</code> 是一个运算符， 他的定义如下</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token hvariable">b</span> <span class="token operator">-&gt;</span> <span class="token hvariable">c</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">(</span><span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token hvariable">b</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token hvariable">c</span>  
<span class="token hvariable">f</span> <span class="token operator">.</span> <span class="token hvariable">g</span> <span class="token operator">=</span> <span class="token operator">\</span><span class="token hvariable">x</span> <span class="token operator">-&gt;</span> <span class="token hvariable">f</span> <span class="token punctuation">(</span><span class="token hvariable">g</span> <span class="token hvariable">x</span><span class="token punctuation">)</span>  
</code></pre></div><p>有了这个后， 一些嵌套的函数就能简写， 例如</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token comment">-- before</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">map</span> <span class="token punctuation">(</span><span class="token operator">\</span><span class="token hvariable">x</span> <span class="token operator">-&gt;</span> <span class="token builtin">negate</span> <span class="token punctuation">(</span><span class="token builtin">abs</span> <span class="token hvariable">x</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">24</span><span class="token punctuation">]</span>  
<span class="token comment">-- now</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">map</span> <span class="token punctuation">(</span><span class="token builtin">negate</span> <span class="token operator">.</span> <span class="token builtin">abs</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">24</span><span class="token punctuation">]</span> 
</code></pre></div><h2 id="_6-模块"><a href="#_6-模块" class="header-anchor">#</a> 6. 模块</h2> <p><strong>Modules</strong></p> <h3 id="_6-1-导入模块"><a href="#_6-1-导入模块" class="header-anchor">#</a> 6.1 导入模块</h3> <ol><li>导入</li></ol> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token comment">-- 1. 导入一个模块</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">import</span> <span class="token constant">Data<span class="token punctuation">.</span>List</span>
<span class="token comment">-- 2. 导入多个模块</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token operator">:</span><span class="token hvariable">m</span> <span class="token operator">+</span> <span class="token constant">Data<span class="token punctuation">.</span>List</span> <span class="token constant">Data<span class="token punctuation">.</span>Map</span> <span class="token constant">Data<span class="token punctuation">.</span>Set</span>  
<span class="token comment">-- 3. 导入某些函数</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">import</span> <span class="token constant">Data<span class="token punctuation">.</span>List</span> <span class="token punctuation">(</span><span class="token hvariable">nub</span><span class="token punctuation">,</span> <span class="token builtin">sort</span><span class="token punctuation">)</span>
<span class="token comment">-- 4. 不导入某些指定的函数</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">import</span> <span class="token constant">Data<span class="token punctuation">.</span>List</span> <span class="token hvariable">hiding</span> <span class="token punctuation">(</span><span class="token hvariable">nub</span><span class="token punctuation">)</span>
</code></pre></div><ol start="2"><li>As</li></ol> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token comment">-- 避免重名， 但是使用时必须指定 Data.Map.filter</span>
<span class="token import-statement"><span class="token keyword">import</span> <span class="token keyword">qualified</span> Data<span class="token punctuation">.</span>Map</span>  
<span class="token comment">-- 换名， 可以用 M.filter</span>
<span class="token import-statement"><span class="token keyword">import</span> <span class="token keyword">qualified</span> Data<span class="token punctuation">.</span>Map <span class="token keyword">as</span> M</span>  
</code></pre></div><h3 id="_6-2-data-list"><a href="#_6-2-data-list" class="header-anchor">#</a> 6.2 Data.List</h3> <h4 id="_6-2-1-intersperse"><a href="#_6-2-1-intersperse" class="header-anchor">#</a> 6.2.1 intersperse</h4> <p><em>向List中填充元素</em></p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">intersperse</span> <span class="token char string">'.'</span> <span class="token string">&quot;MONKEY&quot;</span>  
<span class="token string">&quot;M.O.N.K.E.Y&quot;</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">intersperse</span> <span class="token number">0</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>  
</code></pre></div><h4 id="_6-2-2-intercalate"><a href="#_6-2-2-intercalate" class="header-anchor">#</a> 6.2.2 intercalate</h4> <p><em>填充后和并返回</em></p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">intersperse</span> <span class="token char string">'.'</span> <span class="token string">&quot;MONKEY&quot;</span>  
<span class="token string">&quot;M.O.N.K.E.Y&quot;</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">intersperse</span> <span class="token number">0</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>  
</code></pre></div><h4 id="_6-2-3-transpose"><a href="#_6-2-3-transpose" class="header-anchor">#</a> 6.2.3 transpose</h4> <p><em>矩阵转置</em></p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">transpose</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">]</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">transpose</span> <span class="token punctuation">[</span><span class="token string">&quot;hey&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;there&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;guys&quot;</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token string">&quot;htg&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;ehu&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;yey&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;rs&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;e&quot;</span><span class="token punctuation">]</span>  
</code></pre></div><h4 id="_6-2-4-foldl-foldl1"><a href="#_6-2-4-foldl-foldl1" class="header-anchor">#</a> 6.2.4 foldl' foldl1'</h4> <blockquote><p>foldl' and foldl1' are stricter versions of their respective lazy incarnations. When using lazy folds on really big lists, you might often get a stack overflow  error. The culprit for that is that due to the lazy nature of the folds, the accumulator value isn't actually updated as the folding happens.  What actually happens is that the accumulator kind of makes a promise  that it will compute its value when asked to actually produce the result (also called a thunk). That happens for every intermediate accumulator  and all those thunks overflow your stack. The strict folds aren't lazy  buggers and actually compute the intermediate values as they go along  instead of filling up your stack with thunks. So if you ever get stack  overflow errors when doing lazy folds, try switching to their strict  versions.</p></blockquote> <p>能够即使运算， 防止堆栈溢出</p> <h4 id="_6-2-5-concat"><a href="#_6-2-5-concat" class="header-anchor">#</a> 6.2.5 concat</h4> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">concat</span> <span class="token punctuation">[</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;car&quot;</span><span class="token punctuation">]</span>  
<span class="token string">&quot;foobarcar&quot;</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">concat</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>  
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>  
</code></pre></div><p><strong>concatMap == concat map</strong></p> <h4 id="_6-2-6-and-or"><a href="#_6-2-6-and-or" class="header-anchor">#</a> 6.2.6 and &amp; or</h4> <p>需要配合map使用</p> <blockquote><p>and takes a list of boolean values and returns True only if all the values in the list are True.</p></blockquote> <p>全为真返回True</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">and</span> <span class="token operator">$</span> <span class="token builtin">map</span> <span class="token punctuation">(</span><span class="token operator">&gt;</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span>  
<span class="token constant">True</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">and</span> <span class="token operator">$</span> <span class="token builtin">map</span> <span class="token punctuation">(</span><span class="token operator">==</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>  
<span class="token constant">False</span>  
</code></pre></div><blockquote><p>or is like and, only it returns True if any of the boolean values in a list is True.</p></blockquote> <p>有真就返回True</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">or</span> <span class="token operator">$</span> <span class="token builtin">map</span> <span class="token punctuation">(</span><span class="token operator">==</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>  
<span class="token constant">True</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">or</span> <span class="token operator">$</span> <span class="token builtin">map</span> <span class="token punctuation">(</span><span class="token operator">&gt;</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>  
<span class="token constant">False</span>  
</code></pre></div><h4 id="_6-2-7-all-any"><a href="#_6-2-7-all-any" class="header-anchor">#</a> 6.2.7 all &amp; any</h4> <p>and 和 or 的替代品</p> <div class="language-haskell extra-class"><pre class="language-haskell"><code><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">any</span> <span class="token punctuation">(</span><span class="token operator">==</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>  
<span class="token constant">True</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">all</span> <span class="token punctuation">(</span><span class="token operator">&gt;</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span>  
<span class="token constant">True</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">all</span> <span class="token punctuation">(</span><span class="token operator">`elem`</span> <span class="token punctuation">[</span><span class="token char string">'A'</span><span class="token operator">..</span><span class="token char string">'Z'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token string">&quot;HEYGUYSwhatsup&quot;</span>  
<span class="token constant">False</span>  
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">any</span> <span class="token punctuation">(</span><span class="token operator">`elem`</span> <span class="token punctuation">[</span><span class="token char string">'A'</span><span class="token operator">..</span><span class="token char string">'Z'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token string">&quot;HEYGUYSwhatsup&quot;</span>  
<span class="token constant">True</span>  
</code></pre></div><h3 id="_6-3-其他常用模块"><a href="#_6-3-其他常用模块" class="header-anchor">#</a> 6.3 其他常用模块</h3> <p>不写了， 自己去查</p> <h3 id="_6-4-写模块"><a href="#_6-4-写模块" class="header-anchor">#</a> 6.4 写模块</h3></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/4/2021, 1:34:57 PM</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/magic/fd.html">
        文件系统
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.1bd48539.js" defer></script><script src="/assets/js/2.a44404e3.js" defer></script><script src="/assets/js/25.503e7a39.js" defer></script>
  </body>
</html>
