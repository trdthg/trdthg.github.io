<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>第二次课 HTTP协议 | Trdthg&#39;s blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="logo.png">
    <meta name="description" content="我的个人网站">
    
    <link rel="preload" href="/assets/css/0.styles.3bd4109d.css" as="style"><link rel="preload" href="/assets/js/app.37b4c4af.js" as="script"><link rel="preload" href="/assets/js/2.a44404e3.js" as="script"><link rel="preload" href="/assets/js/11.87eb7338.js" as="script"><link rel="prefetch" href="/assets/js/10.a7d0caf6.js"><link rel="prefetch" href="/assets/js/12.f98a995b.js"><link rel="prefetch" href="/assets/js/13.3e72cb60.js"><link rel="prefetch" href="/assets/js/14.06d255e6.js"><link rel="prefetch" href="/assets/js/15.7ea0b201.js"><link rel="prefetch" href="/assets/js/16.6bb14f49.js"><link rel="prefetch" href="/assets/js/17.151ead24.js"><link rel="prefetch" href="/assets/js/18.21344220.js"><link rel="prefetch" href="/assets/js/19.7d870ba6.js"><link rel="prefetch" href="/assets/js/20.977672bd.js"><link rel="prefetch" href="/assets/js/21.4dc71c10.js"><link rel="prefetch" href="/assets/js/22.a5555d1c.js"><link rel="prefetch" href="/assets/js/23.04476ed5.js"><link rel="prefetch" href="/assets/js/24.4127deb5.js"><link rel="prefetch" href="/assets/js/25.326f1e2c.js"><link rel="prefetch" href="/assets/js/26.d9639aaf.js"><link rel="prefetch" href="/assets/js/27.80ed2d7a.js"><link rel="prefetch" href="/assets/js/28.4022ea5f.js"><link rel="prefetch" href="/assets/js/29.7634d8da.js"><link rel="prefetch" href="/assets/js/3.fed55998.js"><link rel="prefetch" href="/assets/js/30.5e8b0065.js"><link rel="prefetch" href="/assets/js/31.01016c49.js"><link rel="prefetch" href="/assets/js/4.98c9fba3.js"><link rel="prefetch" href="/assets/js/5.ca1c5419.js"><link rel="prefetch" href="/assets/js/6.b73169f3.js"><link rel="prefetch" href="/assets/js/7.d3da12af.js"><link rel="prefetch" href="/assets/js/8.cf648b2c.js"><link rel="prefetch" href="/assets/js/9.52e3062a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.3bd4109d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Trdthg's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/java/java.html" class="nav-link">
  Java
</a></div><div class="nav-item"><a href="/js/vue.html" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/python/python.html" class="nav-link">
  Python
</a></div><div class="nav-item"><a href="/rust/wasm.html" class="nav-link">
  Rust
</a></div><div class="nav-item"><a href="/magic/haskell.html" class="nav-link">
  魔法
</a></div><div class="nav-item"><a href="/ioclub/oauth2.html" class="nav-link">
  IO Club
</a></div><div class="nav-item"><a href="/other/other.html" class="nav-link">
  其他
</a></div><div class="nav-item"><a href="https://github.com/trdthg" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/java/java.html" class="nav-link">
  Java
</a></div><div class="nav-item"><a href="/js/vue.html" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/python/python.html" class="nav-link">
  Python
</a></div><div class="nav-item"><a href="/rust/wasm.html" class="nav-link">
  Rust
</a></div><div class="nav-item"><a href="/magic/haskell.html" class="nav-link">
  魔法
</a></div><div class="nav-item"><a href="/ioclub/oauth2.html" class="nav-link">
  IO Club
</a></div><div class="nav-item"><a href="/other/other.html" class="nav-link">
  其他
</a></div><div class="nav-item"><a href="https://github.com/trdthg" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/ioclub/oauth2.html" class="sidebar-link">OAuth 2.0 Simplified</a></li><li><a href="/ioclub/share_1.html" class="sidebar-link">B+树以及在数据库中的应用</a></li><li><a href="/ioclub/backend_1.html" class="sidebar-link">第一节课 前导知识</a></li><li><a href="/ioclub/backend_2.html" aria-current="page" class="active sidebar-link">第二次课 HTTP协议</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ioclub/backend_2.html#前言" class="sidebar-link">前言</a></li><li class="sidebar-sub-header"><a href="/ioclub/backend_2.html#_1-python-和-c的基础语法" class="sidebar-link">1. python 和 C的基础语法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ioclub/backend_2.html#c-基础语法" class="sidebar-link">C 基础语法</a></li><li class="sidebar-sub-header"><a href="/ioclub/backend_2.html#python-基础语法" class="sidebar-link">python 基础语法</a></li></ul></li><li class="sidebar-sub-header"><a href="/ioclub/backend_2.html#_2-解释上次的代码" class="sidebar-link">2. 解释上次的代码</a></li><li class="sidebar-sub-header"><a href="/ioclub/backend_2.html#_3-http-格式" class="sidebar-link">3. HTTP 格式</a></li><li class="sidebar-sub-header"><a href="/ioclub/backend_2.html#_4-请求信息" class="sidebar-link">4. 请求信息</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ioclub/backend_2.html#_4-1请求行" class="sidebar-link">4.1请求行</a></li><li class="sidebar-sub-header"><a href="/ioclub/backend_2.html#_4-2-请求头-首部字段" class="sidebar-link">4.2 请求头(首部字段)</a></li></ul></li><li class="sidebar-sub-header"><a href="/ioclub/backend_2.html#_5-响应信息" class="sidebar-link">5. 响应信息</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ioclub/backend_2.html#_5-1-状态行" class="sidebar-link">5.1 状态行</a></li><li class="sidebar-sub-header"><a href="/ioclub/backend_2.html#_5-2-响应头" class="sidebar-link">5.2 响应头</a></li></ul></li><li class="sidebar-sub-header"><a href="/ioclub/backend_2.html#_6-最关注的" class="sidebar-link">6. 最关注的</a></li><li class="sidebar-sub-header"><a href="/ioclub/backend_2.html#_7-附录" class="sidebar-link">7. 附录</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ioclub/backend_2.html#_1-请求方法-method" class="sidebar-link">1. 请求方法(method)</a></li><li class="sidebar-sub-header"><a href="/ioclub/backend_2.html#_2-响应码" class="sidebar-link">2. 响应码</a></li><li class="sidebar-sub-header"><a href="/ioclub/backend_2.html#_3-content-type-mime类型-互联网媒体类型" class="sidebar-link">3. content-type(MIME类型 / 互联网媒体类型)</a></li><li class="sidebar-sub-header"><a href="/ioclub/backend_2.html#_4-发送请求的几种方式" class="sidebar-link">4. 发送请求的几种方式</a></li></ul></li></ul></li><li><a href="/ioclub/backend_3.html" class="sidebar-link">第三次课 Cookie登录</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="第二次课-http协议"><a href="#第二次课-http协议" class="header-anchor">#</a> 第二次课 HTTP协议</h1> <h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h2> <p>我们上节课只是双击python文件运行了python， 不过还是建议大家使用 <strong>vscode</strong> 或者是 <strong>pycharm</strong> 这两个软件去写python</p> <p>有能力使用终端运行就更好了</p> <h2 id="_1-python-和-c的基础语法"><a href="#_1-python-和-c的基础语法" class="header-anchor">#</a> 1. python 和 C的基础语法</h2> <h3 id="c-基础语法"><a href="#c-基础语法" class="header-anchor">#</a> C 基础语法</h3> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
    <span class="token comment">// 1. 字符串</span>
    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">char</span><span class="token operator">*</span> b <span class="token operator">=</span> <span class="token string">&quot;this is a sentence&quot;</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s&quot;</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 2. 数组</span>
    <span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 剩下的位置会被添为0</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 4. 结构体</span>
    <span class="token keyword">struct</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> a<span class="token punctuation">;</span>
        <span class="token keyword">int</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">struct</span> <span class="token class-name">Dog</span> dog<span class="token punctuation">;</span>
    dog<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span> dog<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 3. 函数</span>
<span class="token keyword">int</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="python-基础语法"><a href="#python-基础语法" class="header-anchor">#</a> python 基础语法</h3> <div class="language-python extra-class"><pre class="language-python"><code>
<span class="token comment"># 1. 字符串</span>
a <span class="token operator">=</span> <span class="token number">1</span>
b <span class="token operator">=</span> <span class="token string">&quot;this is python&quot;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>a<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;{}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 2. 容器， python提供了多种方便的存储结构</span>
<span class="token comment"># 2.1 列表(数组)</span>
arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># 2.2 元组</span>
a <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
first <span class="token operator">=</span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token comment">## 2.3 字典</span>
a <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;a&quot;</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">&quot;b&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 3. 函数</span>
<span class="token keyword">def</span> <span class="token function">sum</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 4. 类</span>
<span class="token keyword">class</span> <span class="token class-name">dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    name <span class="token operator">=</span> <span class="token string">&quot;default&quot;</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name

    <span class="token keyword">def</span> <span class="token function">eat</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> food<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;eat </span><span class="token interpolation"><span class="token punctuation">{</span>food<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>

a <span class="token operator">=</span> dog<span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
a<span class="token punctuation">.</span>eat<span class="token punctuation">(</span><span class="token string">&quot;banana&quot;</span><span class="token punctuation">)</span>

</code></pre></div><h2 id="_2-解释上次的代码"><a href="#_2-解释上次的代码" class="header-anchor">#</a> 2. 解释上次的代码</h2> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># UK: /flɑːsk/ US:/flæsk/</span>

<span class="token comment"># 引入一个外部库类似与C的#include&lt;***.h&gt;</span>
<span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask<span class="token punctuation">,</span> request

<span class="token comment"># 定义一个server</span>
app <span class="token operator">=</span> Flask<span class="token punctuation">(</span><span class="token string">&quot;server name&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># 指定这个函数a()匹配的路径</span>
<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment"># 定义一个函数</span>

    <span class="token comment"># 获取所有在url上的请求参数</span>
    <span class="token comment"># http://localhost:5000/hello?a=1&amp;b=2</span>
    args <span class="token operator">=</span> request<span class="token punctuation">.</span>args
    <span class="token keyword">print</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>

    <span class="token comment"># 向客户端返回信息(不包括响应头,只有响应体)</span>
    <span class="token comment"># 所以我们的server返回了`&lt;h1&gt;你发送了POST请求&lt;/h1&gt;`</span>
    <span class="token comment"># 这一段特殊格式的字符串, 这个字符串会被浏览器解析为html代码, 并被渲染出来</span>
    <span class="token keyword">return</span> <span class="token string">&quot;&lt;h1&gt;Hello World&lt;/h1&gt;&quot;</span>

<span class="token comment"># 指定运行的ip和端口并运行</span>
app<span class="token punctuation">.</span>run<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">5000</span><span class="token punctuation">)</span>

<span class="token comment"># 程序运行后就类似与开启了一个无限循环</span>

</code></pre></div><h2 id="_3-http-格式"><a href="#_3-http-格式" class="header-anchor">#</a> 3. HTTP 格式</h2> <p>请求行
请求
body</p> <p>response line(version, status code, desc)
header field
body</p> <h2 id="_4-请求信息"><a href="#_4-请求信息" class="header-anchor">#</a> 4. 请求信息</h2> <div class="language- extra-class"><pre class="language-text"><code>GET /hello HTTP/1.0
Host: localhost:5000
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:93.0) Gecko/20100101 Firefox/93.0
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp
Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2
Accept-Encoding: gzip, deflate
Connection: keep-alive
Upgrade-Insecure-Requests: 1
Sec-Fetch-Dest: document
Sec-Fetch-Mode: navigate
Sec-Fetch-Site: none
Sec-Fetch-User: ?1
Cache-Control: max-age=0
</code></pre></div><h3 id="_4-1请求行"><a href="#_4-1请求行" class="header-anchor">#</a> 4.1请求行</h3> <p>所有HTTP请求的第一行都是请求行，依次是当前HTTP版本号，3位数字组成的<a href="https://zh.wikipedia.org/wiki/HTTP%E7%8A%B6%E6%80%81%E7%A0%81" target="_blank" rel="noopener noreferrer">状态代码<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，以及描述状态的短语，彼此由<strong>空格分隔</strong>。</p> <div class="language-apl extra-class"><pre class="language-apl"><code><span class="token function">+</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">+</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">+</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">+</span>
<span class="token function">|</span>method   <span class="token function">|</span>url     <span class="token function">|</span>HTTP version<span class="token function">|</span>
<span class="token function">+</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">+</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">+</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">+</span>
<span class="token function">|</span>GET      <span class="token function">|</span><span class="token monadic-operator operator">/</span>hello  <span class="token function">|</span>HTTP<span class="token monadic-operator operator">/</span><span class="token number">1.1</span>    <span class="token function">|</span>
<span class="token function">+</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">+</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">+</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">+</span>
</code></pre></div><h4 id="_4-1-1-method"><a href="#_4-1-1-method" class="header-anchor">#</a> 4.1.1 method</h4> <p>服务端可以根据method, 对于同一个url作出不同的响应</p> <p>HTTP 协议定义了一组请求方法，以表明要对给定资源执行的操作。指示针对给定资源要执行的期望动作。</p> <ul><li>GET
向特定的资源发出请求，使用GET的请求应该只被用于获取数据。</li> <li>POST
向指定资源提交数据进行处理请求（例如提交表单或者上传文件）。数据被包含在请求体中。POST请求可能会导致新的资源的创建和/或已有资源的修改。</li></ul> <h4 id="_4-1-2-url"><a href="#_4-1-2-url" class="header-anchor">#</a> 4.1.2 url</h4> <p>统一资源标识符, 需要注意的是 <strong>url不包含host(ip)和port(端口号)</strong></p> <div class="language- extra-class"><pre class="language-text"><code>https://www.baidu.com/s?wd=hello?a=1&amp;b=2
                     |--------URL-------|
                       
http://http://182.61.200.6:80/s?wd=hello   
                             |---URL---|
:80可以不带(dns服务器解析后会自动加上80)
</code></pre></div><h4 id="_4-1-3-demo1"><a href="#_4-1-3-demo1" class="header-anchor">#</a> <strong>4.1.3 demo1</strong></h4> <ul><li><p>准备一个python文件例如（server1.py）， 写入下面的内容</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask<span class="token punctuation">,</span> request
app <span class="token operator">=</span> Flask<span class="token punctuation">(</span><span class="token string">&quot;server name&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># 把hello()函数 绑定到url /hello 上 </span>
<span class="token comment"># 并指定了访问这个url必须使用GET或者是POST方法</span>
<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;POST&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> request<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">&quot;GET&quot;</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">&quot;&lt;h1&gt;你发送了GET请求&lt;/h1&gt;&quot;</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">&quot;&lt;h1&gt;你发送了POST请求&lt;/h1&gt;&quot;</span>

app<span class="token punctuation">.</span>run<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">5000</span><span class="token punctuation">)</span>
</code></pre></div><p>当我在终端中输入<code>python server1.py</code>运行这个文件后出现<img src="/ioclub/image-20211017114146285.png" alt="/ioclub/image-20211017114146285"></p> <p>表示运行成功</p></li> <li><p>现在我们尝试发送请求</p> <p>当我们在地址栏输入<code>http://localhost:5000/hello</code>后出现了</p> <p><img src="/ioclub/image-20211017114823081.png" alt="/ioclub/image-20211017114823081"></p> <p>原因是浏览器地址栏只能发送出GET请求, 所以我们的server返回了<code>&lt;h1&gt;你发送了POST请求&lt;/h1&gt;</code></p> <p>想要发送post请求, 这里我们使用requests库, 使用前类似与flask, 需要进行安装</p> <ol><li><p>安装requests: 在cmd 或者 powershell 输入</p> <p><code>pip install -i https://pypi.tuna.tsinghua.edu.cn/simple</code></p> <p>之后等待安装成功</p></li> <li><p>通过代码模拟浏览器发送请求</p></li></ol> <p>准备一个新的python文件（例如client1.py, 不要起成requests.py）</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> requests
分别尝试向服务器发送url相同但method不同的请求
<span class="token comment"># res = requests.get('http://localhost:5000/hello')</span>
res <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span><span class="token string">'http://localhost:5000/hello'</span><span class="token punctuation">)</span>
<span class="token comment"># res = requests.patch('http://localhost:5000/hello')</span>

<span class="token comment"># 打印服务去返回的相应码</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>status_code<span class="token punctuation">)</span>
<span class="token comment"># 打印服务器返回的信息</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>text<span class="token punctuation">)</span>
</code></pre></div><p>在终端下（cmd或者powershell里）使用python运行这个新的文件</p> <p>输入<code>python client1.py</code></p> <p>下面是我的运行结果</p> <p><img src="/ioclub/image-20211017120112170.png" alt="/ioclub/image-20211017120112170"></p></li></ul> <h3 id="_4-2-请求头-首部字段"><a href="#_4-2-请求头-首部字段" class="header-anchor">#</a> 4.2 请求头(首部字段)</h3> <h4 id="_4-2-1-常见的字段"><a href="#_4-2-1-常见的字段" class="header-anchor">#</a> 4.2.1 常见的字段</h4> <div class="language-txt extra-class"><pre class="language-txt"><code>- Host: cn.windicss.org
- User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:93.0) Gecko/20100101 Firefox/93.0

- Accept: image/avif,image/webp,*/*
- Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2
- Accept-Encoding: gzip, deflate, br
- Connection: keep-alive
- Cache-Control: max-age=0
- Cookie: BAIDUID=00252988D408C94FC60DDBD3E7084AE3:FG=1;
- ........
</code></pre></div><p>在请求头中, 只有host是必选的内容</p> <p>下面是一些常见的字段</p> <table><thead><tr><th>协议头字段名</th> <th>说明</th> <th>示例</th></tr></thead> <tbody><tr><td>Accept</td> <td>能够接受的回应内容类型（Content-Types）</td> <td><code>Accept: text/plain</code></td></tr> <tr><td>User-Agent</td> <td>浏览器的浏览器身份标识字符串</td> <td><code>User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:12.0) Gecko/20100101 Firefox/21.0</code></td></tr> <tr><td>Host</td> <td>服务器的域名,以及监听的端口号。如果所请求的端口默认端口例如80，则端口号可被省略。</td> <td><code>Host: zh.wikipedia.org:80</code> <code>Host: zh.wikipedia.org</code></td></tr> <tr><td>Cookie</td> <td>由服务器通过发送的一些信息, 作为缓存存储在客户端(浏览器)上</td> <td><code>Cookie: $Version=1; Skin=new;</code></td></tr> <tr><td>Content-Length</td> <td>请求体的长度</td> <td><code>Content-Length: 348</code></td></tr> <tr><td>Content-Type</td> <td>请求体的 <a href="https://zh.wikipedia.org/wiki/MIME" target="_blank" rel="noopener noreferrer">MIME<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>类型 （用于POST和PUT请求中）</td> <td><code>Content-Type: application/x-www-form-urlencoded</code></td></tr></tbody></table> <h4 id="_4-2-2-demo2"><a href="#_4-2-2-demo2" class="header-anchor">#</a> 4.2.2 demo2</h4> <p>服务器能够获取浏览器（或者是任何东西按照格式）发出的请求的详细信息</p> <ol><li><p>准备一个<code>server2.py</code>并写入下面的内容， 之后运行</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask<span class="token punctuation">,</span> request
app <span class="token operator">=</span> Flask<span class="token punctuation">(</span><span class="token string">&quot;server name&quot;</span><span class="token punctuation">)</span>

<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;POST&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 只有这里的代码和之前的不一样</span>
    method <span class="token operator">=</span> request<span class="token punctuation">.</span>method
    url <span class="token operator">=</span> request<span class="token punctuation">.</span>path
    headers <span class="token operator">=</span> request<span class="token punctuation">.</span>headers
	<span class="token comment"># 和C语言一样，往字符串里加入变量， 只不过写法稍微不同， 大括号里就是变量名</span>
    responce <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f'method: </span><span class="token interpolation"><span class="token punctuation">{</span>method<span class="token punctuation">}</span></span><span class="token string"> \nurl: </span><span class="token interpolation"><span class="token punctuation">{</span>url<span class="token punctuation">}</span></span><span class="token string">\nheaders: </span><span class="token interpolation"><span class="token punctuation">{</span>headers<span class="token punctuation">}</span></span><span class="token string">'</span></span>
    <span class="token keyword">return</span> responce
app<span class="token punctuation">.</span>run<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">5000</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>我们从浏览器访问<code>http://localhost:5000/hello</code></p> <p>结果<img src="/ioclub/image-20211017125042261.png" alt="/ioclub/image-20211017125042261"></p></li> <li><p>尝试用代码发送请求， 准备一个<code>client2.py</code>并复制下面的代码</p> <p>这次我们主动向发出的请求头中加入了两个我们自定义的两个字段</p> <p><code>&quot;a&quot;: &quot;aa&quot; &quot;b&quot;: &quot;bb&quot;</code></p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> requests
<span class="token comment"># .get就是发送get请求</span>
<span class="token comment"># 这个函数本身有很多参数， 我们可以通过`参数名=参数`手动制定每个参数的对应关系</span>
res <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token keyword">import</span> requests
res <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>
    url<span class="token operator">=</span><span class="token string">'http://localhost:5000/hello'</span><span class="token punctuation">,</span> 
    headers<span class="token operator">=</span><span class="token punctuation">{</span>
        <span class="token string">&quot;a&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;aa&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;b&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;bb&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>status_code<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>text<span class="token punctuation">)</span>
</code></pre></div><p>在终端输入<code>python client2.py</code></p> <p>结果<img src="/ioclub/image-20211017125630840.png" alt="/ioclub/image-20211017125630840"></p></li></ol> <h2 id="_5-响应信息"><a href="#_5-响应信息" class="header-anchor">#</a> 5. 响应信息</h2> <h3 id="_5-1-状态行"><a href="#_5-1-状态行" class="header-anchor">#</a> 5.1 状态行</h3> <p>所有HTTP响应的第一行都是<strong>状态行</strong>，依次是当前HTTP版本号，3位数字组成的<a href="https://zh.wikipedia.org/wiki/HTTP%E7%8A%B6%E6%80%81%E7%A0%81" target="_blank" rel="noopener noreferrer">状态代码<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，以及描述状态的短语，彼此由空格分隔。</p> <div class="language-apl extra-class"><pre class="language-apl"><code><span class="token function">+</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">+</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">+</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">+</span>
<span class="token function">|</span>HTTP版本号<span class="token function">|</span>状态码<span class="token function">|</span>描述短语<span class="token function">|</span>
<span class="token function">+</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">+</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">+</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">+</span>
<span class="token function">|</span>HTTP<span class="token monadic-operator operator">/</span><span class="token number">1.1</span> <span class="token function">|</span><span class="token number">200</span>  <span class="token function">|</span> OK    <span class="token function">|</span>
<span class="token function">+</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">+</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">+</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">-</span><span class="token function">+</span>
</code></pre></div><h4 id="_5-1-1-响应码"><a href="#_5-1-1-响应码" class="header-anchor">#</a> 5.1.1 响应码</h4> <p>状态代码的第一个数字代表当前响应的类型：</p> <ul><li><a href="https://zh.wikipedia.org/wiki/HTTP%E7%8A%B6%E6%80%81%E7%A0%81#1xx%E6%B6%88%E6%81%AF" target="_blank" rel="noopener noreferrer">1xx消息<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>——请求已被服务器接收，继续处理</li> <li><a href="https://zh.wikipedia.org/wiki/HTTP%E7%8A%B6%E6%80%81%E7%A0%81#2xx%E6%88%90%E5%8A%9F" target="_blank" rel="noopener noreferrer">2xx成功<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>——请求已成功被服务器接收、理解、并接受</li> <li><a href="https://zh.wikipedia.org/wiki/HTTP%E7%8A%B6%E6%80%81%E7%A0%81#3xx%E9%87%8D%E5%AE%9A%E5%90%91" target="_blank" rel="noopener noreferrer">3xx重定向<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>——需要后续操作才能完成这一请求</li> <li><a href="https://zh.wikipedia.org/wiki/HTTP%E7%8A%B6%E6%80%81%E7%A0%81#4xx%E8%AF%B7%E6%B1%82%E9%94%99%E8%AF%AF" target="_blank" rel="noopener noreferrer">4xx请求错误<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>——请求含有词法错误或者无法被执行</li> <li><a href="https://zh.wikipedia.org/wiki/HTTP%E7%8A%B6%E6%80%81%E7%A0%81#5xx%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%94%99%E8%AF%AF" target="_blank" rel="noopener noreferrer">5xx服务器错误<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>——服务器在处理某个正确请求时发生错误</li></ul> <p>下面是一些常见的响应码</p> <ul><li><p>200 OK
请求成功。</p></li> <li><p>404 Not Found</p> <p>请求失败，请求所希望得到的资源未被在服务器上发现</p></li> <li><p>500 Internal Server Error
服务器遇到了不知道如何处理的情况。</p></li></ul> <h4 id="_5-1-2-demo3"><a href="#_5-1-2-demo3" class="header-anchor">#</a> 5.1.2 demo3</h4> <p>我们分别尝试向百度和豆瓣发送请求</p> <p>准备一个<code>client3.py</code>并复制下面的代码</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> requests
res <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'https://www.baidu.com'</span><span class="token punctuation">)</span>
<span class="token comment"># res = requests.get('https://movie.douban.com/top250')</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>status_code<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>text<span class="token punctuation">)</span>
</code></pre></div><p>分别尝试向豆瓣和百度发送请求</p> <p>百度： 返回了200 和正常的html代码</p> <p><img src="/ioclub/image-20211017130015023.png" alt="/ioclub/image-20211017130015023"></p> <p>豆瓣： 418 以及 空（没有正常的html代码）</p> <p><img src="/ioclub/image-20211017130050841.png" alt="/ioclub/image-20211017130050841"></p> <p><strong>如何让豆瓣也能正常访问呢？</strong></p> <p>下面的代码手动想请求头（header）中加入了一项新的信息</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> requests
<span class="token comment"># res = requests.get('https://www.baidu.com')</span>
res <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'https://movie.douban.com/top250'</span><span class="token punctuation">,</span>
    <span class="token comment"># 欺骗服务器我们是浏览器而不是python</span>
    headers<span class="token operator">=</span><span class="token punctuation">{</span>
        <span class="token string">'User-Agent'</span><span class="token punctuation">:</span> <span class="token string">'Mozilla/5.0 (X11; Linux x86_64; rv:93.0) Gecko/20100101 Firefox/93.0'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>status_code<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>text<span class="token punctuation">)</span>
</code></pre></div><p>请再次尝试运行这段代码， 观察是否有正常的返回值</p> <h3 id="_5-2-响应头"><a href="#_5-2-响应头" class="header-anchor">#</a> 5.2 响应头</h3> <h4 id="_5-2-1-常见的字段"><a href="#_5-2-1-常见的字段" class="header-anchor">#</a> 5.2.1 常见的字段</h4> <p>实例： 使用google搜索后的相应内容</p> <div class="language- extra-class"><pre class="language-text"><code>HTTP/2 204 No Content
content-type: text/html; charset=UTF-8
date: Sat, 16 Oct 2021 06:42:22 GMT
server: gws
content-length: 0
x-xss-protection: 0
x-frame-options: SAMEORIGIN
alt-svc: h3=&quot;:443&quot;; ma=2592000,h3-29=&quot;:443&quot;; ma=2592000,h3-T051=&quot;:443&quot;; ma=2592000,h3-Q050=&quot;:443&quot;; ma=2592000,h3-Q046=&quot;:443&quot;; ma=2592000,h3-Q043=&quot;:443&quot;; ma=2592000,quic=&quot;:443&quot;; ma=2592000; v=&quot;46,43&quot;
X-Firefox-Spdy: h2
</code></pre></div><p>下面是一些常见的字段</p> <table><thead><tr><th>字段名</th> <th>说明</th> <th>例子</th></tr></thead> <tbody><tr><td>Content-Encoding</td> <td>文档的编码（Encode）方法。与之对应的，请求头中有一个Accept-Encoding表示客户端接受的编码方法</td> <td><code>Content-Encoding: gzip</code></td></tr> <tr><td>Content-Type</td> <td>返回内容的<a href="https://zh.wikipedia.org/wiki/MIME" target="_blank" rel="noopener noreferrer">MIME<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>类型， client不以文件的后缀明判断文件类型，所以需要server制定返回的文件类型， 对应Accept</td> <td>Content-Type: text/html; charset=utf-8</td></tr> <tr><td>Content-Length</td> <td>回应消息体的长度，以 字节 （8位为一字节）为单位</td> <td><code>Content-Length: 348</code></td></tr> <tr><td>Date</td> <td>此条消息被发送时的日期和时间</td> <td><code>Date: Tue, 15 Nov 1994 08:12:31 GMT</code></td></tr> <tr><td>Server</td> <td>服务器的名字</td> <td><code>Werkzeug/2.0.2 Python/3.9.7</code></td></tr></tbody></table> <h4 id="_5-2-2-demo4"><a href="#_5-2-2-demo4" class="header-anchor">#</a> 5.2.2 demo4</h4> <p>我们之前没有在函数体内返回了一个字符串，就是响应体body， 并没有手动制定上面提到的所有信息， 那是因为flask已经帮我们处理了那一部分内容， 我们只需要关注最重要的body就行了</p> <p>加入现在我们根据需要手动设置响应的内容， 下面是一个实例</p> <ol><li>创建<code>server4.py</code>并复制下面的代码后运行</li></ol> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask<span class="token punctuation">,</span> request
app <span class="token operator">=</span> Flask<span class="token punctuation">(</span><span class="token string">&quot;server name&quot;</span><span class="token punctuation">)</span>

<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token string">&quot;&lt;h1&gt;Hello World!&lt;/h1&gt;&quot;</span><span class="token punctuation">,</span> <span class="token number">404</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">&quot;aa&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;bb&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span>run<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">5000</span><span class="token punctuation">)</span>
</code></pre></div><ol start="2"><li>通过浏览器访问，观察结果</li></ol> <p><img src="/ioclub/image-20211017134914547.png" alt="/ioclub/image-20211017134914547"></p> <p>可以看到， 虽然返回的是404, 但是依然能够看到hello world， headers里的内容也成功修改</p> <h2 id="_6-最关注的"><a href="#_6-最关注的" class="header-anchor">#</a> 6. 最关注的</h2> <h4 id="_6-1-获取url参数"><a href="#_6-1-获取url参数" class="header-anchor">#</a> 6.1 获取url参数</h4> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># args是字典类型， 可以通过下面的方法获取值</span>
<span class="token comment"># value = args.get(&quot;key&quot;)</span>
<span class="token comment"># value = args[&quot;key&quot;]</span>
args <span class="token operator">=</span> request<span class="token punctuation">.</span>args
</code></pre></div><h4 id="_6-2-获取header参数"><a href="#_6-2-获取header参数" class="header-anchor">#</a> 6.2 获取header参数</h4> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># 同上， 字典类型</span>
headers <span class="token operator">=</span> request<span class="token punctuation">.</span>headers
</code></pre></div><h4 id="_6-3-获取body参数"><a href="#_6-3-获取body参数" class="header-anchor">#</a> 6.3 获取body参数</h4> <p>请求体的类型有很多， 格式也不一样</p> <p>我们需要先从请求头headers中读取到客户端传来的body的类型， 在根据类型去按照相应格式解析这个body</p> <p>最常用的格式有下面几种， 我们依次介绍这些类型</p> <h5 id="_6-3-0-表单"><a href="#_6-3-0-表单" class="header-anchor">#</a> 6.3.0 表单</h5> <p>form表单就是一堆输入框， 当点击按钮就会向服务器发送表单中的内容</p> <p><img src="/ioclub/image-20211017154841006.png" alt="/ioclub/image-20211017154841006"></p> <h5 id="_6-3-1-application-x-www-form-urlencoded-form"><a href="#_6-3-1-application-x-www-form-urlencoded-form" class="header-anchor">#</a> 6.3.1 application/x-www-form-urlencoded (Form)</h5> <p>这个格式对应的是前端通过form表单传递的body格式</p> <p>6.3.2 application/json</p> <p>对应的是一种比较规范的字符串格式， 和python的字典很相似</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;a&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token string">&quot;this is a sentence&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="_6-3-3-multipart-form-data"><a href="#_6-3-3-multipart-form-data" class="header-anchor">#</a> 6.3.3 multipart/form-data</h5> <p>这是一种复合格式， 一般用来传递文件</p> <h5 id="_6-3-4-text-html-及其它"><a href="#_6-3-4-text-html-及其它" class="header-anchor">#</a> 6.3.4 text/html 及其它</h5> <p>一般都由浏览器自动解析渲染到页面上， 或者是直接作为文件下载</p> <h4 id="_6-4-demo5"><a href="#_6-4-demo5" class="header-anchor">#</a> 6.4 demo5</h4> <ol><li>先准备一个<code>server5.py</code>， 同上启动</li></ol> <p>这里是一段HTML代码演示 form 和 multi/part两种格式</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>IE=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 第一个表单 演示 application/x-www-form-urlencoded --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://localhost:5000/hello<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span> <span class="token attr-name">enctype</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>application/x-www-form-urlencoded<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>key1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>key2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>向/hello发送<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 第二个表单 演示 multipart/form-data --&gt;</span>
    <span class="token comment">&lt;!-- 只有指定了multi/form-data，才能将文件类型发送的出去 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://localhost:5000/hello2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span> <span class="token attr-name">enctype</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>multipart/form-data<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>key1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>key2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>向/hello2发送<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>用浏览器打开这个文件可以看到</p> <p><img src="/ioclub/image-20211017155748427.png" alt="/ioclub/image-20211017155748427"></p> <p>分别尝试填写两个表单并发送， 观察server在终端的输出结果</p> <p><img src="/ioclub/image-20211017161212682.png" alt="/ioclub/image-20211017161212682"></p> <h4 id="_6-5-demo6"><a href="#_6-5-demo6" class="header-anchor">#</a> 6.5 demo6</h4> <p>发送json</p> <p>准备一个<code>client6.py</code> 并运行</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> requests
res <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span><span class="token string">'http://localhost:5000/hello3'</span><span class="token punctuation">,</span> json<span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token string">&quot;a&quot;</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">&quot;b&quot;</span><span class="token punctuation">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>结果</p> <p><img src="/ioclub/image-20211017161715045.png" alt="/ioclub/image-20211017161715045"></p> <h2 id="_7-附录"><a href="#_7-附录" class="header-anchor">#</a> 7. 附录</h2> <h3 id="_1-请求方法-method"><a href="#_1-请求方法-method" class="header-anchor">#</a> 1. 请求方法(method)</h3> <p>HTTP 定义了一组请求方法，以表明要对给定资源执行的操作。指示针对给定资源要执行的期望动作。</p> <ul><li>GET
向特定的资源发出请求，使用GET的请求应该只被用于获取数据。</li> <li>POST
向指定资源提交数据进行处理请求（例如提交表单或者上传文件）。数据被包含在请求体中。POST请求可能会导致新的资源的创建和/或已有资源的修改。</li> <li>OPTIONS
返回服务器针对特定资源所支持的HTTP请求方法。</li> <li>HEAD
HEAD方法请求一个与GET请求的响应相同的响应，但没有响应体。</li> <li>PUT
上传资源</li> <li>DELETE
删除资源。</li> <li>TRACE
回显服务器收到的请求，主要用于测试或诊断。</li> <li>PATCH
PATCH方法用于对资源应用部分修改。</li></ul> <h3 id="_2-响应码"><a href="#_2-响应码" class="header-anchor">#</a> 2. 响应码</h3> <h4 id="信息响应-100-199"><a href="#信息响应-100-199" class="header-anchor">#</a> 信息响应(100–199)</h4> <ul><li>100 Continue
这个临时响应表明，迄今为止的所有内容都是可行的，客户端应该继续请求，如果已经完成，则忽略它。</li></ul> <h4 id="成功响应-200-299"><a href="#成功响应-200-299" class="header-anchor">#</a> 成功响应(200–299)</h4> <ul><li>200 OK
请求成功。成功的含义取决于HTTP方法：
<ul><li>GET：资源已被提取并在消息正文中传输。</li> <li>HEAD：实体标头位于消息正文中。</li> <li>POST：描述动作结果的资源在消息体中传输。</li> <li>TRACE：消息正文包含服务器收到的请求消息</li></ul></li> <li>206 Partial Content
服务器已经成功处理了部分 GET 请求。类似于 FlashGet 或者迅雷这类的 HTTP 下载工具都是使用此类响应实现断点续传或者将一个大文档分解为多个下载段同时下载。该请求必须包含 Range 头信息来指示客户端希望得到的内容范围，并且可能包含 If-Range 来作为请求条件。</li></ul> <h4 id="重定向-300-399"><a href="#重定向-300-399" class="header-anchor">#</a> 重定向(300–399)</h4> <ul><li>301 Moved Permanently
被请求的资源已永久移动到新位置，并且将来任何对此资源的引用都应该使用本响应返回的若干个 URI 之一。如果可能，拥有链接编辑功能的客户端应当自动把请求的地址修改为从服务器反馈回来的地址。除非额外指定，否则这个响应也是可缓存的。</li> <li>302 Found
请求的资源现在临时从不同的 URI 响应请求。由于这样的重定向是临时的，客户端应当继续向原有地址发送以后的请求。只有在Cache-Control或Expires中进行了指定的情况下，这个响应才是可缓存的。</li></ul> <h4 id="客户端错误-400-499"><a href="#客户端错误-400-499" class="header-anchor">#</a> 客户端错误(400–499)</h4> <ul><li><p>400 Bad Request
1、语义有误，当前请求无法被服务器理解。除非进行修改，否则客户端不应该重复提交这个请求。
2、请求参数有误。</p></li> <li><p>404 Not Found
请求失败，请求所希望得到的资源未被在服务器上发现。没有信息能够告诉用户这个状况到底是暂时的还是永久的。假如服务器知道情况的话，应当使用410状态码来告知旧资源因为某些内部的配置机制问题，已经永久的不可用，而且没有任何可以跳转的地址。404这个状态码被广泛应用于当服务器不想揭示到底为何请求被拒绝或者没有其他适合的响应可用的情况下。</p></li> <li><p>405 Method Not Allowed
请求行中指定的请求方法不能被用于请求相应的资源。该响应必须返回一个Allow 头信息用以表示出当前资源能够接受的请求方法的列表。 鉴于 PUT，DELETE 方法会对服务器上的资源进行写操作，因而绝大部分的网页服务器都不支持或者在默认配置下不允许上述请求方法，对于此类请求均会返回405错误。</p></li> <li><p>408 Request Timeout
请求超时。客户端没有在服务器预备等待的时间内完成一个请求的发送。客户端可以随时再次提交这一请求而无需进行任何更改。</p></li> <li><p>418 I'm a teapot</p> <p>本操作码是在1998年作为<a href="https://zh.wikipedia.org/wiki/IETF" target="_blank" rel="noopener noreferrer">IETF<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的传统<a href="https://zh.wikipedia.org/wiki/%E6%83%A1%E6%90%9ERFC" target="_blank" rel="noopener noreferrer">愚人节笑话<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, 在RFC 2324<a href="https://zh.wikipedia.org/wiki/%E8%B6%85%E6%96%87%E6%9C%AC%E5%92%96%E5%95%A1%E5%A3%B6%E6%8E%A7%E5%88%B6%E5%8D%8F%E8%AE%AE" target="_blank" rel="noopener noreferrer">超文本咖啡壶控制协议<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>'中定义的，并不需要在真实的HTTP服务器中定义。当一个控制茶壶的<a href="https://zh.wikipedia.org/wiki/HTCPCP" target="_blank" rel="noopener noreferrer">HTCPCP<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>收到BREW或POST指令要求其煮咖啡时应当回传此错误。[<a href="https://zh.wikipedia.org/wiki/HTTP%E7%8A%B6%E6%80%81%E7%A0%81#cite_note-48" target="_blank" rel="noopener noreferrer">48]<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>这个HTTP状态码在某些网站（包括Google.com）与项目（如<a href="https://zh.wikipedia.org/wiki/Node.js" target="_blank" rel="noopener noreferrer">Node.js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>、<a href="https://zh.wikipedia.org/wiki/ASP.NET" target="_blank" rel="noopener noreferrer">ASP.NET<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>和<a href="https://zh.wikipedia.org/wiki/Go%E8%AF%AD%E8%A8%80" target="_blank" rel="noopener noreferrer">Go语言<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>）中用作<a href="https://zh.wikipedia.org/wiki/%E5%BD%A9%E8%9B%8B_(%E5%AA%92%E4%BD%93)" target="_blank" rel="noopener noreferrer">彩蛋<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。[<a href="https://zh.wikipedia.org/wiki/HTTP%E7%8A%B6%E6%80%81%E7%A0%81#cite_note-49" target="_blank" rel="noopener noreferrer">49]<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul> <h4 id="服务器错误-500-599"><a href="#服务器错误-500-599" class="header-anchor">#</a> 服务器错误 (500–599)</h4> <ul><li>500 Internal Server Error
服务器遇到了不知道如何处理的情况。</li> <li>502 Bad Gateway
此错误响应表明服务器作为网关需要得到一个处理这个请求的响应，但是得到一个错误的响应。</li></ul> <h3 id="_3-content-type-mime类型-互联网媒体类型"><a href="#_3-content-type-mime类型-互联网媒体类型" class="header-anchor">#</a> 3. content-type(MIME类型 / 互联网媒体类型)</h3> <h4 id="_3-1-独立类型"><a href="#_3-1-独立类型" class="header-anchor">#</a> 3.1 独立类型</h4> <p>类似于一种文件类型</p> <div class="language- extra-class"><pre class="language-text"><code>text/plain(未知文本)
text/html
image/jpeg
image/png
audio/mpeg
audio/ogg
audio/*
video/mp4
application/*
* application/json
application/javascript
application/ecmascript
application/octet-stream
* application/x-www-form-urlencoded
</code></pre></div><h4 id="_3-2-multipart类型"><a href="#_3-2-multipart类型" class="header-anchor">#</a> 3.2 Multipart类型</h4> <p>就是复合类型， 比如client传来的body里面既有文本又有图片</p> <div class="language- extra-class"><pre class="language-text"><code>* multipart/form-data
multipart/byteranges 	
</code></pre></div><h3 id="_4-发送请求的几种方式"><a href="#_4-发送请求的几种方式" class="header-anchor">#</a> 4. 发送请求的几种方式</h3> <h4 id="form表单"><a href="#form表单" class="header-anchor">#</a> form表单</h4> <div class="language-html extra-class"><pre class="language-html"><code>发送GET请求
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://foo.com/get<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>get<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>say<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Hi<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>to<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Mom<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>Send my greetings<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
发送POST请求
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://foo.com/post<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span> <span class="token attr-name">enctype</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>multipart/form-data<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>description<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>some text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myFile<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Submit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="postman"><a href="#postman" class="header-anchor">#</a> postman</h4> <p>一个很方便的发请求的软件</p> <h4 id="requests库"><a href="#requests库" class="header-anchor">#</a> requests库</h4> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> requests
response <span class="token operator">=</span> request<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;http://www.baidu.com&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
</code></pre></div><h4 id="浏览器"><a href="#浏览器" class="header-anchor">#</a> 浏览器</h4> <ol><li>浏览器的地址栏可以发送简单的get请求, 不过会附带很多的额外信息, 比如缓存之类</li></ol></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/25/2021, 4:57:13 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/ioclub/backend_1.html" class="prev">
        第一节课 前导知识
      </a></span> <span class="next"><a href="/ioclub/backend_3.html">
        第三次课 Cookie登录
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.37b4c4af.js" defer></script><script src="/assets/js/2.a44404e3.js" defer></script><script src="/assets/js/11.87eb7338.js" defer></script>
  </body>
</html>
