<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>log - Trdthg&#x27;s Self</title>
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="../favicon.svg">
                        <link rel="shortcut icon" href="../favicon.png">
                <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
                <link rel="stylesheet" href="../css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="../fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><li class="part-title">trans</li><li class="chapter-item expanded "><a href="../trans/2022-04-20-译-使用-Tokio-处理-CPU-密集型任务.html"><strong aria-hidden="true">1.</strong> 2022-04-20-译-使用-Tokio-处理-CPU-密集型任务</a></li><li class="chapter-item expanded "><a href="../trans/2023-01-03-译-Rust冒险:-滥用-Serde.html"><strong aria-hidden="true">2.</strong> 2023-01-03-译-Rust冒险:-滥用-Serde</a></li><li class="chapter-item expanded "><a href="../trans/2023-01-01-译-拓展-Rust-中的-Map.html"><strong aria-hidden="true">3.</strong> 2023-01-01-译-拓展-Rust-中的-Map</a></li><li class="chapter-item expanded "><a href="../trans/2022-04-01-译-search_engine.html"><strong aria-hidden="true">4.</strong> 2022-04-01-译-search_engine</a></li><li class="chapter-item expanded "><a href="../trans/2022-05-04-译-可视化-Rust-各数据类型的内存布局.html"><strong aria-hidden="true">5.</strong> 2022-05-04-译-可视化-Rust-各数据类型的内存布局</a></li><li class="chapter-item expanded "><a href="../trans/2022-04-13-译-tail_latency.html"><strong aria-hidden="true">6.</strong> 2022-04-13-译-tail_latency</a></li><li class="chapter-item expanded "><a href="../trans/2022-04-30-译-什么时候不应该使用-Rust-？.html"><strong aria-hidden="true">7.</strong> 2022-04-30-译-什么时候不应该使用-Rust-？</a></li><li class="chapter-item expanded "><a href="../trans/2022-04-11-译-异步-Rust：协作与抢占式调度.html"><strong aria-hidden="true">8.</strong> 2022-04-11-译-异步-Rust：协作与抢占式调度</a></li><li class="chapter-item expanded "><a href="../trans/2023-01-02-译-未初始化内存:-unsafe-Rust太难了.html"><strong aria-hidden="true">9.</strong> 2023-01-02-译-未初始化内存:-unsafe-Rust太难了</a></li><li class="chapter-item expanded "><a href="../trans/2022-04-03-译-Rust-六边形架构/index.html"><strong aria-hidden="true">10.</strong> 2022-04-03-译-Rust-六边形架构</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../trans/2022-04-03-译-Rust-六边形架构/Rust-六边形架构-4-重构.html"><strong aria-hidden="true">10.1.</strong> Rust-六边形架构-4-重构</a></li><li class="chapter-item expanded "><a href="../trans/2022-04-03-译-Rust-六边形架构/Rust-六边形架构-2-内存存储库.html"><strong aria-hidden="true">10.2.</strong> Rust-六边形架构-2-内存存储库</a></li><li class="chapter-item expanded "><a href="../trans/2022-04-03-译-Rust-六边形架构/Rust-六边形架构-7-长期存储库.html"><strong aria-hidden="true">10.3.</strong> Rust-六边形架构-7-长期存储库</a></li><li class="chapter-item expanded "><a href="../trans/2022-04-03-译-Rust-六边形架构/Rust-六边形架构-1-域.html"><strong aria-hidden="true">10.4.</strong> Rust-六边形架构-1-域</a></li><li class="chapter-item expanded "><a href="../trans/2022-04-03-译-Rust-六边形架构/Rust-六边形架构-5-其他用例.html"><strong aria-hidden="true">10.5.</strong> Rust-六边形架构-5-其他用例</a></li><li class="chapter-item expanded "><a href="../trans/2022-04-03-译-Rust-六边形架构/Rust-六边形架构-6-CLI.html"><strong aria-hidden="true">10.6.</strong> Rust-六边形架构-6-CLI</a></li><li class="chapter-item expanded "><a href="../trans/2022-04-03-译-Rust-六边形架构/Rust-六边形架构-3-HTTP-API.html"><strong aria-hidden="true">10.7.</strong> Rust-六边形架构-3-HTTP-API</a></li><li class="chapter-item expanded "><a href="../trans/2022-04-03-译-Rust-六边形架构/index.html"><strong aria-hidden="true">10.8.</strong> README</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">note</li><li class="chapter-item expanded "><a href="../note/java/index.html"><strong aria-hidden="true">11.</strong> java</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../note/java/java.html"><strong aria-hidden="true">11.1.</strong> java</a></li><li class="chapter-item expanded "><a href="../note/java/springboot.html"><strong aria-hidden="true">11.2.</strong> springboot</a></li><li class="chapter-item expanded "><a href="../note/java/spring.html"><strong aria-hidden="true">11.3.</strong> spring</a></li><li class="chapter-item expanded "><a href="../note/java/sourceread.html"><strong aria-hidden="true">11.4.</strong> sourceread</a></li><li class="chapter-item expanded "><a href="../note/java/index.html"><strong aria-hidden="true">11.5.</strong> README</a></li></ol></li><li class="chapter-item expanded "><a href="../note/frontend/index.html"><strong aria-hidden="true">12.</strong> frontend</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../note/frontend/mini_bundle.html"><strong aria-hidden="true">12.1.</strong> mini_bundle</a></li><li class="chapter-item expanded "><a href="../note/frontend/js_advanced.html"><strong aria-hidden="true">12.2.</strong> js_advanced</a></li><li class="chapter-item expanded "><a href="../note/frontend/mini_vue.html"><strong aria-hidden="true">12.3.</strong> mini_vue</a></li><li class="chapter-item expanded "><a href="../note/frontend/vue.html"><strong aria-hidden="true">12.4.</strong> vue</a></li><li class="chapter-item expanded "><a href="../note/frontend/list.html"><strong aria-hidden="true">12.5.</strong> list</a></li><li class="chapter-item expanded "><a href="../note/frontend/http.html"><strong aria-hidden="true">12.6.</strong> http</a></li><li class="chapter-item expanded "><a href="../note/frontend/flutter.html"><strong aria-hidden="true">12.7.</strong> flutter</a></li><li class="chapter-item expanded "><a href="../note/frontend/css.html"><strong aria-hidden="true">12.8.</strong> css</a></li><li class="chapter-item expanded "><a href="../note/frontend/vdom.html"><strong aria-hidden="true">12.9.</strong> vdom</a></li><li class="chapter-item expanded "><a href="../note/frontend/index.html"><strong aria-hidden="true">12.10.</strong> README</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">blog</li><li class="chapter-item expanded "><a href="../blog/index.html"><strong aria-hidden="true">13.</strong> README</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">docs</li><li class="chapter-item expanded "><a href="../docs/log.html" class="active"><strong aria-hidden="true">14.</strong> log</a></li><li class="chapter-item expanded "><a href="../docs/intro.html"><strong aria-hidden="true">15.</strong> intro</a></li><li class="chapter-item expanded "><a href="../docs/magic/index.html"><strong aria-hidden="true">16.</strong> magic</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../docs/magic/riscv.html"><strong aria-hidden="true">16.1.</strong> riscv</a></li><li class="chapter-item expanded "><a href="../docs/magic/haskell.html"><strong aria-hidden="true">16.2.</strong> haskell</a></li><li class="chapter-item expanded "><a href="../docs/magic/bash.html"><strong aria-hidden="true">16.3.</strong> bash</a></li><li class="chapter-item expanded "><a href="../docs/magic/memory_ordering.html"><strong aria-hidden="true">16.4.</strong> memory_ordering</a></li><li class="chapter-item expanded "><a href="../docs/magic/linuxIO.html"><strong aria-hidden="true">16.5.</strong> linuxIO</a></li><li class="chapter-item expanded "><a href="../docs/magic/cicd.html"><strong aria-hidden="true">16.6.</strong> cicd</a></li><li class="chapter-item expanded "><a href="../docs/magic/fd.html"><strong aria-hidden="true">16.7.</strong> fd</a></li><li class="chapter-item expanded "><a href="../docs/magic/hadoop.html"><strong aria-hidden="true">16.8.</strong> hadoop</a></li><li class="chapter-item expanded "><a href="../docs/magic/go.html"><strong aria-hidden="true">16.9.</strong> go</a></li><li class="chapter-item expanded "><a href="../docs/magic/async.html"><strong aria-hidden="true">16.10.</strong> async</a></li><li class="chapter-item expanded "><a href="../docs/magic/index.html"><strong aria-hidden="true">16.11.</strong> README</a></li><li class="chapter-item expanded "><a href="../docs/magic/software_arch.html"><strong aria-hidden="true">16.12.</strong> software_arch</a></li></ol></li><li class="chapter-item expanded "><a href="../docs/riscv/index.html"><strong aria-hidden="true">17.</strong> riscv</a></li><li class="chapter-item expanded "><a href="../docs/common/index.html"><strong aria-hidden="true">18.</strong> common</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../docs/common/pgsql.html"><strong aria-hidden="true">18.1.</strong> pgsql</a></li><li class="chapter-item expanded "><a href="../docs/common/git.html"><strong aria-hidden="true">18.2.</strong> git</a></li><li class="chapter-item expanded "><a href="../docs/common/linux.html"><strong aria-hidden="true">18.3.</strong> linux</a></li><li class="chapter-item expanded "><a href="../docs/common/datastructure.html"><strong aria-hidden="true">18.4.</strong> datastructure</a></li><li class="chapter-item expanded "><a href="../docs/common/docker.html"><strong aria-hidden="true">18.5.</strong> docker</a></li><li class="chapter-item expanded "><a href="../docs/common/analyze.html"><strong aria-hidden="true">18.6.</strong> analyze</a></li><li class="chapter-item expanded "><a href="../docs/common/oci.html"><strong aria-hidden="true">18.7.</strong> oci</a></li><li class="chapter-item expanded "><a href="../docs/common/unsorted.html"><strong aria-hidden="true">18.8.</strong> unsorted</a></li><li class="chapter-item expanded "><a href="../docs/common/oauth2.html"><strong aria-hidden="true">18.9.</strong> oauth2</a></li><li class="chapter-item expanded "><a href="../docs/common/vim.html"><strong aria-hidden="true">18.10.</strong> vim</a></li><li class="chapter-item expanded "><a href="../docs/common/python.html"><strong aria-hidden="true">18.11.</strong> python</a></li><li class="chapter-item expanded "><a href="../docs/common/index.html"><strong aria-hidden="true">18.12.</strong> README</a></li></ol></li><li class="chapter-item expanded "><a href="../docs/rust/index.html"><strong aria-hidden="true">19.</strong> rust</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../docs/rust/mini_tokio.html"><strong aria-hidden="true">19.1.</strong> mini_tokio</a></li><li class="chapter-item expanded "><a href="../docs/rust/wasm.html"><strong aria-hidden="true">19.2.</strong> wasm</a></li><li class="chapter-item expanded "><a href="../docs/rust/rust_quiz.html"><strong aria-hidden="true">19.3.</strong> rust_quiz</a></li><li class="chapter-item expanded "><a href="../docs/rust/rust.html"><strong aria-hidden="true">19.4.</strong> rust</a></li><li class="chapter-item expanded "><a href="../docs/rust/print_into_detail.html"><strong aria-hidden="true">19.5.</strong> print_into_detail</a></li><li class="chapter-item expanded "><a href="../docs/rust/net-piercer.html"><strong aria-hidden="true">19.6.</strong> net-piercer</a></li><li class="chapter-item expanded "><a href="../docs/rust/rs_channel.html"><strong aria-hidden="true">19.7.</strong> rs_channel</a></li><li class="chapter-item expanded "><a href="../docs/rust/lists.html"><strong aria-hidden="true">19.8.</strong> lists</a></li><li class="chapter-item expanded "><a href="../docs/rust/index.html"><strong aria-hidden="true">19.9.</strong> README</a></li></ol></li><li class="chapter-item expanded "><a href="../docs/riscv/index.html"><strong aria-hidden="true">20.</strong> riscv</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../docs/riscv/index.html"><strong aria-hidden="true">20.1.</strong> README</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">other</li><li class="chapter-item expanded "><a href="../other/2023-04-12-remote-usb.html"><strong aria-hidden="true">21.</strong> 2023-04-12-remote-usb</a></li><li class="chapter-item expanded "><a href="../other/resources.html"><strong aria-hidden="true">22.</strong> resources</a></li><li class="chapter-item expanded "><a href="../other/i3wm.html"><strong aria-hidden="true">23.</strong> i3wm</a></li><li class="chapter-item expanded "><a href="../other/lsm.html"><strong aria-hidden="true">24.</strong> lsm</a></li><li class="chapter-item expanded "><a href="../other/site_update_log.html"><strong aria-hidden="true">25.</strong> site_update_log</a></li><li class="chapter-item expanded "><a href="../other/ioclub/index.html"><strong aria-hidden="true">26.</strong> ioclub</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../other/ioclub/share_1.html"><strong aria-hidden="true">26.1.</strong> share_1</a></li><li class="chapter-item expanded "><a href="../other/ioclub/index.html"><strong aria-hidden="true">26.2.</strong> README</a></li></ol></li><li class="chapter-item expanded "><a href="../other/2021-后端/index.html"><strong aria-hidden="true">27.</strong> 2021-后端</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../other/2021-后端/backend_1.html"><strong aria-hidden="true">27.1.</strong> backend_1</a></li><li class="chapter-item expanded "><a href="../other/2021-后端/backend_2.html"><strong aria-hidden="true">27.2.</strong> backend_2</a></li><li class="chapter-item expanded "><a href="../other/2021-后端/backend_3.html"><strong aria-hidden="true">27.3.</strong> backend_3</a></li><li class="chapter-item expanded "><a href="../other/2021-后端/backend_4.html"><strong aria-hidden="true">27.4.</strong> backend_4</a></li></ol></li><li class="chapter-item expanded "><a href="../other/2021-后端/index.html"><strong aria-hidden="true">28.</strong> 2021-后端</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../other/2021-后端/backend_1.html"><strong aria-hidden="true">28.1.</strong> backend_1</a></li><li class="chapter-item expanded "><a href="../other/2021-后端/backend_2.html"><strong aria-hidden="true">28.2.</strong> backend_2</a></li><li class="chapter-item expanded "><a href="../other/2021-后端/backend_3.html"><strong aria-hidden="true">28.3.</strong> backend_3</a></li><li class="chapter-item expanded "><a href="../other/2021-后端/backend_4.html"><strong aria-hidden="true">28.4.</strong> backend_4</a></li><li class="chapter-item expanded "><a href="../other/2021-后端/index.html"><strong aria-hidden="true">28.5.</strong> README</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">draft</li><li class="chapter-item expanded "><a href="../draft/组成原理.html"><strong aria-hidden="true">29.</strong> 组成原理</a></li><li class="chapter-item expanded "><a href="../draft/计算机网络.html"><strong aria-hidden="true">30.</strong> 计算机网络</a></li><li class="chapter-item expanded "><a href="../draft/译-pkg_mng.html"><strong aria-hidden="true">31.</strong> 译-pkg_mng</a></li><li class="chapter-item expanded "><a href="../draft/DistributedSystem.html"><strong aria-hidden="true">32.</strong> DistributedSystem</a></li><li class="chapter-item expanded "><a href="../draft/oscamp2022.html"><strong aria-hidden="true">33.</strong> oscamp2022</a></li><li class="chapter-item expanded "><a href="../draft/compile.html"><strong aria-hidden="true">34.</strong> compile</a></li><li class="chapter-item expanded "><a href="../draft/test.html"><strong aria-hidden="true">35.</strong> test</a></li><li class="chapter-item expanded "><a href="../draft/ld.html"><strong aria-hidden="true">36.</strong> ld</a></li><li class="chapter-item expanded "><a href="../draft/数据库设计.html"><strong aria-hidden="true">37.</strong> 数据库设计</a></li><li class="chapter-item expanded "><a href="../draft/index.html"><strong aria-hidden="true">38.</strong> README</a></li><li class="chapter-item expanded "><a href="../draft/computer_network/index.html"><strong aria-hidden="true">39.</strong> computer_network</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../draft/computer_network/index.html"><strong aria-hidden="true">39.1.</strong> README</a></li></ol></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">Trdthg&#x27;s Self</h1>

                    <div class="right-buttons">
                                                <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="日志"><a class="header" href="#日志">日志</a></h1>
<p>::: tip 提示 this is a tip :::</p>
<h2 id="6-月"><a class="header" href="#6-月">6 月</a></h2>
<h3 id="6-月-13-日"><a class="header" href="#6-月-13-日">6 月 13 日</a></h3>
<p>计划还行吧，虽然期末没好好复习 看 java 源码是真的劝退，HashMap 的红黑树实现先放一边吧，这边准备先从 TreeMap 入手 :-）
Spring-Cloud-Alibaba 的版本问题真烦人，加了 @LoadBalanced，服务都在 nacos 注册了也还是找不到</p>
<h3 id="6-月-9-日"><a class="header" href="#6-月-9-日">6 月 9 日</a></h3>
<p>去了腾讯 serverless 大会，学习了一波新知识，停更了几天 指定了学习计划</p>
<ol>
<li>Rust（个人兴趣）</li>
<li>Java（混口饭吃：基础 + 框架）目前缓步推进中 希望文档补齐也能加入每日任务中</li>
</ol>
<h3 id="6-月-2-日"><a class="header" href="#6-月-2-日">6 月 2 日</a></h3>
<p>这两天自己通过购买 VPS 搭建了自己的 v2ray，搭建过程中服务端安装配置很简单，配置完成后可以用<code>v2ray url</code>获取 vmess 配置连接，手机端连接很顺利，windows，linux 配置很有问题，linux 下 edge 浏览器没法翻墙，直到突然发现火狐能正常使用才知道 edge（chrome）走的是系统代理，需要手动配置系统代理后才能正常使用。</p>
<h2 id="5-月"><a class="header" href="#5-月">5 月</a></h2>
<h3 id="5-月-31-日"><a class="header" href="#5-月-31-日">5 月 31 日</a></h3>
<p>修复了关联查询的 bug 修复了权限验证的 bug，权限验证也要在 map 中添加 authc 进行登录验证 把 token 改为了 access_token +
refresh_token 实现了 token 的自动更新 将 username 改为从 token 解析得到</p>
<h3 id="5-月-30-日"><a class="header" href="#5-月-30-日">5 月 30 日</a></h3>
<p>今天写了 Shiro 模块（southwind_shiro），以及 shiro + redis +
token 整合版，现在关于权限还没有测试，下一步是把权限信息也加入到 redis 缓存里，整一套可以复用的登录模板</p>
<h3 id="5-月-27-日"><a class="header" href="#5-月-27-日">5 月 27 日</a></h3>
<p>10 天前开得 hashmap 终于继续了，今天只把增删看了，关于红黑树方面的具体实现明天再说</p>
<h3 id="5-月-26-日"><a class="header" href="#5-月-26-日">5 月 26 日</a></h3>
<p>花了几天天装了个 manjaro 系统双系统，用了两天感觉还不错，今天早上发现耗电量不尽人意，只能说一般般吧，比 windows 看着好像差点，在用用看先;</p>
<h3 id="5-月-22-日"><a class="header" href="#5-月-22-日">5 月 22 日</a></h3>
<p>卡了几天的红黑树终于写完了... 回去看 HashMap 吧 (≧﹏≦)</p>
<h3 id="5-月-20-日"><a class="header" href="#5-月-20-日">5 月 20 日</a></h3>
<ol>
<li>昨天的 avl 树，因为需要在添加节点后重置 height，必须使用递归</li>
<li>今天的红黑树非常带劲，判断旋转条件太 xx 了，红黑树没有 height 了，while 循环会好些的多，我却用递归，今天只写了 add，剩下的明天再说，
先写作业了</li>
</ol>
<h3 id="5-月-18-日"><a class="header" href="#5-月-18-日">5 月 18 日</a></h3>
<p>昨天开了 HashMap 源码学习 决定先去学习树 (二叉搜索树 -&gt; AVL 树 -&gt; 红黑树)</p>
<h3 id="5-月-15-日"><a class="header" href="#5-月-15-日">5 月 15 日</a></h3>
<p>对博客加了自定义内容</p>
<ul>
<li>添加背景</li>
<li>美化布局</li>
<li>分离 java 部分</li>
</ul>
<h3 id="5-月-14-日"><a class="header" href="#5-月-14-日">5 月 14 日</a></h3>
<p>开了 rust 的坑，开坑真爽</p>
<h3 id="5-月-13-日"><a class="header" href="#5-月-13-日">5 月 13 日</a></h3>
<p>开了集合框架源码阅读的坑</p>
<h3 id="5-月-12-日"><a class="header" href="#5-月-12-日">5 月 12 日</a></h3>
<p>c++ 菜鸟教程看完了反正，java 简直是 C++--, 舍弃了大量的模块，升华了面向对象的思想 8266 micropython 成功运行</p>
<h3 id="5-月-11-日"><a class="header" href="#5-月-11-日">5 月 11 日</a></h3>
<p>开了 8266 模块的坑 并发编程 ++</p>
<h3 id="5-月-10-日"><a class="header" href="#5-月-10-日">5 月 10 日</a></h3>
<p>开了 C++ 的新坑，看到了重裁 java 把书看完了，感觉讲的贼浅，只讲了某些类怎么用而已，不过网络编程那部分的感念倒是更清晰了 UDP + TCP
并发编程 ++</p>
<h2 id="3-月"><a class="header" href="#3-月">3 月</a></h2>
<h3 id="3-月-6-日"><a class="header" href="#3-月-6-日">3 月 6 日</a></h3>
<h5 id="1-pickle-模块"><a class="header" href="#1-pickle-模块">1. pickle 模块</a></h5>
<pre><code class="language-python">#pickle 提供了一个简单的持久化功能。可以将对象以文件的形式存放在磁盘上。
'''pickle 模块只能在 python 中使用，python 中几乎所有的数据类型（列表，字典，集合，类等）都可以用 pickle 来序列化，
pickle 序列化后的数据，可读性差，人一般无法识别。'''

1. pickle.dump(obj, file[, protocol])
  序列化对象，并将结果数据流写入到文件对象中。参数 protocol 是序列化模式，默认值为 0，表示以文本的形式序列化。		protocol 的值还可以是 1 或 2，表示以二进制的形式序列化。
1. pickle.load(file)
  反序列化对象。将文件中的数据解析为一个 Python 对象。
　　
#其中要注意的是，在 load(file) 的时候，要让 python 能够找到类的定义，否则会报错：
</code></pre>
<h5 id="2-networksfrom_dict_of_lists"><a class="header" href="#2-networksfrom_dict_of_lists">2. networks.from_dict_of_lists</a></h5>
<pre><code class="language-python"># 读取字典对象，并制成 graph
dol= {0:[1]} # single edge (0,1)
G=nx.from_dict_of_lists(dol)
</code></pre>
<h2 id="1-月"><a class="header" href="#1-月">1 月</a></h2>
<h3 id="1-月-14-日"><a class="header" href="#1-月-14-日">1 月 14 日</a></h3>
<h4 id="1-java-处理-json"><a class="header" href="#1-java-处理-json">1. Java 处理 JSON</a></h4>
<pre><code class="language-java">@RequestMapping(value=&quot;/aaa&quot;,  method = RequestMethod.POST)
    @ResponseBody
    public JSONObject aaa(@RequestBody JSONObject user) {
        // 一。读取 json 数据
        {
            &quot;num&quot;: 1234567,
            &quot;pwd&quot;: 689753,
            &quot;arr&quot;: [
                {&quot;name&quot;:&quot;张三&quot;, &quot;age&quot;:12},
                {&quot;name&quot;:&quot;李四&quot;, &quot;age&quot;:13},
                {&quot;name&quot;:&quot;王五&quot;, &quot;age&quot;:14}
            ]
        }
        // 1.普通数据
        Integer num = user.get(&quot;num&quot;)
        // 2.列表嵌套 json
        ArrayList&lt;Map&gt; mmm = (ArrayList) user.get(&quot;arr&quot;);
        for (Map mm : mmm) {
            System.out.println(mm.get(&quot;name&quot;));
        }

        // 二。创建 JSONObject 实例并返回
        //1. 普通数据
        JSONObject user_ = new JSONObject();
        user_.put(&quot;num&quot;, user.get(&quot;num&quot;));
        //2. 列表
        JSONObject info = new JSONObject();
        info.put(&quot;num&quot;, user.get(&quot;num&quot;));    //创建{}
        JSONArray arr = new JSONArray();
        arr.add(user__);                     // 创建列表 arr[],并把 info 添加到 arr 中 =&gt; [{},{}]
        user_.put(&quot;套娃&quot;, arr);              // { key:val, key: [{}, {}]}
        return user_;
    }
</code></pre>
<h4 id="2-arraylist"><a class="header" href="#2-arraylist">2. ArrayList</a></h4>
<ol>
<li>添加：add()</li>
<li>取值：get( int index )</li>
<li>修改：set( int index, Object obj)</li>
<li>删除：remove(int index)</li>
<li>计算大小：list.size() 方法</li>
</ol>
<table><thead><tr><th><a href="https://www.runoob.com/java/java-arraylist-addall.html">addAll()</a></th><th>添加集合中的所有元素到 arraylist 中</th></tr></thead><tbody>
<tr><td><a href="https://www.runoob.com/java/java-arraylist-clear.html">clear()</a></td><td>删除 arraylist 中的所有元素</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-arraylist-clone.html">clone()</a></td><td>复制一份 arraylist</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-arraylist-contains.html">contains()</a></td><td>判断元素是否在 arraylist</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-arraylist-indexof.html">indexOf()</a></td><td>返回 arraylist 中元素的索引值</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-arraylist-removeall.html">removeAll()</a></td><td>删除存在于指定集合中的 arraylist 里的所有元素</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-arraylist-remove.html">remove()</a></td><td>删除 arraylist 里的单个元素</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-arraylist-isempty.html">isEmpty()</a></td><td>判断 arraylist 是否为空</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-arraylist-sublist.html">subList()</a></td><td>截取部分 arraylist 的元素</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-arraylist-sort.html">sort()</a></td><td>对 arraylist 元素进行排序</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-arraylist-toarray.html">toArray()</a></td><td>将 arraylist 转换为数组</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-arraylist-surecapacity.html">ensureCapacity</a>()</td><td>设置指定容量大小的 arraylist</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-arraylist-lastindexof.html">lastIndexOf()</a></td><td>返回指定元素在 arraylist 中最后一次出现的位置</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-arraylist-retainall.html">retainAll()</a></td><td>保留 arraylist 中在指定集合中也存在的那些元素</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-arraylist-containsall.html">containsAll()</a></td><td>查看 arraylist 是否包含指定集合中的所有元素</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-arraylist-trimtosize.html">trimToSize()</a></td><td>将 arraylist 中的容量调整为数组中的元素个数</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-arraylist-removerange.html">removeRange()</a></td><td>删除 arraylist 中指定索引之间存在的元素</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-arraylist-replaceall.html">replaceAll()</a></td><td>将给定的操作内容替换掉数组中每一个元素</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-arraylist-removeif.html">removeIf()</a></td><td>删除所有满足特定条件的 arraylist 元素</td></tr>
</tbody></table>
<h4 id="3-hashmap"><a class="header" href="#3-hashmap">3. HashMap</a></h4>
<p>创建 Map: HashMap&lt;String, String&gt; map = <strong>new</strong> HashMap&lt;String, String&gt;();</p>
<ol>
<li>
<p>添加 : map.put(&quot;key&quot; : &quot;value&quot; )</p>
</li>
<li>
<p>获取 : map.get(int index)</p>
</li>
<li>
<p>删除 : map.remove(int index)</p>
</li>
<li>
<p>迭代方法</p>
<pre><code class="language-java">// 方法 1    map.keySet() 返回键集合   使用 map.get(key) 获取 value
for (Integer i : Sites.keySet()) {
    System.out.println(&quot;key: &quot; + i + &quot; value: &quot; + Sites.get(i));
}
// 方法 2    map.values() 返回值集合
for(String value: Sites.values()) {
    System.out.print(value + &quot;, &quot;);
}
</code></pre>
</li>
</ol>
<table><thead><tr><th><a href="https://www.runoob.com/java/java-hashmap-clear.html">clear()</a></th><th>删除 hashMap 中的所有键/值对</th></tr></thead><tbody>
<tr><td><a href="https://www.runoob.com/java/java-hashmap-clone.html">clone()</a></td><td>复制一份 hashMap</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-hashmap-isempty.html">isEmpty()</a></td><td>判断 hashMap 是否为空</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-hashmap-size.html">size()</a></td><td>计算 hashMap 中键/值对的数量</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-hashmap-put.html">put()</a></td><td>将键/值对添加到 hashMap 中</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-hashmap-putall.html">putAll()</a></td><td>将所有键/值对添加到 hashMap 中</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-hashmap-putifabsent.html">putIfAbsent()</a></td><td>如果 hashMap 中不存在指定的键，则将指定的键/值对插入到 hashMap 中。</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-hashmap-remove.html">remove()</a></td><td>删除 hashMap 中指定键 key 的映射关系</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-hashmap-containskey.html">containsKey()</a></td><td>检查 hashMap 中是否存在指定的 key 对应的映射关系。</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-hashmap-containsvalue.html">containsValue()</a></td><td>检查 hashMap 中是否存在指定的 value 对应的映射关系。</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-hashmap-replace.html">replace()</a></td><td>替换 hashMap 中是指定的 key 对应的 value。</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-hashmap-replaceall.html">replaceAll()</a></td><td>将 hashMap 中的所有映射关系替换成给定的函数所执行的结果。</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-hashmap-get.html">get()</a></td><td>获取指定 key 对应对 value</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-hashmap-getordefault.html">getOrDefault()</a></td><td>获取指定 key 对应对 value，如果找不到 key，则返回设置的默认值</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-hashmap-foreach.html">forEach()</a></td><td>对 hashMap 中的每个映射执行指定的操作。</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-hashmap-entryset.html">entrySet()</a></td><td>返回 hashMap 中所有映射项的集合集合视图。</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-hashmap-keyset.html">keySet</a>()</td><td>返回 hashMap 中所有 key 组成的集合视图。</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-hashmap-values.html">values()</a></td><td>返回 hashMap 中存在的所有 value 值。</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-hashmap-merge.html">merge()</a></td><td>添加键值对到 hashMap 中</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-hashmap-compute.html">compute()</a></td><td>对 hashMap 中指定 key 的值进行重新计算</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-hashmap-computeifabsent.html">computeIfAbsent()</a></td><td>对 hashMap 中指定 key 的值进行重新计算，如果不存在这个 key，则添加到 hasMap 中</td></tr>
<tr><td><a href="https://www.runoob.com/java/java-hashmap-computeifpresent.html">computeIfPresent()</a></td><td>对 hashMap 中指定 key 的值进行重新计算，前提是该 key 存在于 hashMap 中。</td></tr>
</tbody></table>
<h3 id="1-月-15-日"><a class="header" href="#1-月-15-日">1 月 15 日</a></h3>
<h4 id="1-神经八股复习"><a class="header" href="#1-神经八股复习">1. 神经八股复习</a></h4>
<pre><code class="language-python"># 1. 引入数据集
fashion_mnist = tf.keras.datasets.fashion_mnist
# (x_train, y_train), (x_test, y_test) = mnist.load_data()
(x_train, y_train), (x_test, y_test) = fashion_mnist.load_data()
x_train, x_test = x_train/255.0, x_test/255.0
# 2. 搭建神经网络
model = tf.keras.Sequential([
    tf.keras.layers.Flatten(),
    tf.keras.layers.Dense(128, activation='relu'),
    # tf.keras.layers.Dense(32, activation='sigmoid',kernel_regularizer=tf.keras.regularizers.l2()),
    tf.keras.layers.Dense(10, activation='softmax'),
])
# 3. 选择 优化器 | 损失函数 | 以及 metrics
model.compile(  optimizer='adam',
                loss=tf.keras.losses.SparseCategoricalCrossentropy(from_logits=False),
                metrics=['sparse_categorical_accuracy'])
# PS: metrics 可选：y_ = y_train  y = x_train * w + b
        1. 'accuracy'  y_和 y 都是数值
        2. 'categorical_accuracy' y_和 y 都是独热码
        3. 'sparsecategorical_accuracy' y_是数值 y 是独热码
# 4. 执行训练过程
model.fit(
    x_train, y_train,
    batch_size=48, epochs=5,
    validation_data=(x_test,y_test),  #(1) 任选一个 选择测试集
    validation_split=                 #(2) 任选一个 不选择测试集，从训练集中划分一块作为测试集
    validation_freq=1   # 多少 epoch 测试一次
)
# 5. 打印网络结构和参数统计
model.summary()
</code></pre>
<h4 id="2-numpy-方法"><a class="header" href="#2-numpy-方法">2. numpy 方法</a></h4>
<pre><code class="language-python">1.   reshape(数据，形状)  =&gt;   x_train = np.reshape(x_train,  (len(x_train), 1, 5))
2.   np.random.shuffle()   # 列表打乱重排，将 x_train 和 y_train 用相同的随机数重排
</code></pre>
<h4 id="3-rnn-期望的输入形状"><a class="header" href="#3-rnn-期望的输入形状">3. RNN 期望的输入形状</a></h4>
<pre><code class="language-python"># 以字母预测为例    a-&gt;b b-&gt;c c-&gt;d d-&gt;e e-&gt;a
x_train = np.reshape(x_train, (len(x_train), 1, 5))
'''
三个参数分别是 (送入样本数 循环核时间展开步数 每个时间步输入特征数)
这里每次输入一个字母 返回一个预测字母 (输入一次就给出预测结果)  所以循环核时间展开步数为 1
输入特征是独热码 [1,0,0,0,0] 有五个值，所以每个时间步输入特征数为 5
'''
</code></pre>
<h3 id="1-月-16-日"><a class="header" href="#1-月-16-日">1 月 16 日</a></h3>
<h4 id="1-embedding-编码"><a class="header" href="#1-embedding-编码">1. Embedding 编码</a></h4>
<pre><code class="language-python"># 在 sequential 中搭建神经网络时先进行 embedding 编码
# 1. 将 x_train 变成 embedding 期待的形状
x_train = np.reshape(x_train, (len(x_train), 1)  # (样本数，时间展开步数)
# 2. 搭建神经网络
model = tf.keras.Sequential([
    Embedding(5,2),   # (需要表示的结果数量，编码维度 (几个数字能表示一个结果))
    SimpleRNN(3),
    Dense(5, activation='softmax')
])
</code></pre>
<h4 id="2-spring-mvc"><a class="header" href="#2-spring-mvc">2. spring MVC</a></h4>
<pre><code class="language-java">    /// 1. 普通传参
	@RequestMapping(value=&quot;/index3&quot;, method = RequestMethod.POST, params={&quot;name&quot;, &quot;id=10&quot;})
    // ！！！注意！！！id 的类型已经被自动完成类型转换
    //0 public String index3(String name, int id) {    正常
    //(1) 如果不想用 name 和 id 作为参数  需要进行参数绑定
    //(2)（1）public String index3(String str, int age) {    报错
    //(2)（2）public String index3(String str, Integer age) {   不报错 但值均为 Null
    public String index3(@RequestParam(&quot;name&quot;) String str,@RequestParam(&quot;id&quot;) int age) {
        System.out.println(&quot;执行了带有参数的 POST 请求&quot;);
        // return &quot;您传递的 name 是&quot; + name + &quot; id 是&quot; + id;
        return &quot;您传递的 name 是&quot; + str + &quot; id 是&quot; + age;
    }
    /// 2. rest 风格的传参  必须进行参数映射
    @RequestMapping(value=&quot;/rest/{name}/{id}&quot;, method = RequestMethod.POST)
    public String rest(@PathVariable(&quot;name&quot;) String name,@PathVariable(&quot;id&quot;) int id) {
        return &quot;您传递的 name 是&quot; + name + &quot; id 是&quot; + id;
    }

    /// 3. 取出 cookie 信息
    @RequestMapping(&quot;/cookie&quot;)
    public String cookie (@CookieValue(value = &quot;JSESSIONID&quot;) String sessionId) {
        return &quot;SESSIONID: &quot; + sessionId ;
    }
</code></pre>
<h4 id="3-springboot水"><a class="header" href="#3-springboot水">3. SpringBoot(水)</a></h4>
<pre><code class="language-yml">server:
  port: 8081  # 默认端口
</code></pre>
<h4 id="4-pandas-读取列"><a class="header" href="#4-pandas-读取列">4. pandas 读取列</a></h4>
<pre><code class="language-python">data = pd.read_csv('./pandas/test.csv')
# 1. loc 单行
# 2. iloc[1:2,3:4] 按索引 行和列
# 3. iloc[[1,2,3], [2,3]] 第 1,2,3 行的第 2,3 列
data_name_and_score = data.iloc[1:2, 1:3].values  # iloc 方法 [行，列] 都是前闭后开  结果以二维数组表示
# 4. 写入 csv/excel
df.to_csv('a.csv')
df.to_excel('a.xlsx', sheet_name='sheet1')
</code></pre>
<h4 id="5-numpy"><a class="header" href="#5-numpy">5. numpy</a></h4>
<pre><code class="language-python"># 1. np.asarray() 可以将数据转为 numpy 格式
# 2. data.flatten() 可以将数据拉为一维
# 3. reshaape(data, (1,-1))   (数据，形状) 不必多说
</code></pre>
<h3 id="1-月-17-日"><a class="header" href="#1-月-17-日">1 月 17 日</a></h3>
<h4 id="1-sequential-参数"><a class="header" href="#1-sequential-参数">1. Sequential 参数</a></h4>
<pre><code class="language-python"># 1. RNN
SimpleRNN(80, return_sequences=True),  # 两层都是 RNN 时，前一层要加上 return_sequences=True
# 2. Dropout
Dropout(0.2),  # 随即扔掉一些神经元，防止过拟合，可以先设为 0，逐渐调大，找到最优值
</code></pre>
<h4 id="2-cp_callbacks-参数"><a class="header" href="#2-cp_callbacks-参数">2. cp_callbacks 参数</a></h4>
<pre><code class="language-python">cp_callback = tf.keras.callbacks.ModelCheckPoint(
    filepath = checkpoint_save_path,
    save_weights_only = True,
    save_best_only = True,
    monitor = 'var_loss', # 指定需要监测的值
)
</code></pre>
<h4 id="3-modelfit-参数"><a class="header" href="#3-modelfit-参数">3. model.fit 参数</a></h4>
<pre><code class="language-python"># 都用来描述验证集，与测试集不同
validation_data=(x_test, y_test),
validation_freq=1,
'''
其实验证集是从训练集中抽取出来用于调参的，
而测试集是和训练集无交集的，用于测试所选参数用于该模型的效果的，这个还是不要弄错了。。。
在 Keras 中，验证集的划分只要在 fit 函数里设置 validation_split 的值就好了，这个对应了取训练集中百分之几的数据出来当做验证集。
'''
</code></pre>
<ol>
<li>
<p>训练集（train set）—— 用于模型拟合的数据样本。在训练过程中对训练误差进行梯度下降</p>
<blockquote>
<p>作用：训练的权重参数。</p>
</blockquote>
</li>
<li>
<p>验证集（validation set）—— 是模型训练过程中单独留出的样本集，</p>
<blockquote>
<p>作用：调整模型的超参数
验证集可以用在训练的过程中，一般在训练时，几个 epoch 结束后跑一次验证集看看效果。(验证得太频繁会影响训练速度) 这样做的第一个好处是，可以及时发现模型或者参数的问题，比如模型在验证集上发散啦、出现很奇怪的结果啦 (如无穷大)、mAP 不增长或者增长很慢啦等等情况，这时可以及时终止训练，重新调参或者调整模型，而不需要等到训练结束。另外一个好处是验证模型的泛化能力，如果在验证集上的效果比训练集上差很多，就该考虑模型是否过拟合了。同时，还可以通过验证集对比不同的模型。在一般的神经网络中，
我们用验证数据集去寻找最优的网络深度（number of hidden
layers)，或者决定反向传播算法的停止点或者在神经网络中选择隐藏层神经元的数量；
由于验证集是用来”训练”超参数的，尽管验证集的误差通常会比训练集误差小，一般来说验证集比较小会低估泛化误差。所有超参数优化完成之后，泛化误差可能会通过测试集来估计。
在普通的机器学习中常用的交叉验证（Cross Validation) 就是把训练数据集本身再细分成不同的验证数据集去训练模型。</p>
</blockquote>
</li>
<li>
<p>测试集 —— 用来评估模最终模型的泛化能力。但不能作为调参、选择特征等算法相关的选择的依据。</p>
<blockquote>
<p>作用：只是验证</p>
</blockquote>
</li>
</ol>
<h4 id="4-归一化操作"><a class="header" href="#4-归一化操作">4. 归一化操作</a></h4>
<pre><code class="language-python">from sklearn.preprocessing import MinMaxScaler
motai = pd.read_csv('./tensorflow/SH600519.csv')
train_set = motai.iloc[:2426-300,2:3].values
test_set = motai.iloc[2426-300:,2:3].values
# !! 归一化 !!
sc = MinMaxScaler(feature_range=(0,1))  # 定义归一化，选定范围到 (0-1) 间
train_set_scaled = sc.fit_transform(train_set)
# fit 求得训练集固有属性 (如平均值，最大值，方差等), transform 对训练集进行归一化
test_set = sc.transform(test_set)
# 利用训练集的属性对测试集进行归一化
</code></pre>
<h4 id="5-tensorboard-使用"><a class="header" href="#5-tensorboard-使用">5. TensorBoard 使用</a></h4>
<pre><code class="language-python"># 1. 设置路径和文件名
log_dir=&quot;logs/fit/&quot; + datetime.datetime.now().strftime(&quot;%Y%m%d-%H%M%S&quot;)
# 2. 添加 tf.keras.callback.TensorBoard 回调可确保创建和存储日志
tensorboard_callback = tf.keras.callbacks.TensorBoard(log_dir=log_dir, histogram_freq=1)
# 3. callbacks 中加入
callbacks = [cp_callback,tensorboard_callback]
# 4. 控制台运行  (需要将 tensorboard 加入环境变量  例如:C:\Users\YMZ\anaconda3\envs\tf2\Scripts  )
tensorboard --logdir logs/fit
</code></pre>
<h3 id="1-月-18-日"><a class="header" href="#1-月-18-日">1 月 18 日</a></h3>
<h4 id="1-傻子预测股市"><a class="header" href="#1-傻子预测股市">1. 傻子预测股市</a></h4>
<ol>
<li>输入 : 60 天的开盘价</li>
<li>输出 : 61 天的开盘价</li>
<li>把预测的 61 天当作输入值 , 重复上述实验</li>
<li>结果 : 曲线趋于平坦，没用</li>
</ol>
<pre><code class="language-python">i = 500
data60_ori = maotai.iloc[:1213,2:3].values
def pre(i, data60_ori):
    i -= 1
    if i &gt; 0:
        data60 = data60_ori
        data60 = sc.transform(data60)
        readyfortest = []
        readyfortest.append(data60[len(data60)-60:len(data60),0])
        readyfortest = np.array(readyfortest)
        readyfortest = np.reshape(readyfortest, (readyfortest.shape[0], 60, 1))
        preprice = model.predict(readyfortest)
        preprice = sc.inverse_transform(preprice)
        data60_ori = np.vstack((data60_ori, preprice))
        pre(i, data60_ori)
    else:
        print('------over------')
        print(data60_ori.shape)
        plt.plot(all_set, c='r', label='Real Price')
        plt.plot(data60_ori, c='b', label='Predict Price')
        plt.plot(test1, c='y', label='Predict Price')
        plt.legend()
        plt.show()
</code></pre>
<h4 id="2-pandas-删除列"><a class="header" href="#2-pandas-删除列">2. pandas 删除列</a></h4>
<pre><code class="language-python"># 在数据预处理中，需要删除 dataframe 的一列的话，可以使用下面的方法。
train = train.drop(['A'], axis=1)
# 其中 axis=1 代表的是要删除一列，而不是一行。
</code></pre>
<h4 id="3-pandas-解析时间"><a class="header" href="#3-pandas-解析时间">3. pandas 解析时间</a></h4>
<pre><code class="language-python">trips = pd.read_csv('./data/trips.csv',encoding='gbk')
# 1. 转换格式
trips['进站时间'] = pd.to_datetime(trips['进站时间'],format=&quot;%Y/%m/%d %H:%M&quot;)
# 2. 解析
year = trips['某一列'].dt.year  # 获取一列
year = trips['某一列'][int index].year # 只获取一个
</code></pre>
<h4 id="4-pandas-筛选数据"><a class="header" href="#4-pandas-筛选数据">4. pandas 筛选数据</a></h4>
<pre><code class="language-python"># 1. ==
print( trips.loc[ trips['进站时间'].dt.month.isin([4,5]) ])
# 2. is in []
print( trips.loc[ trips['进站时间'].dt.month.isin([2,3,4]) ])
# 3.  &amp; | !
注意只有一个 &amp; 或 |
# 4. 筛选结果计数 (两种都行)
print( trips.loc[ trips['进站时间'].dt.month.isin([2,3,5,6,7]) ].count())
print( trips.loc[ trips['进站时间'].dt.month.isin([2,3,5,6,7]) ]['进站时间'].count())
</code></pre>
<h3 id="1-月-19-日"><a class="header" href="#1-月-19-日">1 月 19 日</a></h3>
<h4 id="1-pandas-行列操作"><a class="header" href="#1-pandas-行列操作">1. pandas 行列操作</a></h4>
<pre><code class="language-python"># 1. 判断是星期几
trips['dayofweek'] = trips['进站时间'].dt.dayofweek
# 2. 新增行/列
trips['new_col'] = '0'
trips.loc['new_row'] = '0'
# 3. 遍历行
for index, row in trips.iterrows():
# 4. 替换某格数据
trips.iloc[index,10] = row_[1]
</code></pre>
<h4 id="2-pandas-日期-完整"><a class="header" href="#2-pandas-日期-完整">2. pandas 日期 (完整)</a></h4>
<pre><code class="language-python">pandas 日期时间数据的分割提取操作
import pandas as pd
import numpy as np
import time
s=time.time()
data_2019=pd.read_excel('d:\\data\\abc.xlsx')
data=data_2019[['卡号','交易时间']]
data['日期'] =data_2019['交易时间'].dt.date
data['时间'] =data_2019['交易时间'].dt.time
data['年'] = data_2019['交易时间'].dt.year
data['季节'] = data_2019['交易时间'].dt.quarter
data['月'] = data_2019['交易时间'].dt.month
data['周']=data_2019['交易时间'].dt.week
data['日'] = data_2019['交易时间'].dt.day
data['小时'] =data_2019['交易时间'].dt.hour
data['分钟'] =data_2019['交易时间'].dt.minute
data['秒'] = data_2019['交易时间'].dt.second
data['一年第几天'] =data_2019['交易时间'].dt.dayofyear
data['一年第几周'] = data_2019['交易时间'].dt.weekofyear
data['一周第几天'] = data_2019['交易时间'].dt.dayofweek
data['一个月含有多少天'] = data_2019['交易时间'].dt.days_in_month
data['星期名称'] =data_2019['交易时间'].dt.weekday_name
print(data)
data.to_excel('d:\\data\\abcsss.xlsx')
</code></pre>
<h4 id="3-series-对象"><a class="header" href="#3-series-对象">3. Series 对象</a></h4>
<pre><code class="language-python"># Series 常用属性和方法
获取数据的值，使用 values 方法
获取索引的值，使用 index 方法
获取每对索引的值，使用 items 方法
</code></pre>
<h3 id="1-月-20-日"><a class="header" href="#1-月-20-日">1 月 20 日</a></h3>
<h4 id="1-获取某月天数"><a class="header" href="#1-获取某月天数">1. 获取某月天数</a></h4>
<pre><code class="language-python">import calendar
res = calendar.monthrange(2020,5)
print(res[1])
</code></pre>
<h4 id="2-纵向显示-x-轴坐标"><a class="header" href="#2-纵向显示-x-轴坐标">2. 纵向显示 x 轴坐标</a></h4>
<pre><code class="language-python">df = pd.DataFrame(pd.read_csv('./sta_flow_by_day.csv'))

plt.xticks(rotation=270)
plt.bar([f'{month}.{day}' for month, day in zip(np.array(df['month']), np.array(df['day']))], np.array(df['flow']))
plt.show()
</code></pre>
<h4 id="3-pandas-筛选注意"><a class="header" href="#3-pandas-筛选注意">3. pandas 筛选注意</a></h4>
<pre><code class="language-python"># 不同条件一定要加括号
df = df.loc[(df['sta'] == 'Sta1') &amp; (df['month']==2)]
</code></pre>
<h3 id="1-月-21-日"><a class="header" href="#1-月-21-日">1 月 21 日</a></h3>
<h4 id="1-分割线-水"><a class="header" href="#1-分割线-水">1. 分割线 (水)</a></h4>
<pre><code class="language-python">print('#-&amp;-$-@-%-'*13)
</code></pre>
<h4 id="2-防止无-key"><a class="header" href="#2-防止无-key">2. 防止无 key</a></h4>
<blockquote>
<h6 id="try-except-真好用"><a class="header" href="#try-except-真好用">try except 真好用</a></h6>
</blockquote>
<pre><code class="language-python">for key in stas.keys():
    month = stas[key]
    for sta in month.keys():
        try:
            big_dict[sta][key] = month[sta]
        except:
            try:
                big_dict_gun[sta][key] = month[sta]
            except:
                big_dict_gun[sta] = {}
</code></pre>
<h4 id="3-onehot-应用"><a class="header" href="#3-onehot-应用">3. onehot 应用</a></h4>
<pre><code class="language-python"># 2. 把 route 列转为 onehot 编码
enc_route = sklearn.preprocessing.OneHotEncoder(sparse=False) # Key here is sparse=False!
route_onehot = enc_route.fit_transform(np.array(list(df['route'])).reshape(len(df['route']),1))
print(df['route'].shape)
print(route_onehot)

# fit_transform = fit + transform
# 之后可以用 enc_route.transform() 编码测试集
</code></pre>
<h3 id="1-月-22-日"><a class="header" href="#1-月-22-日">1 月 22 日</a></h3>
<h4 id="1-反归一化-117"><a class="header" href="#1-反归一化-117">1. 反归一化 (1.17)</a></h4>
<pre><code class="language-python">preprice = model.predict(readyfortest)
preprice = sc.inverse_transform(preprice)
</code></pre>
<h4 id="2-pandas-排序"><a class="header" href="#2-pandas-排序">2. pandas 排序</a></h4>
<pre><code class="language-python">#默认为升序
df_3 = df.sort_values(by=['day','flow'])
</code></pre>
<h3 id="123-日-127-日"><a class="header" href="#123-日-127-日">1.23 日~ 1.27 日</a></h3>
<h4 id="1神经网络经验总结"><a class="header" href="#1神经网络经验总结">1.神经网络经验总结</a></h4>
<pre><code class="language-python"># 1. 模型隐藏层层数设置
1. 在神经网络中，当且仅当数据非线性分离时才需要隐藏层！
2. 对于一般简单的数据集，一两层隐藏层通常就足够了。但对于涉及时间序列或计算机视觉的复杂数据集，则需要额外增加层数。单层神经网络只能用于表示线性分离函数，也就是非常简单的问题，比如分类问题中的两个类可以用一条直线整齐地分开。
3. 一般规律
没有隐藏层：仅能够表示线性可分函数或决策
隐藏层数=1：可以拟合任何“包含从一个有限空间到另一个有限空间的连续映射”的函数
隐藏层数=2：搭配适当的激活函数可以表示任意精度的任意决策边界，并且可以拟合任何精度的任何平滑映射
隐藏层数&gt;2：多出来的隐藏层可以学习复杂的描述（某种自动特征工程）
# 2. 模型隐藏层神经元个数设置
1、隐藏单元的数量不应该超过输入层中单元的两倍
2、隐藏单元的大小应该介于输入单元和输出单元之间
3、神经元的数量应捕获输入数据集方差的 70~90%
# 3. 注意输入训练集的形状
# 4. 注意输入层特征的输入顺序
与输出层关联性强的放前面
有些关联性弱的特征加入会严重扰乱准确性 比如 day
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                                                    <a rel="prev" href="../blog/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        
                                                    <a rel="next" href="../docs/intro.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                                    <a rel="prev" href="../blog/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                
                                    <a rel="next" href="../docs/intro.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        
    </body>
</html>
