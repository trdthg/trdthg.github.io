{
  "type": "excalidraw",
  "version": 2,
  "source": "https://trdthg.github.io",
  "elements": [
    {
      "type": "freedraw",
      "version": 505,
      "versionNonce": 957891878,
      "isDeleted": false,
      "id": "FWuTpOEi1O-bLf5nGcYCb",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2279.2651380432976,
      "y": -3285.5079004632103,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "width": 0.0001,
      "height": 0.0001,
      "seed": 207492641,
      "groupIds": [],
      "strokeSharpness": "round",
      "boundElements": [],
      "updated": 1652863226285,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          0.0001,
          0.0001
        ]
      ],
      "lastCommittedPoint": null,
      "simulatePressure": true,
      "pressures": []
    },
    {
      "type": "freedraw",
      "version": 505,
      "versionNonce": 928417850,
      "isDeleted": false,
      "id": "h0bNlyZNe1bVyWmUBMHYR",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2279.2651380432976,
      "y": -3285.5079004632103,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "width": 0.0001,
      "height": 0.0001,
      "seed": 1398780559,
      "groupIds": [],
      "strokeSharpness": "round",
      "boundElements": [],
      "updated": 1652863226285,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          0.0001,
          0.0001
        ]
      ],
      "lastCommittedPoint": null,
      "simulatePressure": true,
      "pressures": []
    },
    {
      "id": "CgM0bLEGlaN6GojIHixJ9",
      "type": "rectangle",
      "x": 2071.0663275605275,
      "y": -2801.1533453538523,
      "width": 131.03351370240617,
      "height": 80.75333358458948,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 230823369,
      "version": 419,
      "versionNonce": 1969270886,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "T2xLkhqrBPJpZjEsJg8vp"
        },
        {
          "id": "0h216VksoVq7A1BVvcTPt",
          "type": "arrow"
        },
        {
          "id": "GHkLi0dGpd4ju8vPr46cl",
          "type": "arrow"
        }
      ],
      "updated": 1652863226285,
      "link": null,
      "locked": false,
      "fontSize": 24.072964051307302,
      "baseline": 65.75333358458948
    },
    {
      "id": "T2xLkhqrBPJpZjEsJg8vp",
      "type": "text",
      "x": 2076.0663275605275,
      "y": -2773.7766785615577,
      "width": 121.03351370240617,
      "height": 26,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 273872903,
      "version": 393,
      "versionNonce": 311259386,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226285,
      "link": null,
      "locked": false,
      "text": "T",
      "fontSize": 24.072964051307302,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "middle",
      "baseline": 21,
      "containerId": "CgM0bLEGlaN6GojIHixJ9",
      "originalText": "T"
    },
    {
      "type": "rectangle",
      "version": 457,
      "versionNonce": 1006220198,
      "isDeleted": false,
      "id": "01BK1ThDQr49FMAxbm8js",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2073.9895267958173,
      "y": -2934.455134864642,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "width": 131.03351370240617,
      "height": 80.75333358458948,
      "seed": 606924073,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElements": [
        {
          "id": "ljB8XWerY5-DDJ37I1fMj",
          "type": "text"
        },
        {
          "type": "text",
          "id": "ljB8XWerY5-DDJ37I1fMj"
        },
        {
          "id": "0h216VksoVq7A1BVvcTPt",
          "type": "arrow"
        },
        {
          "id": "yXFbUqbyuACAyGRh7PkKq",
          "type": "arrow"
        },
        {
          "id": "-YReVSvf-k0LJH96SxxRr",
          "type": "arrow"
        }
      ],
      "updated": 1652863226285,
      "link": null,
      "locked": false,
      "fontSize": 24.072964051307302,
      "baseline": 65.75333358458948
    },
    {
      "type": "text",
      "version": 426,
      "versionNonce": 1617510842,
      "isDeleted": false,
      "id": "ljB8XWerY5-DDJ37I1fMj",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2078.9895267958173,
      "y": -2907.0784680723473,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 121.03351370240617,
      "height": 26,
      "seed": 860001767,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226285,
      "link": null,
      "locked": false,
      "fontSize": 24.072964051307302,
      "fontFamily": 1,
      "text": "T",
      "baseline": 21,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "01BK1ThDQr49FMAxbm8js",
      "originalText": "T"
    },
    {
      "type": "rectangle",
      "version": 384,
      "versionNonce": 655380198,
      "isDeleted": false,
      "id": "5e5Ul8o8OC8gPSfSA9ASH",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2075.8179160038235,
      "y": -3048.2714110167462,
      "strokeColor": "#000000",
      "backgroundColor": "#afffff",
      "width": 131.03351370240617,
      "height": 80.75333358458948,
      "seed": 977635367,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElements": [
        {
          "id": "RiWiEOsPRRm9Ci1QTEL_z",
          "type": "text"
        },
        {
          "type": "text",
          "id": "RiWiEOsPRRm9Ci1QTEL_z"
        },
        {
          "id": "yXFbUqbyuACAyGRh7PkKq",
          "type": "arrow"
        }
      ],
      "updated": 1652863226285,
      "link": null,
      "locked": false,
      "fontSize": 24.072964051307302,
      "baseline": 65.75333358458948
    },
    {
      "type": "text",
      "version": 351,
      "versionNonce": 1275918970,
      "isDeleted": false,
      "id": "RiWiEOsPRRm9Ci1QTEL_z",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2080.8179160038235,
      "y": -3020.8947442244516,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 121.03351370240617,
      "height": 26,
      "seed": 483635657,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226285,
      "link": null,
      "locked": false,
      "fontSize": 24.072964051307302,
      "fontFamily": 1,
      "text": "T",
      "baseline": 21,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "5e5Ul8o8OC8gPSfSA9ASH",
      "originalText": "T"
    },
    {
      "id": "u7061em8S3vyMy0H3TyvA",
      "type": "text",
      "x": 1967.8675283461994,
      "y": -2896.9352765151334,
      "width": 43.19536548466467,
      "height": 26.73998815717336,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 146089257,
      "version": 196,
      "versionNonce": 53576230,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "VbbeD7lVFj97lH12jBKX_",
          "type": "arrow"
        },
        {
          "id": "-YReVSvf-k0LJH96SxxRr",
          "type": "arrow"
        }
      ],
      "updated": 1652863226286,
      "link": null,
      "locked": false,
      "text": "Head",
      "fontSize": 24.68306599123695,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 20.73998815717336,
      "containerId": null,
      "originalText": "Head"
    },
    {
      "id": "0h216VksoVq7A1BVvcTPt",
      "type": "arrow",
      "x": 2134.3530614273836,
      "y": -2804.876846330004,
      "width": 1.8283892080063437,
      "height": 40.22426963881938,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#afffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "round",
      "seed": 1330710311,
      "version": 460,
      "versionNonce": 607886138,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226286,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          1.8283892080063437,
          -40.22426963881938
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "CgM0bLEGlaN6GojIHixJ9",
        "focus": -0.06287246195355327,
        "gap": 3.7235009761513993
      },
      "endBinding": {
        "elementId": "01BK1ThDQr49FMAxbm8js",
        "focus": 0.016310908755979625,
        "gap": 8.6006853112292
      },
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "id": "VbbeD7lVFj97lH12jBKX_",
      "type": "arrow",
      "x": 1991.4232221594975,
      "y": -2904.0710389493734,
      "width": 2.723254834999422,
      "height": 81.36269203345331,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#afffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 30,
      "groupIds": [],
      "strokeSharpness": "round",
      "seed": 1687241801,
      "version": 293,
      "versionNonce": 55201126,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226286,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          2.723254834999422,
          -81.36269203345331
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "u7061em8S3vyMy0H3TyvA",
        "focus": 0.05768479542679676,
        "gap": 7.135762434239723
      },
      "endBinding": null,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "id": "yXFbUqbyuACAyGRh7PkKq",
      "type": "arrow",
      "x": 2141.3780699669137,
      "y": -2939.9490529727454,
      "width": 0,
      "height": 23.76887138723378,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#afffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 40,
      "groupIds": [],
      "strokeSharpness": "round",
      "seed": 964119271,
      "version": 444,
      "versionNonce": 1733829626,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226286,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          0,
          -23.76887138723378
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "01BK1ThDQr49FMAxbm8js",
        "focus": 0.028569581430047817,
        "gap": 5.493918108103344
      },
      "endBinding": {
        "elementId": "5e5Ul8o8OC8gPSfSA9ASH",
        "focus": -0.0006623818695028148,
        "gap": 3.800153072177409
      },
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "id": "GFHoB1wFBf2S-zSYKUcdr",
      "type": "text",
      "x": 1969.2388097901571,
      "y": -2765.4065034500727,
      "width": 30.85383248904619,
      "height": 26.73998815717336,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#afffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 1276987209,
      "version": 157,
      "versionNonce": 1957146790,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "GHkLi0dGpd4ju8vPr46cl",
          "type": "arrow"
        }
      ],
      "updated": 1652863226286,
      "link": null,
      "locked": false,
      "text": "Tail",
      "fontSize": 24.683065991236955,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 20.73998815717336,
      "containerId": null,
      "originalText": "Tail"
    },
    {
      "id": "GHkLi0dGpd4ju8vPr46cl",
      "type": "arrow",
      "x": 2004.8500511348275,
      "y": -2750.8052632263543,
      "width": 58.05092841026828,
      "height": 0.4570659158601379,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#afffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "round",
      "seed": 1925938313,
      "version": 362,
      "versionNonce": 1332057274,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226286,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          58.05092841026828,
          -0.4570659158601379
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "GFHoB1wFBf2S-zSYKUcdr",
        "focus": 0.10304060964184156,
        "gap": 4.757408855624249
      },
      "endBinding": {
        "elementId": "CgM0bLEGlaN6GojIHixJ9",
        "focus": -0.21848034735577662,
        "gap": 8.165348015432073
      },
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "id": "-YReVSvf-k0LJH96SxxRr",
      "type": "arrow",
      "x": 2013.8898784621306,
      "y": -2881.5620061386235,
      "width": 53.93706315430116,
      "height": 0.4693650404335443,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#afffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "round",
      "seed": 1655442217,
      "version": 460,
      "versionNonce": 1928768486,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226286,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          53.93706315430116,
          0.4693650404335443
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "u7061em8S3vyMy0H3TyvA",
        "focus": 0.13207986155807674,
        "gap": 2.8269846312664413
      },
      "endBinding": {
        "elementId": "01BK1ThDQr49FMAxbm8js",
        "focus": -0.33237242217568447,
        "gap": 6.162585179385815
      },
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "type": "rectangle",
      "version": 437,
      "versionNonce": 1577512314,
      "isDeleted": false,
      "id": "gT9z9fYSpne7KdQaQacD1",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 20,
      "angle": 0,
      "x": 2391.654407550099,
      "y": -2796.870585517825,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 131.03351370240617,
      "height": 80.75333358458948,
      "seed": 805446247,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElements": [
        {
          "id": "EIL7dlmFyqIQhgAomjZxz",
          "type": "text"
        },
        {
          "id": "wMqizGHB1t3tPqxVPJmfe",
          "type": "arrow"
        },
        {
          "type": "text",
          "id": "EIL7dlmFyqIQhgAomjZxz"
        }
      ],
      "updated": 1652863226286,
      "link": null,
      "locked": false,
      "fontSize": 24.072964051307302,
      "baseline": 65.75333358458948
    },
    {
      "type": "text",
      "version": 406,
      "versionNonce": 474234662,
      "isDeleted": false,
      "id": "EIL7dlmFyqIQhgAomjZxz",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2396.654407550099,
      "y": -2769.4939187255304,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 121.03351370240617,
      "height": 26,
      "seed": 1651825545,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226286,
      "link": null,
      "locked": false,
      "fontSize": 24.072964051307302,
      "fontFamily": 1,
      "text": "T",
      "baseline": 21,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "gT9z9fYSpne7KdQaQacD1",
      "originalText": "T"
    },
    {
      "type": "rectangle",
      "version": 443,
      "versionNonce": 1753165370,
      "isDeleted": false,
      "id": "TfE4vpDTOZUkQbvg1zXyg",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2394.577606785389,
      "y": -2930.172375028615,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "width": 131.03351370240617,
      "height": 80.75333358458948,
      "seed": 1350516103,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElements": [
        {
          "id": "nytstyiw0z33frogaevrw",
          "type": "text"
        },
        {
          "id": "nytstyiw0z33frogaevrw",
          "type": "text"
        },
        {
          "id": "wMqizGHB1t3tPqxVPJmfe",
          "type": "arrow"
        },
        {
          "id": "-AqcIgd-trpwlo8XAxLlC",
          "type": "arrow"
        },
        {
          "id": "A8c9yUnaVuxBt6eeTnqiB",
          "type": "arrow"
        },
        {
          "type": "text",
          "id": "nytstyiw0z33frogaevrw"
        }
      ],
      "updated": 1652863226286,
      "link": null,
      "locked": false,
      "fontSize": 24.072964051307302,
      "baseline": 65.75333358458948
    },
    {
      "type": "text",
      "version": 411,
      "versionNonce": 1157458534,
      "isDeleted": false,
      "id": "nytstyiw0z33frogaevrw",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2399.577606785389,
      "y": -2902.79570823632,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 121.03351370240617,
      "height": 26,
      "seed": 1749189225,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226286,
      "link": null,
      "locked": false,
      "fontSize": 24.072964051307302,
      "fontFamily": 1,
      "text": "T",
      "baseline": 21,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "TfE4vpDTOZUkQbvg1zXyg",
      "originalText": "T"
    },
    {
      "type": "rectangle",
      "version": 399,
      "versionNonce": 598824698,
      "isDeleted": false,
      "id": "r08gIhAzUTp06sj2K2Py8",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2396.405995993395,
      "y": -3043.98865118072,
      "strokeColor": "#000000",
      "backgroundColor": "#afffff",
      "width": 131.03351370240617,
      "height": 80.75333358458948,
      "seed": 351007911,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElements": [
        {
          "id": "RF8LWWXn0g501frJ6F6_X",
          "type": "text"
        },
        {
          "id": "RF8LWWXn0g501frJ6F6_X",
          "type": "text"
        },
        {
          "id": "-AqcIgd-trpwlo8XAxLlC",
          "type": "arrow"
        },
        {
          "type": "text",
          "id": "RF8LWWXn0g501frJ6F6_X"
        },
        {
          "id": "A8c9yUnaVuxBt6eeTnqiB",
          "type": "arrow"
        }
      ],
      "updated": 1652863226286,
      "link": null,
      "locked": false,
      "fontSize": 24.072964051307302,
      "baseline": 65.75333358458948
    },
    {
      "type": "text",
      "version": 364,
      "versionNonce": 737095078,
      "isDeleted": false,
      "id": "RF8LWWXn0g501frJ6F6_X",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2401.405995993395,
      "y": -3016.6119843884253,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 121.03351370240617,
      "height": 26,
      "seed": 2004372809,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226286,
      "link": null,
      "locked": false,
      "fontSize": 24.072964051307302,
      "fontFamily": 1,
      "text": "T",
      "baseline": 21,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "r08gIhAzUTp06sj2K2Py8",
      "originalText": "T"
    },
    {
      "type": "arrow",
      "version": 438,
      "versionNonce": 807430074,
      "isDeleted": false,
      "id": "wMqizGHB1t3tPqxVPJmfe",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 20,
      "angle": 0,
      "x": 2455.0798118055045,
      "y": -2800.4331330290397,
      "strokeColor": "#000000",
      "backgroundColor": "#afffff",
      "width": 1.8283892080063437,
      "height": 40.22426963881938,
      "seed": 351586247,
      "groupIds": [],
      "strokeSharpness": "round",
      "boundElements": [],
      "updated": 1652863226286,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "gT9z9fYSpne7KdQaQacD1",
        "focus": -0.060704948744727996,
        "gap": 3.5625475112144613
      },
      "endBinding": {
        "elementId": "TfE4vpDTOZUkQbvg1zXyg",
        "focus": 0.01414339554715435,
        "gap": 8.761638776166137
      },
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          1.8283892080063437,
          -40.22426963881938
        ]
      ]
    },
    {
      "type": "arrow",
      "version": 422,
      "versionNonce": 776374502,
      "isDeleted": false,
      "id": "-AqcIgd-trpwlo8XAxLlC",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2461.578243121362,
      "y": -2935.9367417351527,
      "strokeColor": "#000000",
      "backgroundColor": "#afffff",
      "width": 0,
      "height": 23.76887138723378,
      "seed": 1052128999,
      "groupIds": [],
      "strokeSharpness": "round",
      "boundElements": [],
      "updated": 1652863226286,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "TfE4vpDTOZUkQbvg1zXyg",
        "focus": 0.022648854370801556,
        "gap": 5.764366706537885
      },
      "endBinding": {
        "elementId": "r08gIhAzUTp06sj2K2Py8",
        "focus": 0.00525834518974345,
        "gap": 3.5297044737437773
      },
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          0,
          -23.76887138723378
        ]
      ]
    },
    {
      "type": "text",
      "version": 212,
      "versionNonce": 636444794,
      "isDeleted": false,
      "id": "vr5U0BlcTbvSiIotJV6Bp",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2276.6854600452148,
      "y": -2897.1091447548033,
      "strokeColor": "#000000",
      "backgroundColor": "#afffff",
      "width": 30.85383248904619,
      "height": 26.73998815717336,
      "seed": 1478119177,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElements": [
        {
          "id": "QDol3cNCsp_LSgWOKo4UD",
          "type": "arrow"
        }
      ],
      "updated": 1652863226286,
      "link": null,
      "locked": false,
      "fontSize": 24.683065991236955,
      "fontFamily": 1,
      "text": "Tail",
      "baseline": 20.73998815717336,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Tail"
    },
    {
      "type": "arrow",
      "version": 414,
      "versionNonce": 2073066534,
      "isDeleted": false,
      "id": "QDol3cNCsp_LSgWOKo4UD",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2312.276446461143,
      "y": -2882.466689301502,
      "strokeColor": "#000000",
      "backgroundColor": "#afffff",
      "width": 58.05092841026828,
      "height": 0.4570659158601379,
      "seed": 146588167,
      "groupIds": [],
      "strokeSharpness": "round",
      "boundElements": [],
      "updated": 1652863226286,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "vr5U0BlcTbvSiIotJV6Bp",
        "focus": 0.10608370183094712,
        "gap": 4.737153926882456
      },
      "endBinding": null,
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          58.05092841026828,
          -0.4570659158601379
        ]
      ]
    },
    {
      "type": "arrow",
      "version": 408,
      "versionNonce": 551633210,
      "isDeleted": false,
      "id": "A8c9yUnaVuxBt6eeTnqiB",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2334.210365423758,
      "y": -3003.0767625501157,
      "strokeColor": "#000000",
      "backgroundColor": "#afffff",
      "width": 53.93706315430116,
      "height": 0.4693650404335443,
      "seed": 2146272745,
      "groupIds": [],
      "strokeSharpness": "round",
      "boundElements": [],
      "updated": 1652863226286,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "_8gS7MY0sNtF981lKA17H",
        "focus": 0.05498035558682439,
        "gap": 3.3974137857044298
      },
      "endBinding": {
        "elementId": "r08gIhAzUTp06sj2K2Py8",
        "focus": -0.04021281831056369,
        "gap": 8.258567415335847
      },
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          53.93706315430116,
          0.4693650404335443
        ]
      ]
    },
    {
      "type": "text",
      "version": 251,
      "versionNonce": 1236928358,
      "isDeleted": false,
      "id": "_8gS7MY0sNtF981lKA17H",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2287.617586153389,
      "y": -3017.409686451927,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 43.19536548466467,
      "height": 26.73998815717336,
      "seed": 1468557065,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElements": [
        {
          "id": "VbbeD7lVFj97lH12jBKX_",
          "type": "arrow"
        },
        {
          "id": "-YReVSvf-k0LJH96SxxRr",
          "type": "arrow"
        },
        {
          "id": "A8c9yUnaVuxBt6eeTnqiB",
          "type": "arrow"
        }
      ],
      "updated": 1652863226286,
      "link": null,
      "locked": false,
      "fontSize": 24.68306599123695,
      "fontFamily": 1,
      "text": "Head",
      "baseline": 20.73998815717336,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Head"
    },
    {
      "id": "jyU8LIniTtCANVZ4UDzij",
      "type": "arrow",
      "x": 3364.597906156967,
      "y": -2520.7200189794967,
      "width": 735.3097554413225,
      "height": 3.6297084054604056,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "round",
      "seed": 190151943,
      "version": 436,
      "versionNonce": 1280903674,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226286,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          735.3097554413225,
          -3.6297084054604056
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "HDsA1gCKUHABHSNLn20Jy",
        "focus": 0.40829439101592196,
        "gap": 12.928030212199701
      },
      "endBinding": {
        "elementId": "rVhGD-ROl6lh3k3E03FYr",
        "focus": -0.1288826974604322,
        "gap": 9.496792399635524
      },
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "id": "U4Hw639fzaktSBsrjy0m5",
      "type": "arrow",
      "x": 2790.3922253500564,
      "y": -2371.6840691206194,
      "width": 311.37285629067765,
      "height": 89.63348358087524,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "nKRISjh6xmneI6qEOM2z9"
      ],
      "strokeSharpness": "round",
      "seed": 900262023,
      "version": 155,
      "versionNonce": 152054438,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226286,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          311.37285629067765,
          -89.63348358087524
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "lcHJuo-ADHbRRLTA7eRhK",
        "focus": 0.17852818909188733,
        "gap": 16.922901478698805
      },
      "endBinding": {
        "elementId": "S0K3AAfAofqrhhR_jVTJZ",
        "focus": 0.5424714686526211,
        "gap": 15.722001790999457
      },
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "id": "yapl4EkET94aa7CT1QSJj",
      "type": "text",
      "x": 2822.6144136638586,
      "y": -2468.1284966108537,
      "width": 176,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "nKRISjh6xmneI6qEOM2z9"
      ],
      "strokeSharpness": "sharp",
      "seed": 1423577481,
      "version": 86,
      "versionNonce": 1868151482,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226286,
      "link": null,
      "locked": false,
      "text": "先send(), 后recv()",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "先send(), 后recv()"
    },
    {
      "id": "fVbkFowE_Xxhzokfh139N",
      "type": "arrow",
      "x": 2681.104271440624,
      "y": -2265.975253506238,
      "width": 392.7635812328899,
      "height": 634.0815679083321,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "nKRISjh6xmneI6qEOM2z9"
      ],
      "strokeSharpness": "round",
      "seed": 639620489,
      "version": 424,
      "versionNonce": 406840806,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226287,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          392.7635812328899,
          634.0815679083321
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "lcHJuo-ADHbRRLTA7eRhK",
        "focus": -0.2498772356934267,
        "gap": 19.960526299204503
      },
      "endBinding": {
        "elementId": "u8U68DtI1avErv0U2pUOq",
        "focus": -0.7502057093910658,
        "gap": 12.903026933469391
      },
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "id": "9f-lxNq7OTgZ67VMzWTG4",
      "type": "text",
      "x": 2754.3411462407485,
      "y": -2191.308650417859,
      "width": 290,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "nKRISjh6xmneI6qEOM2z9"
      ],
      "strokeSharpness": "sharp",
      "seed": 1764579433,
      "version": 91,
      "versionNonce": 2022069114,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226287,
      "link": null,
      "locked": false,
      "text": "在send() 前，就尝试 recv()",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "在send() 前，就尝试 recv()"
    },
    {
      "id": "BCLW3-XlK6zzgPA8h1Si1",
      "type": "rectangle",
      "x": 2011.8099876967394,
      "y": -2402.126365267966,
      "width": 353.33330426897317,
      "height": 143.80950927734375,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "Q1O7vQB-72NuJW7bfmLUS",
        "Z2Lu6i7Rapd9x-jhUYl6t"
      ],
      "strokeSharpness": "sharp",
      "seed": 1949642313,
      "version": 233,
      "versionNonce": 2018916646,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "YkVjkEIIZTFT0ny0sHg_c",
          "type": "arrow"
        },
        {
          "id": "HYDgfJ0LFjSEYu-tx1u-2",
          "type": "arrow"
        }
      ],
      "updated": 1652863226287,
      "link": null,
      "locked": false
    },
    {
      "id": "sczt6RniZTgY4teLi8De2",
      "type": "rectangle",
      "x": 2036.5718633942847,
      "y": -2356.6502038561352,
      "width": 306,
      "height": 71,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ffffff",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "Q1O7vQB-72NuJW7bfmLUS",
        "Z2Lu6i7Rapd9x-jhUYl6t"
      ],
      "strokeSharpness": "sharp",
      "seed": 616835145,
      "version": 245,
      "versionNonce": 169989178,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "G8cYTlhxUfMOWWbUXzQ6S"
        }
      ],
      "updated": 1652863226287,
      "link": null,
      "locked": false
    },
    {
      "id": "G8cYTlhxUfMOWWbUXzQ6S",
      "type": "text",
      "x": 2041.5718633942847,
      "y": -2340.6502038561352,
      "width": 296,
      "height": 39,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#afffff",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "Q1O7vQB-72NuJW7bfmLUS",
        "Z2Lu6i7Rapd9x-jhUYl6t"
      ],
      "strokeSharpness": "sharp",
      "seed": 336401223,
      "version": 228,
      "versionNonce": 12592230,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226287,
      "link": null,
      "locked": false,
      "text": "Oneshot Packet::new()",
      "fontSize": 36,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "middle",
      "baseline": 31,
      "containerId": "sczt6RniZTgY4teLi8De2",
      "originalText": "Oneshot Packet::new()"
    },
    {
      "id": "SagNuBEbKskRMDpzGVyKa",
      "type": "text",
      "x": 2162.2860619154903,
      "y": -2401.197793839394,
      "width": 44,
      "height": 39,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ffffff",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "Q1O7vQB-72NuJW7bfmLUS",
        "Z2Lu6i7Rapd9x-jhUYl6t"
      ],
      "strokeSharpness": "sharp",
      "seed": 704466823,
      "version": 152,
      "versionNonce": 101661946,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226287,
      "link": null,
      "locked": false,
      "text": "Arc",
      "fontSize": 36,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 31,
      "containerId": null,
      "originalText": "Arc"
    },
    {
      "id": "lcHJuo-ADHbRRLTA7eRhK",
      "type": "text",
      "x": 2400.4693238713576,
      "y": -2375.9357798054425,
      "width": 373,
      "height": 90,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ffffff",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "Q1O7vQB-72NuJW7bfmLUS",
        "Z2Lu6i7Rapd9x-jhUYl6t"
      ],
      "strokeSharpness": "sharp",
      "seed": 299948359,
      "version": 646,
      "versionNonce": 323659686,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "U4Hw639fzaktSBsrjy0m5",
          "type": "arrow"
        },
        {
          "id": "fVbkFowE_Xxhzokfh139N",
          "type": "arrow"
        }
      ],
      "updated": 1652863226287,
      "link": null,
      "locked": false,
      "text": "data: UnsafeCell::new(None),\nupgrade: UnsafeCell::new(NothingSent),\nstate: AtomicUsize::new(EMPTY),",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 84,
      "containerId": null,
      "originalText": "data: UnsafeCell::new(None),\nupgrade: UnsafeCell::new(NothingSent),\nstate: AtomicUsize::new(EMPTY),"
    },
    {
      "id": "t5HQ1lnNNaKL6dYlmpoci",
      "type": "rectangle",
      "x": 1764.8322381276644,
      "y": -2113.0100622327755,
      "width": 269,
      "height": 80,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "Q1O7vQB-72NuJW7bfmLUS",
        "Z2Lu6i7Rapd9x-jhUYl6t"
      ],
      "strokeSharpness": "sharp",
      "seed": 966122375,
      "version": 283,
      "versionNonce": 433163706,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "tHl822DBzgpWVPV_dp86Z"
        },
        {
          "id": "YkVjkEIIZTFT0ny0sHg_c",
          "type": "arrow"
        }
      ],
      "updated": 1652863226287,
      "link": null,
      "locked": false
    },
    {
      "id": "tHl822DBzgpWVPV_dp86Z",
      "type": "text",
      "x": 1769.8322381276644,
      "y": -2092.5100622327755,
      "width": 259,
      "height": 39,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "Q1O7vQB-72NuJW7bfmLUS",
        "Z2Lu6i7Rapd9x-jhUYl6t"
      ],
      "strokeSharpness": "sharp",
      "seed": 1090445033,
      "version": 199,
      "versionNonce": 1344455398,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226287,
      "link": null,
      "locked": false,
      "text": "Flavor::Oneshot(T)",
      "fontSize": 36,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "middle",
      "baseline": 31,
      "containerId": "t5HQ1lnNNaKL6dYlmpoci",
      "originalText": "Flavor::Oneshot(T)"
    },
    {
      "type": "rectangle",
      "version": 392,
      "versionNonce": 1250674298,
      "isDeleted": false,
      "id": "5P2lcd0Nus0iXdb3t_AtM",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2357.477403230488,
      "y": -2111.7243479470617,
      "strokeColor": "#000000",
      "backgroundColor": "#40c057",
      "width": 269,
      "height": 80,
      "seed": 1979972329,
      "groupIds": [
        "Q1O7vQB-72NuJW7bfmLUS",
        "Z2Lu6i7Rapd9x-jhUYl6t"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [
        {
          "id": "n21r984dr4vrp7goSters",
          "type": "text"
        },
        {
          "type": "text",
          "id": "n21r984dr4vrp7goSters"
        },
        {
          "id": "HYDgfJ0LFjSEYu-tx1u-2",
          "type": "arrow"
        }
      ],
      "updated": 1652863226287,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 306,
      "versionNonce": 1238726182,
      "isDeleted": false,
      "id": "n21r984dr4vrp7goSters",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2362.477403230488,
      "y": -2091.2243479470617,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "width": 259,
      "height": 39,
      "seed": 1484538919,
      "groupIds": [
        "Q1O7vQB-72NuJW7bfmLUS",
        "Z2Lu6i7Rapd9x-jhUYl6t"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226287,
      "link": null,
      "locked": false,
      "fontSize": 36,
      "fontFamily": 1,
      "text": "Flavor::Oneshot(T)",
      "baseline": 31,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "5P2lcd0Nus0iXdb3t_AtM",
      "originalText": "Flavor::Oneshot(T)"
    },
    {
      "id": "eudXHPv-U4voxfuCoHm6e",
      "type": "text",
      "x": 1652.0412716764968,
      "y": -2087.3791069453873,
      "width": 85,
      "height": 39,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "Q1O7vQB-72NuJW7bfmLUS",
        "Z2Lu6i7Rapd9x-jhUYl6t"
      ],
      "strokeSharpness": "sharp",
      "seed": 517081191,
      "version": 104,
      "versionNonce": 16836410,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226287,
      "link": null,
      "locked": false,
      "text": "Sender",
      "fontSize": 36,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 31,
      "containerId": null,
      "originalText": "Sender"
    },
    {
      "id": "ZqS4hm0O4y5uOBLkPcY_-",
      "type": "text",
      "x": 2239.374584664778,
      "y": -2098.0458549922623,
      "width": 98,
      "height": 39,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "Q1O7vQB-72NuJW7bfmLUS",
        "Z2Lu6i7Rapd9x-jhUYl6t"
      ],
      "strokeSharpness": "sharp",
      "seed": 1264786663,
      "version": 137,
      "versionNonce": 961528166,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226287,
      "link": null,
      "locked": false,
      "text": "Receiver",
      "fontSize": 36,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 31,
      "containerId": null,
      "originalText": "Receiver"
    },
    {
      "id": "YkVjkEIIZTFT0ny0sHg_c",
      "type": "arrow",
      "x": 2010.9279898889736,
      "y": -2122.355338111682,
      "width": 154.40629706102254,
      "height": 123.52379935128329,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "Q1O7vQB-72NuJW7bfmLUS",
        "Z2Lu6i7Rapd9x-jhUYl6t"
      ],
      "strokeSharpness": "round",
      "seed": 891273223,
      "version": 335,
      "versionNonce": 362016762,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226287,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          154.40629706102254,
          -123.52379935128329
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "t5HQ1lnNNaKL6dYlmpoci",
        "focus": 0.27053334941588725,
        "gap": 9.345275878906705
      },
      "endBinding": {
        "elementId": "BCLW3-XlK6zzgPA8h1Si1",
        "focus": -0.3087122852281765,
        "gap": 12.43771852765667
      },
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "id": "HYDgfJ0LFjSEYu-tx1u-2",
      "type": "arrow",
      "x": 2433.054251439262,
      "y": -2124.260031715198,
      "width": 210.8822232714947,
      "height": 124.28576224190829,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "Q1O7vQB-72NuJW7bfmLUS",
        "Z2Lu6i7Rapd9x-jhUYl6t"
      ],
      "strokeSharpness": "round",
      "seed": 756624647,
      "version": 382,
      "versionNonce": 836674726,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226287,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -210.8822232714947,
          -124.28576224190829
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "5P2lcd0Nus0iXdb3t_AtM",
        "focus": 0.14931513112788725,
        "gap": 12.535683768136096
      },
      "endBinding": {
        "elementId": "BCLW3-XlK6zzgPA8h1Si1",
        "focus": 0.3511830731975825,
        "gap": 9.771062033516046
      },
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "id": "8zpGHggAwvSWMI5wJEDjs",
      "type": "text",
      "x": 2010.6546812903034,
      "y": -2488.942622744773,
      "width": 379,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "Q1O7vQB-72NuJW7bfmLUS",
        "Z2Lu6i7Rapd9x-jhUYl6t"
      ],
      "strokeSharpness": "sharp",
      "seed": 1952071047,
      "version": 167,
      "versionNonce": 1548214458,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226287,
      "link": null,
      "locked": false,
      "text": "let (sender, receiver) = channel::<i32>()",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "let (sender, receiver) = channel::<i32>()"
    },
    {
      "id": "4qWJ1JWA1RurKPcolMTgW",
      "type": "text",
      "x": 1966.6264772068605,
      "y": -2386.4084414678155,
      "width": 11,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "Z2Lu6i7Rapd9x-jhUYl6t"
      ],
      "strokeSharpness": "sharp",
      "seed": 665339239,
      "version": 55,
      "versionNonce": 1429151718,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226287,
      "link": null,
      "locked": false,
      "text": "p",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "p"
    },
    {
      "id": "w3yo8uGqpx7ffNGfHKIec",
      "type": "ellipse",
      "x": 2609.9571348361524,
      "y": -2317.622387175921,
      "width": 118.66668701171875,
      "height": 40,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "Z2Lu6i7Rapd9x-jhUYl6t"
      ],
      "strokeSharpness": "sharp",
      "seed": 1688906185,
      "version": 84,
      "versionNonce": 817871226,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226287,
      "link": null,
      "locked": false
    },
    {
      "id": "hBEwk9f4YsMnpBItq4e5_",
      "type": "rectangle",
      "x": 3084.9917881854435,
      "y": -1049.759813386222,
      "width": 386,
      "height": 62.22218831380201,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fa5252",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "VV2pTyklKCf-gyLdm-6E3"
      ],
      "strokeSharpness": "sharp",
      "seed": 448561737,
      "version": 290,
      "versionNonce": 122565414,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "KfJ9ah39_L4rhB2Txszd3"
        }
      ],
      "updated": 1652863226287,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 385,
      "versionNonce": 37648954,
      "isDeleted": false,
      "id": "mpjCZFJTGJPWTnpBsZMb6",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 3194.7995854666983,
      "y": -1665.3354683952857,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "width": 51,
      "height": 30,
      "seed": 613192553,
      "groupIds": [
        "VV2pTyklKCf-gyLdm-6E3"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226287,
      "link": null,
      "locked": false,
      "fontSize": 28,
      "fontFamily": 1,
      "text": "recv()",
      "baseline": 24,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "recv()"
    },
    {
      "type": "text",
      "version": 527,
      "versionNonce": 581492326,
      "isDeleted": false,
      "id": "u8U68DtI1avErv0U2pUOq",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 3061.577295427636,
      "y": -1618.9906586644365,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "width": 553,
      "height": 90,
      "seed": 650605479,
      "groupIds": [
        "VV2pTyklKCf-gyLdm-6E3"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [
        {
          "id": "FX62QnwPp3Hhblz4xLLas",
          "type": "arrow"
        },
        {
          "id": "8iHhn9NFRQGKqjeE4h5rD",
          "type": "arrow"
        },
        {
          "id": "fVbkFowE_Xxhzokfh139N",
          "type": "arrow"
        }
      ],
      "updated": 1652863226287,
      "link": null,
      "locked": false,
      "fontSize": 28,
      "fontFamily": 1,
      "text": "发现 state == Empty ，需要阻塞，并等待被唤醒\n\n1. 生成 token（wait_token, signal_token）",
      "baseline": 84,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "发现 state == Empty ，需要阻塞，并等待被唤醒\n\n1. 生成 token（wait_token, signal_token）"
    },
    {
      "id": "1VO-Z7firNzKZ5qicdp9b",
      "type": "text",
      "x": 3072.943800212421,
      "y": -1115.193742398154,
      "width": 535,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "VV2pTyklKCf-gyLdm-6E3"
      ],
      "strokeSharpness": "sharp",
      "seed": 496781545,
      "version": 466,
      "versionNonce": 1604788986,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226287,
      "link": null,
      "locked": false,
      "text": "2. 把 signal_token 调用 transmute() 转为 ptr：usize",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "2. 把 signal_token 调用 transmute() 转为 ptr：usize"
    },
    {
      "id": "50mToM7jqwOEnfB53EjUH",
      "type": "text",
      "x": 3078.438758338605,
      "y": -956.3400937753231,
      "width": 590,
      "height": 60,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "VV2pTyklKCf-gyLdm-6E3"
      ],
      "strokeSharpness": "sharp",
      "seed": 1590890217,
      "version": 492,
      "versionNonce": 738992550,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226287,
      "link": null,
      "locked": false,
      "text": "4. 调用 wait_token.wait(),  该方法内部是 while 循环，\n在 state 被改变之前，会一直阻塞当前线程",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 54,
      "containerId": null,
      "originalText": "4. 调用 wait_token.wait(),  该方法内部是 while 循环，\n在 state 被改变之前，会一直阻塞当前线程"
    },
    {
      "id": "uc6hyj9TozooJHWOqRNHw",
      "type": "text",
      "x": 3084.9852412393843,
      "y": -854.3150346713594,
      "width": 520,
      "height": 180,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "VV2pTyklKCf-gyLdm-6E3"
      ],
      "strokeSharpness": "sharp",
      "seed": 579975431,
      "version": 262,
      "versionNonce": 58504122,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226288,
      "link": null,
      "locked": false,
      "text": "impl WaitToken {\n    pub fn wait(self) {\n        while !self.inner.woken.load(Ordering::SeqCst) {\n            thread::park()\n        }\n    }",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 174,
      "containerId": null,
      "originalText": "impl WaitToken {\n    pub fn wait(self) {\n        while !self.inner.woken.load(Ordering::SeqCst) {\n            thread::park()\n        }\n    }"
    },
    {
      "id": "3ZuAwScydwWe2wjWNWTJk",
      "type": "text",
      "x": 3081.9910947731287,
      "y": -1502.318640116583,
      "width": 476,
      "height": 60,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "8XVdmdJsZkZIvrnPm11MI",
        "VV2pTyklKCf-gyLdm-6E3"
      ],
      "strokeSharpness": "sharp",
      "seed": 1837168713,
      "version": 371,
      "versionNonce": 111475942,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226288,
      "link": null,
      "locked": false,
      "text": "两个 token 其实一样，通过 Arc 共享\ntoken 内保存了线程信息，和是否被唤醒",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 54,
      "containerId": null,
      "originalText": "两个 token 其实一样，通过 Arc 共享\ntoken 内保存了线程信息，和是否被唤醒"
    },
    {
      "id": "99SvDoHubW0LX5eSn8XrC",
      "type": "rectangle",
      "x": 3141.030049448327,
      "y": -1407.2583065864744,
      "width": 336,
      "height": 134,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "8XVdmdJsZkZIvrnPm11MI",
        "VV2pTyklKCf-gyLdm-6E3"
      ],
      "strokeSharpness": "sharp",
      "seed": 1947537545,
      "version": 457,
      "versionNonce": 1608658042,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "DilEUQ2EM37zJVEDu42KX"
        },
        {
          "id": "EAzJyiNmk1wQAPQLtk3kA",
          "type": "arrow"
        },
        {
          "id": "IXGE0mh-2xlj5RSgh6N-J",
          "type": "arrow"
        }
      ],
      "updated": 1652863226288,
      "link": null,
      "locked": false
    },
    {
      "id": "DilEUQ2EM37zJVEDu42KX",
      "type": "text",
      "x": 3146.030049448327,
      "y": -1400.2583065864744,
      "width": 326,
      "height": 120,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "8XVdmdJsZkZIvrnPm11MI",
        "VV2pTyklKCf-gyLdm-6E3"
      ],
      "strokeSharpness": "sharp",
      "seed": 778267271,
      "version": 396,
      "versionNonce": 671117350,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226288,
      "link": null,
      "locked": false,
      "text": "Arc {\n    thread: thread::current(),\n    woken: AtomicBool::new(false)\n}",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "middle",
      "baseline": 114,
      "containerId": "99SvDoHubW0LX5eSn8XrC",
      "originalText": "Arc {\n    thread: thread::current(),\n    woken: AtomicBool::new(false)\n}"
    },
    {
      "id": "oV8C3c0Gqn_5ez4uBd5iA",
      "type": "rectangle",
      "x": 3094.4344571482306,
      "y": -1237.5312428114114,
      "width": 148,
      "height": 53.33333333333326,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "8XVdmdJsZkZIvrnPm11MI",
        "VV2pTyklKCf-gyLdm-6E3"
      ],
      "strokeSharpness": "sharp",
      "seed": 206242087,
      "version": 273,
      "versionNonce": 714771770,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "3Z99FeFlCnuEXxzpRblm0"
        },
        {
          "id": "EAzJyiNmk1wQAPQLtk3kA",
          "type": "arrow"
        }
      ],
      "updated": 1652863226288,
      "link": null,
      "locked": false
    },
    {
      "id": "3Z99FeFlCnuEXxzpRblm0",
      "type": "text",
      "x": 3099.4344571482306,
      "y": -1225.8645761447447,
      "width": 138,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "8XVdmdJsZkZIvrnPm11MI",
        "VV2pTyklKCf-gyLdm-6E3"
      ],
      "strokeSharpness": "sharp",
      "seed": 1589032169,
      "version": 262,
      "versionNonce": 1275820902,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226288,
      "link": null,
      "locked": false,
      "text": "wait_token",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "middle",
      "baseline": 24,
      "containerId": "oV8C3c0Gqn_5ez4uBd5iA",
      "originalText": "wait_token"
    },
    {
      "type": "rectangle",
      "version": 333,
      "versionNonce": 1762186746,
      "isDeleted": false,
      "id": "BpvhpPsvYxK2Q7aMYRlII",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 3329.8789355010954,
      "y": -1237.5312936740418,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "width": 163,
      "height": 50,
      "seed": 108813991,
      "groupIds": [
        "8XVdmdJsZkZIvrnPm11MI",
        "VV2pTyklKCf-gyLdm-6E3"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [
        {
          "id": "ANJVw9-v7sD08fO2WmXTt",
          "type": "text"
        },
        {
          "type": "text",
          "id": "ANJVw9-v7sD08fO2WmXTt"
        },
        {
          "id": "IXGE0mh-2xlj5RSgh6N-J",
          "type": "arrow"
        }
      ],
      "updated": 1652863226288,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 351,
      "versionNonce": 689118886,
      "isDeleted": false,
      "id": "ANJVw9-v7sD08fO2WmXTt",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 3334.8789355010954,
      "y": -1227.5312936740418,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "width": 153,
      "height": 30,
      "seed": 1962640201,
      "groupIds": [
        "8XVdmdJsZkZIvrnPm11MI",
        "VV2pTyklKCf-gyLdm-6E3"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226288,
      "link": null,
      "locked": false,
      "fontSize": 28,
      "fontFamily": 1,
      "text": "signal_token",
      "baseline": 24,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "BpvhpPsvYxK2Q7aMYRlII",
      "originalText": "signal_token"
    },
    {
      "id": "EAzJyiNmk1wQAPQLtk3kA",
      "type": "arrow",
      "x": 3206.656747187293,
      "y": -1249.314511859152,
      "width": 17.7777099609375,
      "height": 15.555521647135492,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "8XVdmdJsZkZIvrnPm11MI",
        "VV2pTyklKCf-gyLdm-6E3"
      ],
      "strokeSharpness": "round",
      "seed": 1516256873,
      "version": 736,
      "versionNonce": 2083522234,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226288,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          17.7777099609375,
          -15.555521647135492
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "oV8C3c0Gqn_5ez4uBd5iA",
        "focus": -0.05475337965174722,
        "gap": 11.783269047740646
      },
      "endBinding": {
        "elementId": "99SvDoHubW0LX5eSn8XrC",
        "focus": -0.006387884425210084,
        "gap": 8.388273080186991
      },
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "id": "IXGE0mh-2xlj5RSgh6N-J",
      "type": "arrow",
      "x": 3387.7677904815637,
      "y": -1247.0922218200894,
      "width": 31.11104329427053,
      "height": 14.444478352864735,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "8XVdmdJsZkZIvrnPm11MI",
        "VV2pTyklKCf-gyLdm-6E3"
      ],
      "strokeSharpness": "round",
      "seed": 178955239,
      "version": 747,
      "versionNonce": 600070630,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226288,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -31.11104329427053,
          -14.444478352864735
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "BpvhpPsvYxK2Q7aMYRlII",
        "focus": 0.37553731846739324,
        "gap": 9.560928146047672
      },
      "endBinding": {
        "elementId": "99SvDoHubW0LX5eSn8XrC",
        "focus": 0.3904067107512008,
        "gap": 11.721606413520249
      },
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "id": "Fd705uw3M2fPyb2a8NcdF",
      "type": "text",
      "x": 3490.76963038922,
      "y": -1026.7598540763263,
      "width": 196,
      "height": 30,
      "angle": 0,
      "strokeColor": "#c92a2a",
      "backgroundColor": "#fa5252",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "VV2pTyklKCf-gyLdm-6E3"
      ],
      "strokeSharpness": "sharp",
      "seed": 82666055,
      "version": 194,
      "versionNonce": 749936506,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226288,
      "link": null,
      "locked": false,
      "text": "这一句很关键，",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "这一句很关键，"
    },
    {
      "id": "KfJ9ah39_L4rhB2Txszd3",
      "type": "text",
      "x": 3089.9917881854435,
      "y": -1030.6487192293212,
      "width": 376,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fa5252",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "VV2pTyklKCf-gyLdm-6E3"
      ],
      "strokeSharpness": "sharp",
      "seed": 2130854055,
      "version": 213,
      "versionNonce": 53226790,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226288,
      "link": null,
      "locked": false,
      "text": "3. 把 state 从 Empty 更新为 ptr",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": "hBEwk9f4YsMnpBItq4e5_",
      "originalText": "3. 把 state 从 Empty 更新为 ptr"
    },
    {
      "id": "sXrqQMKxglJeDrwWceHqG",
      "type": "ellipse",
      "x": 3348.9403604201825,
      "y": -1038.541455512408,
      "width": 117.3333740234375,
      "height": 53.3333740234375,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "VV2pTyklKCf-gyLdm-6E3"
      ],
      "strokeSharpness": "sharp",
      "seed": 958702599,
      "version": 210,
      "versionNonce": 919937082,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226288,
      "link": null,
      "locked": false
    },
    {
      "id": "RG-iIAxPE81uzMToT7pJl",
      "type": "rectangle",
      "x": 4455.883786393439,
      "y": -902.3834300206029,
      "width": 230.83328247070312,
      "height": 50.83332061767578,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fa5252",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "fZ5WdpKpdm2DJzKa2V4sw"
      ],
      "strokeSharpness": "sharp",
      "seed": 384127401,
      "version": 289,
      "versionNonce": 616011878,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226288,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 376,
      "versionNonce": 1450772730,
      "isDeleted": false,
      "id": "mGhli-907l6AVhUxHENX9",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 4428.047293390212,
      "y": -1312.0721813250368,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "width": 65,
      "height": 30,
      "seed": 153730025,
      "groupIds": [
        "fZ5WdpKpdm2DJzKa2V4sw"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226288,
      "link": null,
      "locked": false,
      "fontSize": 28,
      "fontFamily": 1,
      "text": "send(t)",
      "baseline": 24,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "send(t)"
    },
    {
      "type": "text",
      "version": 482,
      "versionNonce": 808688550,
      "isDeleted": false,
      "id": "z3FKJTqe9iiid9VIH5JuY",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 4277.380545343338,
      "y": -1258.7387767840212,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "width": 437,
      "height": 30,
      "seed": 1135316519,
      "groupIds": [
        "fZ5WdpKpdm2DJzKa2V4sw"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [
        {
          "id": "U4Hw639fzaktSBsrjy0m5",
          "type": "arrow"
        }
      ],
      "updated": 1652863226288,
      "link": null,
      "locked": false,
      "fontSize": 28,
      "fontFamily": 1,
      "text": "如果 upgrade == NothingSent 调用 p.send()",
      "baseline": 24,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "如果 upgrade == NothingSent 调用 p.send()"
    },
    {
      "type": "text",
      "version": 434,
      "versionNonce": 1394727354,
      "isDeleted": false,
      "id": "Uy5CMeK67fgDMp5XRNbBQ",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 4297.047293390212,
      "y": -1221.7388073015998,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "width": 211,
      "height": 60,
      "seed": 1295720873,
      "groupIds": [
        "fZ5WdpKpdm2DJzKa2V4sw"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226288,
      "link": null,
      "locked": false,
      "fontSize": 28,
      "fontFamily": 1,
      "text": "1. asset data 不为空\n",
      "baseline": 54,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "1. asset data 不为空\n"
    },
    {
      "type": "text",
      "version": 300,
      "versionNonce": 1271740134,
      "isDeleted": false,
      "id": "EFgDv8dKpU_G95ifO9UO2",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 4296.2139193667745,
      "y": -1174.7388073015993,
      "strokeColor": "#000000",
      "backgroundColor": "#fa5252",
      "width": 234,
      "height": 30,
      "seed": 646029449,
      "groupIds": [
        "fZ5WdpKpdm2DJzKa2V4sw"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226288,
      "link": null,
      "locked": false,
      "fontSize": 28,
      "fontFamily": 1,
      "text": "2. 原子性更新 Packet",
      "baseline": 24,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "2. 原子性更新 Packet"
    },
    {
      "type": "rectangle",
      "version": 519,
      "versionNonce": 200446586,
      "isDeleted": false,
      "id": "52dN6KV0L7AOSwg3gq4nW",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 4265.769629205642,
      "y": -990.5165274350627,
      "strokeColor": "#000000",
      "backgroundColor": "#fa5252",
      "width": 819,
      "height": 64,
      "seed": 1468863943,
      "groupIds": [
        "fZ5WdpKpdm2DJzKa2V4sw"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [
        {
          "type": "text",
          "id": "rmrJ_UllRQ6ty9g93DIRc"
        }
      ],
      "updated": 1652863226288,
      "link": null,
      "locked": false
    },
    {
      "id": "bg3VII3XGLbpedTNPN5hd",
      "type": "text",
      "x": 4304.90882606629,
      "y": -893.9589691028916,
      "width": 806,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fa5252",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "fZ5WdpKpdm2DJzKa2V4sw"
      ],
      "strokeSharpness": "sharp",
      "seed": 1715429449,
      "version": 369,
      "versionNonce": 1343318566,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "l7CfJuxJgJiZqmnsAWYoG",
          "type": "arrow"
        }
      ],
      "updated": 1652863226288,
      "link": null,
      "locked": false,
      "text": "signal() 方法会将woken更新为 true，并调用thread::unpack() 阻塞当前线程",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "signal() 方法会将woken更新为 true，并调用thread::unpack() 阻塞当前线程"
    },
    {
      "id": "o1PqHc__UnjS4mrZA36Zq",
      "type": "text",
      "x": 4298.383786393439,
      "y": -786.0501094029271,
      "width": 529,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fa5252",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "fZ5WdpKpdm2DJzKa2V4sw"
      ],
      "strokeSharpness": "sharp",
      "seed": 476560967,
      "version": 303,
      "versionNonce": 61748026,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226288,
      "link": null,
      "locked": false,
      "text": "这之后，recv 的while通过，开始调用try_recv()",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "这之后，recv 的while通过，开始调用try_recv()"
    },
    {
      "type": "text",
      "version": 1254,
      "versionNonce": 2079143270,
      "isDeleted": false,
      "id": "7QWnE1AL5nzAuOYm6mTzW",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 4338.213461789723,
      "y": -1116.1095925223465,
      "strokeColor": "#000000",
      "backgroundColor": "#ffffff",
      "width": 185,
      "height": 90,
      "seed": 92398185,
      "groupIds": [
        "ZcQZHMP2Kvq2KKE_hmcGk",
        "fZ5WdpKpdm2DJzKa2V4sw"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226288,
      "link": null,
      "locked": false,
      "fontSize": 28,
      "fontFamily": 1,
      "text": "data: t,\nupgrade: SendUsed,\nstate: Data,",
      "baseline": 84,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "data: t,\nupgrade: SendUsed,\nstate: Data,"
    },
    {
      "id": "rmrJ_UllRQ6ty9g93DIRc",
      "type": "text",
      "x": 4270.769629205642,
      "y": -973.5165274350627,
      "width": 809,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fa5252",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "fZ5WdpKpdm2DJzKa2V4sw"
      ],
      "strokeSharpness": "sharp",
      "seed": 189650823,
      "version": 208,
      "versionNonce": 1823980538,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226288,
      "link": null,
      "locked": false,
      "text": "3. 如果原有 state 是 ptr，通过 ptr 调用 signal_token 的 signal() 方法",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "middle",
      "baseline": 24,
      "containerId": "52dN6KV0L7AOSwg3gq4nW",
      "originalText": "3. 如果原有 state 是 ptr，通过 ptr 调用 signal_token 的 signal() 方法"
    },
    {
      "id": "HkwDi0Icz0_h1N_sdeFXC",
      "type": "ellipse",
      "x": 4363.280458840961,
      "y": -1062.0968042266006,
      "width": 124,
      "height": 57.3333740234375,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "fZ5WdpKpdm2DJzKa2V4sw"
      ],
      "strokeSharpness": "sharp",
      "seed": 941441927,
      "version": 233,
      "versionNonce": 682465446,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226289,
      "link": null,
      "locked": false
    },
    {
      "id": "rVhGD-ROl6lh3k3E03FYr",
      "type": "text",
      "x": 4109.404453997925,
      "y": -2541.471945647132,
      "width": 51,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "E12hIBr9XCrbAnYhofXQm"
      ],
      "strokeSharpness": "sharp",
      "seed": 404230697,
      "version": 368,
      "versionNonce": 890383546,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "jyU8LIniTtCANVZ4UDzij",
          "type": "arrow"
        }
      ],
      "updated": 1652863226289,
      "link": null,
      "locked": false,
      "text": "recv()",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "recv()"
    },
    {
      "id": "qtpzndiekbXb-PO2uxgYn",
      "type": "text",
      "x": 3977.182163958862,
      "y": -2500.127174063256,
      "width": 532,
      "height": 60,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "E12hIBr9XCrbAnYhofXQm"
      ],
      "strokeSharpness": "sharp",
      "seed": 1807255623,
      "version": 440,
      "versionNonce": 2113901542,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "lbzIOMT89Zgin2A-0DP0o",
          "type": "arrow"
        },
        {
          "id": "jyU8LIniTtCANVZ4UDzij",
          "type": "arrow"
        }
      ],
      "updated": 1652863226289,
      "link": null,
      "locked": false,
      "text": "根据staate的状态作出不同动作\n如果 state 不是 Empty，就直接调用 p.try_recv()",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 54,
      "containerId": null,
      "originalText": "根据staate的状态作出不同动作\n如果 state 不是 Empty，就直接调用 p.try_recv()"
    },
    {
      "id": "lbzIOMT89Zgin2A-0DP0o",
      "type": "arrow",
      "x": 3990.568989527572,
      "y": -2397.5532892923766,
      "width": 0.017322066997621732,
      "height": 0.018134241908228432,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "E12hIBr9XCrbAnYhofXQm"
      ],
      "strokeSharpness": "round",
      "seed": 548419367,
      "version": 1276,
      "versionNonce": 308315514,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226289,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -0.017322066997621732,
          -0.018134241908228432
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": null,
      "endBinding": null,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "id": "l7CfJuxJgJiZqmnsAWYoG",
      "type": "arrow",
      "x": 3703.0682874326603,
      "y": -930.3955917479041,
      "width": 640.8027258299962,
      "height": 1017.3551047386493,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "round",
      "seed": 2046383561,
      "version": 800,
      "versionNonce": 636495654,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226289,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          640.8027258299962,
          -1017.3551047386493
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": null,
      "endBinding": {
        "elementId": "ScEDZZS9_efWNYsNLGPRz",
        "focus": 0.07859300870826948,
        "gap": 22.48018645452339
      },
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "id": "HDsA1gCKUHABHSNLn20Jy",
      "type": "text",
      "x": 3286.669875944767,
      "y": -2541.7203327057114,
      "width": 65,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "zW6Qn3dX9OUzsOpfACwGw"
      ],
      "strokeSharpness": "sharp",
      "seed": 254348393,
      "version": 189,
      "versionNonce": 233162298,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "jyU8LIniTtCANVZ4UDzij",
          "type": "arrow"
        }
      ],
      "updated": 1652863226289,
      "link": null,
      "locked": false,
      "text": "send(t)",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "send(t)"
    },
    {
      "id": "S0K3AAfAofqrhhR_jVTJZ",
      "type": "text",
      "x": 3114.4475859057043,
      "y": -2500.60923854881,
      "width": 437,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "zW6Qn3dX9OUzsOpfACwGw"
      ],
      "strokeSharpness": "sharp",
      "seed": 226962121,
      "version": 284,
      "versionNonce": 15487590,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "U4Hw639fzaktSBsrjy0m5",
          "type": "arrow"
        }
      ],
      "updated": 1652863226289,
      "link": null,
      "locked": false,
      "text": "如果 upgrade == NothingSent 调用 p.send()",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "如果 upgrade == NothingSent 调用 p.send()"
    },
    {
      "type": "text",
      "version": 1022,
      "versionNonce": 277147386,
      "isDeleted": false,
      "id": "ViJ8UQzXj30LWGKJbLSZe",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 3192.380108072048,
      "y": -2328.424348392108,
      "strokeColor": "#000000",
      "backgroundColor": "#ffffff",
      "width": 185,
      "height": 90,
      "seed": 1103765991,
      "groupIds": [
        "lInsGmFBfWqviltGsYO8y",
        "zW6Qn3dX9OUzsOpfACwGw"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226289,
      "link": null,
      "locked": false,
      "fontSize": 28,
      "fontFamily": 1,
      "text": "data: t,\nupgrade: SendUsed,\nstate: Data,",
      "baseline": 84,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "data: t,\nupgrade: SendUsed,\nstate: Data,"
    },
    {
      "id": "n2pEYTLd4yWYMBmfoEaGu",
      "type": "text",
      "x": 3177.1817699721596,
      "y": -2453.075057271852,
      "width": 211,
      "height": 60,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "zW6Qn3dX9OUzsOpfACwGw"
      ],
      "strokeSharpness": "sharp",
      "seed": 848846889,
      "version": 247,
      "versionNonce": 1505826214,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226289,
      "link": null,
      "locked": false,
      "text": "1. asset data 不为空\n",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 54,
      "containerId": null,
      "originalText": "1. asset data 不为空\n"
    },
    {
      "id": "HzQLdzl-ruWd4rGdd9k4U",
      "type": "text",
      "x": 3177.830752588119,
      "y": -2387.516509996446,
      "width": 234,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fa5252",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "zW6Qn3dX9OUzsOpfACwGw"
      ],
      "strokeSharpness": "sharp",
      "seed": 975668807,
      "version": 111,
      "versionNonce": 1858142138,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226289,
      "link": null,
      "locked": false,
      "text": "2. 原子性更新 Packet",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "2. 原子性更新 Packet"
    },
    {
      "id": "1848to-itVH3CMmgONz-b",
      "type": "text",
      "x": 3170.2118037878954,
      "y": -2206.373753125632,
      "width": 395,
      "height": 60,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fa5252",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "zW6Qn3dX9OUzsOpfACwGw"
      ],
      "strokeSharpness": "sharp",
      "seed": 1323882121,
      "version": 221,
      "versionNonce": 429617382,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226289,
      "link": null,
      "locked": false,
      "text": "3.  根据staate的状态作出不同动作\n如果 state 是 Empty，不做反映",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 54,
      "containerId": null,
      "originalText": "3.  根据staate的状态作出不同动作\n如果 state 是 Empty，不做反映"
    },
    {
      "id": "OWEJFIEVrU3WaXyzamusp",
      "type": "ellipse",
      "x": 3183.9439192739706,
      "y": -2276.2541825500934,
      "width": 133.33333333333348,
      "height": 53.33333333333303,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "zW6Qn3dX9OUzsOpfACwGw"
      ],
      "strokeSharpness": "sharp",
      "seed": 38605449,
      "version": 100,
      "versionNonce": 1958541434,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226289,
      "link": null,
      "locked": false
    },
    {
      "id": "Dxif7AkrDKRPy-FsmPe_p",
      "type": "arrow",
      "x": 4835.971599512059,
      "y": -2015.6387542414477,
      "width": 538.3332824707031,
      "height": 5.072834542694181,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "round",
      "seed": 1991210375,
      "version": 222,
      "versionNonce": 2080924710,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226289,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          538.3332824707031,
          -5.072834542694181
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "nzfjpY2rMg-TCsHH1Wa5J",
        "focus": -0.011460383635736999,
        "gap": 15.461327167922576
      },
      "endBinding": {
        "elementId": "yTB_ZDffNmF6tx8uRlCZl",
        "focus": -0.018219742978943115,
        "gap": 16.40487895456681
      },
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "type": "text",
      "version": 808,
      "versionNonce": 1916524858,
      "isDeleted": false,
      "id": "yTB_ZDffNmF6tx8uRlCZl",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 5390.709760937329,
      "y": -2068.3747685006892,
      "strokeColor": "#000000",
      "backgroundColor": "#ffffff",
      "width": 352,
      "height": 90,
      "seed": 416070601,
      "groupIds": [
        "-djt7ILRx4jgZKj4TTy-Y",
        "b2yhAJx_tWbN_5T_eHJ-i"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [
        {
          "id": "U4Hw639fzaktSBsrjy0m5",
          "type": "arrow"
        },
        {
          "id": "fVbkFowE_Xxhzokfh139N",
          "type": "arrow"
        },
        {
          "id": "Dxif7AkrDKRPy-FsmPe_p",
          "type": "arrow"
        }
      ],
      "updated": 1652863226289,
      "link": null,
      "locked": false,
      "fontSize": 28,
      "fontFamily": 1,
      "text": "data: UnsafeCell::new(None),\nupgrade: UnsafeCell::new(SendUsed),\nstate: AtomicUsize::new(EMPTY),",
      "baseline": 84,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "data: UnsafeCell::new(None),\nupgrade: UnsafeCell::new(SendUsed),\nstate: AtomicUsize::new(EMPTY),"
    },
    {
      "id": "xApDTqEH7ulUWpShHC0q4",
      "type": "text",
      "x": 5449.071764939912,
      "y": -2129.2938724109367,
      "width": 152,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "b2yhAJx_tWbN_5T_eHJ-i"
      ],
      "strokeSharpness": "sharp",
      "seed": 1175518567,
      "version": 151,
      "versionNonce": 1123348326,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226289,
      "link": null,
      "locked": false,
      "text": "Oneshot::Packet",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "Oneshot::Packet"
    },
    {
      "id": "k_amGFfQXD0DciJdRUnrD",
      "type": "text",
      "x": 5387.638150868077,
      "y": -1937.0292182713447,
      "width": 394,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 141647015,
      "version": 158,
      "versionNonce": 1184932346,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226289,
      "link": null,
      "locked": false,
      "text": "只有 upgrade 相对于刚开始改变了",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "只有 upgrade 相对于刚开始改变了"
    },
    {
      "id": "QuJ1Qi9tNc9MV6PqSZrKN",
      "type": "text",
      "x": 5359.254324814575,
      "y": -1846.5241847205039,
      "width": 668,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 825437799,
      "version": 223,
      "versionNonce": 1789792934,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226289,
      "link": null,
      "locked": false,
      "text": "下面就要开始 Oneshot Channel 的升级了，Ohhhhhhhhhhhhh！",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "下面就要开始 Oneshot Channel 的升级了，Ohhhhhhhhhhhhh！"
    },
    {
      "type": "text",
      "version": 742,
      "versionNonce": 1827558074,
      "isDeleted": false,
      "id": "ScEDZZS9_efWNYsNLGPRz",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 4046.299801441871,
      "y": -2060.2308829410767,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "width": 743,
      "height": 90,
      "seed": 953787177,
      "groupIds": [
        "kyPnvMkccbsaen8vxF2Ts",
        "TszuLYy2v1b0EjGs2ujgE"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [
        {
          "id": "lbzIOMT89Zgin2A-0DP0o",
          "type": "arrow"
        },
        {
          "id": "l7CfJuxJgJiZqmnsAWYoG",
          "type": "arrow"
        }
      ],
      "updated": 1652863226289,
      "link": null,
      "locked": false,
      "fontSize": 28,
      "fontFamily": 1,
      "text": "try_recv() 也会根据 state 作出不同反应：\n如果 state == Data，就 compare_and_exchange(), 把 Data 换为 Empty\n接着 take() 掉原有数据，并返回",
      "baseline": 84,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "try_recv() 也会根据 state 作出不同反应：\n如果 state == Data，就 compare_and_exchange(), 把 Data 换为 Empty\n接着 take() 掉原有数据，并返回"
    },
    {
      "type": "ellipse",
      "version": 376,
      "versionNonce": 1575013862,
      "isDeleted": false,
      "id": "nzfjpY2rMg-TCsHH1Wa5J",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 4590.562468808307,
      "y": -2046.2626059635381,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "width": 230,
      "height": 64.44442749023438,
      "seed": 1887763689,
      "groupIds": [
        "fH1aL3FU5YrzBs0nZFEpO",
        "TszuLYy2v1b0EjGs2ujgE"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [
        {
          "id": "Dxif7AkrDKRPy-FsmPe_p",
          "type": "arrow"
        }
      ],
      "updated": 1652863226289,
      "link": null,
      "locked": false
    },
    {
      "id": "_6VnnG_4Snio0EWq1yQlH",
      "type": "arrow",
      "x": 4292.149906029288,
      "y": -2416.342042492788,
      "width": 2.2222900390625,
      "height": 322.2222900390625,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "round",
      "seed": 1897829929,
      "version": 93,
      "versionNonce": 130542458,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226289,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          2.2222900390625,
          322.2222900390625
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": null,
      "endBinding": null,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "id": "yPRBrLcBd04GOZAoXCejD",
      "type": "arrow",
      "x": 3698.461291044935,
      "y": -920.9134419998554,
      "width": 538.1577636955917,
      "height": 66.75245212900154,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "round",
      "seed": 736357065,
      "version": 142,
      "versionNonce": 697966886,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226289,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          538.1577636955917,
          -66.75245212900154
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": null,
      "endBinding": null,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "id": "n4dHBS4-a-W2j7nnMsvmS",
      "type": "text",
      "x": 3769.2006643485292,
      "y": -1256.260060118595,
      "width": 218,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 1345771113,
      "version": 80,
      "versionNonce": 1836084282,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226289,
      "link": null,
      "locked": false,
      "text": "等待send 将它唤醒",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "等待send 将它唤醒"
    },
    {
      "type": "ellipse",
      "version": 1541,
      "versionNonce": 826739814,
      "isDeleted": false,
      "id": "L6B9EtKP8c6MkmUiKGPeV",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 5912.528111791483,
      "y": -2058.906419508907,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "width": 46.11084467012945,
      "height": 42.44063042070444,
      "seed": 974206633,
      "groupIds": [
        "UXOqikQhiZIQgCM0_igZW"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226290,
      "link": null,
      "locked": false
    },
    {
      "type": "line",
      "version": 1606,
      "versionNonce": 868930810,
      "isDeleted": false,
      "id": "tH24ydoVKWF_fdkjw67LZ",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 5933.417631083747,
      "y": -2016.2758813669263,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 2.2625791372926285,
      "height": 51.45208587782215,
      "seed": 331457639,
      "groupIds": [
        "UXOqikQhiZIQgCM0_igZW"
      ],
      "strokeSharpness": "round",
      "boundElements": [],
      "updated": 1652863226290,
      "link": null,
      "locked": false,
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": null,
      "points": [
        [
          0,
          0
        ],
        [
          -2.2625791372926285,
          51.45208587782215
        ]
      ]
    },
    {
      "type": "line",
      "version": 1559,
      "versionNonce": 1656000422,
      "isDeleted": false,
      "id": "HY5KBUgy51T7f5UK1i_bs",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 5931.251556819339,
      "y": -1963.4571425224588,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 20.367530134750517,
      "height": 31.378172883025613,
      "seed": 1038514569,
      "groupIds": [
        "UXOqikQhiZIQgCM0_igZW"
      ],
      "strokeSharpness": "round",
      "boundElements": [],
      "updated": 1652863226290,
      "link": null,
      "locked": false,
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": null,
      "points": [
        [
          0,
          0
        ],
        [
          20.367530134750517,
          31.378172883025613
        ]
      ]
    },
    {
      "type": "line",
      "version": 1536,
      "versionNonce": 1012540858,
      "isDeleted": false,
      "id": "wr3NPp5oujmp9BEeYzuZt",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 5928.409713049625,
      "y": -1965.9376804646238,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 17.427040836093493,
      "height": 29.150136938668783,
      "seed": 1425964935,
      "groupIds": [
        "UXOqikQhiZIQgCM0_igZW"
      ],
      "strokeSharpness": "round",
      "boundElements": [],
      "updated": 1652863226290,
      "link": null,
      "locked": false,
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": null,
      "points": [
        [
          0,
          0
        ],
        [
          -17.427040836093493,
          29.150136938668783
        ]
      ]
    },
    {
      "type": "line",
      "version": 1512,
      "versionNonce": 1779411686,
      "isDeleted": false,
      "id": "HSdlHc9tJdzhwdAviCyMp",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 5913.709412569555,
      "y": -2006.3157642159508,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 19.78461375395947,
      "height": 18.990120316436883,
      "seed": 1607491689,
      "groupIds": [
        "UXOqikQhiZIQgCM0_igZW"
      ],
      "strokeSharpness": "round",
      "boundElements": [],
      "updated": 1652863226290,
      "link": null,
      "locked": false,
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": null,
      "points": [
        [
          0,
          0
        ],
        [
          19.78461375395947,
          18.990120316436883
        ]
      ]
    },
    {
      "type": "line",
      "version": 1531,
      "versionNonce": 1078025850,
      "isDeleted": false,
      "id": "_lFGPqNT82FU_O0YcEYmB",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 5934.548240203173,
      "y": -1987.6974134884367,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 28.51108786935713,
      "height": 16.079856311598647,
      "seed": 204666535,
      "groupIds": [
        "UXOqikQhiZIQgCM0_igZW"
      ],
      "strokeSharpness": "round",
      "boundElements": [],
      "updated": 1652863226290,
      "link": null,
      "locked": false,
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": null,
      "points": [
        [
          0,
          0
        ],
        [
          28.51108786935713,
          -16.079856311598647
        ]
      ]
    },
    {
      "type": "line",
      "version": 1552,
      "versionNonce": 1709530662,
      "isDeleted": false,
      "id": "RWuPG7aoVL_JHi52w3rqS",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 5904.9589017686785,
      "y": -2055.3667990716176,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "width": 66.25053469634732,
      "height": 13.478626354081056,
      "seed": 1033530185,
      "groupIds": [
        "UXOqikQhiZIQgCM0_igZW"
      ],
      "strokeSharpness": "round",
      "boundElements": [],
      "updated": 1652863226290,
      "link": null,
      "locked": false,
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": null,
      "points": [
        [
          0,
          0
        ],
        [
          66.25053469634732,
          13.478626354081056
        ]
      ]
    },
    {
      "type": "rectangle",
      "version": 1984,
      "versionNonce": 1547927354,
      "isDeleted": false,
      "id": "FMozdDMnQLMUI9aqUdcMR",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0.1875122815022081,
      "x": 5926.221684571658,
      "y": -2097.940416420832,
      "strokeColor": "#000000",
      "backgroundColor": "#fff",
      "width": 34.152694364767456,
      "height": 48.00158107391493,
      "seed": 1342933447,
      "groupIds": [
        "UXOqikQhiZIQgCM0_igZW"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226290,
      "link": null,
      "locked": false
    },
    {
      "type": "line",
      "version": 1241,
      "versionNonce": 455256422,
      "isDeleted": false,
      "id": "ySjfwH97vZYBx1eYcDwFD",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 5935.872759973467,
      "y": -2029.2481768636944,
      "strokeColor": "#000000",
      "backgroundColor": "#000",
      "width": 55.54714960380144,
      "height": 12.985121810061237,
      "seed": 799021609,
      "groupIds": [
        "UXOqikQhiZIQgCM0_igZW"
      ],
      "strokeSharpness": "round",
      "boundElements": [],
      "updated": 1652863226290,
      "link": null,
      "locked": false,
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": null,
      "points": [
        [
          0,
          0
        ],
        [
          16.763599206148726,
          6.314909658085182
        ],
        [
          23.470857066396235,
          5.705368490788195
        ],
        [
          28.598118428797434,
          2.104969886028428
        ],
        [
          24.89812663004342,
          10.613280273065925
        ],
        [
          16.46723622669057,
          11.10438727573275
        ],
        [
          -0.16909053429221466,
          6.821807882702678
        ],
        [
          -17.219961830958255,
          9.128905409700085
        ],
        [
          -26.949031175004002,
          -1.8807345343284882
        ],
        [
          -17.209052764229746,
          3.9841252981618176
        ],
        [
          0,
          0
        ]
      ]
    },
    {
      "type": "ellipse",
      "version": 602,
      "versionNonce": 482576378,
      "isDeleted": false,
      "id": "VR1dch1Aocpy4PiXlV0km",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 5917.5304060886165,
      "y": -2045.8366914412836,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "width": 15.106237527895486,
      "height": 12.029262136837987,
      "seed": 765769959,
      "groupIds": [
        "UXOqikQhiZIQgCM0_igZW"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226290,
      "link": null,
      "locked": false
    },
    {
      "type": "ellipse",
      "version": 442,
      "versionNonce": 689212582,
      "isDeleted": false,
      "id": "qfEUsdrENCUR2qVnNZmOT",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 5924.385254447524,
      "y": -2041.092337716711,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "width": 0.7881515231945468,
      "height": 1.0349464445989005,
      "seed": 1993141513,
      "groupIds": [
        "UXOqikQhiZIQgCM0_igZW"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226290,
      "link": null,
      "locked": false
    },
    {
      "type": "ellipse",
      "version": 443,
      "versionNonce": 163870906,
      "isDeleted": false,
      "id": "oV1_gvkZFqwVEiaVzD_Qu",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 5945.120008408735,
      "y": -2039.3050648181552,
      "strokeColor": "#000000",
      "backgroundColor": "transparent",
      "width": 0.7961126496914616,
      "height": 1.3533915044754847,
      "seed": 1519059975,
      "groupIds": [
        "UXOqikQhiZIQgCM0_igZW"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226290,
      "link": null,
      "locked": false
    },
    {
      "id": "7qx6AJ09xECzGY-foBne1",
      "type": "text",
      "x": 7017.651953742132,
      "y": -2578.1639616241614,
      "width": 658,
      "height": 60,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "seed": 806992647,
      "version": 659,
      "versionNonce": 1030227942,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226290,
      "link": null,
      "locked": false,
      "text": "1. sender 会先新建一个 Stream::Packet, 作为升级后的 Packet\n",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 54,
      "containerId": null,
      "originalText": "1. sender 会先新建一个 Stream::Packet, 作为升级后的 Packet\n"
    },
    {
      "id": "dtPSowxXQUUGdIlR9j9ZM",
      "type": "text",
      "x": 7022.2992360303215,
      "y": -2398.8512210905633,
      "width": 1075,
      "height": 90,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "seed": 334259721,
      "version": 397,
      "versionNonce": 854151546,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "yUMTCgdU4wkvBVoHRprtK",
          "type": "arrow"
        },
        {
          "id": "8wOF3VcRTzDwAwUlcPHLi",
          "type": "arrow"
        }
      ],
      "updated": 1652863226290,
      "link": null,
      "locked": false,
      "text": "2. 接着 self.p（即原来的 Oneshot::Packet） 会调用 upgrade() 方法，在里面执行具体的升级过程\n\n",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 84,
      "containerId": null,
      "originalText": "2. 接着 self.p（即原来的 Oneshot::Packet） 会调用 upgrade() 方法，在里面执行具体的升级过程\n\n"
    },
    {
      "type": "rectangle",
      "version": 636,
      "versionNonce": 1210719014,
      "isDeleted": false,
      "id": "ojwNJK9uFY6jmkVEGUvpZ",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 7273.710577569737,
      "y": -2524.028719429295,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "width": 180.51003204081888,
      "height": 73.4690413096937,
      "seed": 2075351593,
      "groupIds": [
        "fkRGHtixA87ybYr8zxeSA",
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [
        {
          "id": "yUMTCgdU4wkvBVoHRprtK",
          "type": "arrow"
        },
        {
          "id": "8wOF3VcRTzDwAwUlcPHLi",
          "type": "arrow"
        }
      ],
      "updated": 1652863226290,
      "link": null,
      "locked": false
    },
    {
      "type": "rectangle",
      "version": 674,
      "versionNonce": 997528122,
      "isDeleted": false,
      "id": "5x6GtfKt1fUxD-2zr4Uj1",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 7286.360862503393,
      "y": -2500.795972178006,
      "strokeColor": "#000000",
      "backgroundColor": "#ffffff",
      "width": 156.3285123058832,
      "height": 36.272301874894495,
      "seed": 1332050151,
      "groupIds": [
        "fkRGHtixA87ybYr8zxeSA",
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [
        {
          "id": "cYBoxY2zRARNhNNvydr6E",
          "type": "text"
        },
        {
          "id": "cYBoxY2zRARNhNNvydr6E",
          "type": "text"
        },
        {
          "type": "text",
          "id": "cYBoxY2zRARNhNNvydr6E"
        }
      ],
      "updated": 1652863226290,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 783,
      "versionNonce": 801621606,
      "isDeleted": false,
      "id": "cYBoxY2zRARNhNNvydr6E",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 7291.360862503393,
      "y": -2492.6598212405593,
      "strokeColor": "#000000",
      "backgroundColor": "#afffff",
      "width": 146,
      "height": 20,
      "seed": 1584934153,
      "groupIds": [
        "fkRGHtixA87ybYr8zxeSA",
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226290,
      "link": null,
      "locked": false,
      "fontSize": 18.391589683045094,
      "fontFamily": 1,
      "text": "Stream Packet::new()",
      "baseline": 16,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "5x6GtfKt1fUxD-2zr4Uj1",
      "originalText": "Stream Packet::new()"
    },
    {
      "type": "text",
      "version": 553,
      "versionNonce": 1716173562,
      "isDeleted": false,
      "id": "gZ2hwaFtvZRaQWrC3b6nP",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 7350.585416851581,
      "y": -2523.5543331874696,
      "strokeColor": "#000000",
      "backgroundColor": "#ffffff",
      "width": 22.478609612610654,
      "height": 19.92422215663219,
      "seed": 104055815,
      "groupIds": [
        "fkRGHtixA87ybYr8zxeSA",
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226290,
      "link": null,
      "locked": false,
      "fontSize": 18.391589683045083,
      "fontFamily": 1,
      "text": "Arc",
      "baseline": 15.92422215663219,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Arc"
    },
    {
      "type": "text",
      "version": 471,
      "versionNonce": 84806054,
      "isDeleted": false,
      "id": "146RTNKSB3y8Q59QSNTOD",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 7250.627339087246,
      "y": -2505.8350666798738,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "width": 11,
      "height": 30,
      "seed": 2061476841,
      "groupIds": [
        "fkRGHtixA87ybYr8zxeSA",
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226290,
      "link": null,
      "locked": false,
      "fontSize": 28,
      "fontFamily": 1,
      "text": "p",
      "baseline": 24,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "p"
    },
    {
      "id": "vm6Hhd6PtWU6qk9m5fUsA",
      "type": "text",
      "x": 7483.886863594478,
      "y": -2498.9139502959665,
      "width": 89,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "seed": 1176023017,
      "version": 98,
      "versionNonce": 569199546,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226290,
      "link": null,
      "locked": false,
      "text": "(新的 p)",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "(新的 p)"
    },
    {
      "id": "xpTKFu_5Fhrr9fYZijBvU",
      "type": "text",
      "x": 7089.493169491714,
      "y": -2350.5806373076853,
      "width": 245,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "seed": 92539177,
      "version": 119,
      "versionNonce": 925492454,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226290,
      "link": null,
      "locked": false,
      "text": "match p.upgrade(rx) {}",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "match p.upgrade(rx) {}"
    },
    {
      "id": "RQebXwsHLf5u1pHnXJxbO",
      "type": "text",
      "x": 7092.351995532936,
      "y": -2178.691572095011,
      "width": 892,
      "height": 120,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "seed": 580587335,
      "version": 410,
      "versionNonce": 343917690,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226290,
      "link": null,
      "locked": false,
      "text": "3. sender 会首先断开链接，将 state 更新为 DISCONNECT\n    当 recviver 在 recv() 时，发现 sender 断开连接了，receiver 会被触发升级过程\n\n",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 114,
      "containerId": null,
      "originalText": "3. sender 会首先断开链接，将 state 更新为 DISCONNECT\n    当 recviver 在 recv() 时，发现 sender 断开连接了，receiver 会被触发升级过程\n\n"
    },
    {
      "id": "meydn7G5QFn5TXdAh7IM4",
      "type": "text",
      "x": 7091.348221194636,
      "y": -2306.247303974352,
      "width": 736,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "seed": 1458605321,
      "version": 161,
      "versionNonce": 1202214950,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226290,
      "link": null,
      "locked": false,
      "text": "1. 检查现在的self.upgrade 状态，应该是 NothingSent 或者 SendUsed",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "1. 检查现在的self.upgrade 状态，应该是 NothingSent 或者 SendUsed"
    },
    {
      "id": "BHco-TIfMRgCRV_OVs0yh",
      "type": "text",
      "x": 7092.088950632571,
      "y": -2249.950985072442,
      "width": 318,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "seed": 1307910601,
      "version": 146,
      "versionNonce": 667231546,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226291,
      "link": null,
      "locked": false,
      "text": "2. 将 upgrade 修改为 GoUp(rx)",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "2. 将 upgrade 修改为 GoUp(rx)"
    },
    {
      "type": "text",
      "version": 1083,
      "versionNonce": 2121687910,
      "isDeleted": false,
      "id": "vhiEQbQN_dCuxlKIAI0th",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 7317.255831359382,
      "y": -2079.520997233055,
      "strokeColor": "#000000",
      "backgroundColor": "#ffffff",
      "width": 383,
      "height": 90,
      "seed": 812973705,
      "groupIds": [
        "GW3BQ7w8OM4FVqvlRNTQD",
        "30qh1_kq2oqJZZvcUnQ36",
        "dfKGmd4sS0qN5N09bPoON",
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [
        {
          "id": "U4Hw639fzaktSBsrjy0m5",
          "type": "arrow"
        },
        {
          "id": "fVbkFowE_Xxhzokfh139N",
          "type": "arrow"
        },
        {
          "id": "Dxif7AkrDKRPy-FsmPe_p",
          "type": "arrow"
        }
      ],
      "updated": 1652863226291,
      "link": null,
      "locked": false,
      "fontSize": 28,
      "fontFamily": 1,
      "text": "data: UnsafeCell::new(None),\nupgrade: UnsafeCell::new(GoUp(rx)),\nstate: AtomicUsize::new(DISCONNECT),",
      "baseline": 84,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "data: UnsafeCell::new(None),\nupgrade: UnsafeCell::new(GoUp(rx)),\nstate: AtomicUsize::new(DISCONNECT),"
    },
    {
      "type": "text",
      "version": 451,
      "versionNonce": 354446842,
      "isDeleted": false,
      "id": "HHWjLGMJC1ig1KA5epF2P",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 7127.714620032466,
      "y": -2052.547863627528,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "width": 152,
      "height": 30,
      "seed": 1499614217,
      "groupIds": [
        "ItTKf5g71MVwr44twS9jN",
        "dfKGmd4sS0qN5N09bPoON",
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226291,
      "link": null,
      "locked": false,
      "fontSize": 28,
      "fontFamily": 1,
      "text": "Oneshot::Packet",
      "baseline": 24,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Oneshot::Packet"
    },
    {
      "id": "OcP4bTarq6Np65wGyUJBM",
      "type": "text",
      "x": 7121.323714811166,
      "y": -1953.1447131485295,
      "width": 662,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "seed": 437270441,
      "version": 128,
      "versionNonce": 501286566,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226291,
      "link": null,
      "locked": false,
      "text": "这里 更新 State 后，会根据原本的 state 作出不同反应：",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "这里 更新 State 后，会根据原本的 state 作出不同反应："
    },
    {
      "id": "D9zAHj5S3yPlJvps3Rc_l",
      "type": "text",
      "x": 7183.798564654481,
      "y": -1897.5355010347785,
      "width": 713,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "seed": 496275337,
      "version": 162,
      "versionNonce": 1905565370,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226291,
      "link": null,
      "locked": false,
      "text": "如果原 state 为 Empty 或 Data ，就是升级成功，返回 UpSuccess",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "如果原 state 为 Empty 或 Data ，就是升级成功，返回 UpSuccess"
    },
    {
      "type": "text",
      "version": 244,
      "versionNonce": 378880486,
      "isDeleted": false,
      "id": "pzwApP721RVAHOWCw33Yi",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 7180.631897987813,
      "y": -1848.3131601330858,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "width": 790,
      "height": 30,
      "seed": 727882985,
      "groupIds": [
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226291,
      "link": null,
      "locked": false,
      "fontSize": 28,
      "fontFamily": 1,
      "text": "如果原 state 为 DISCONNECTED ，升级发生冲突，返回 UpDisconnected",
      "baseline": 24,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "如果原 state 为 DISCONNECTED ，升级发生冲突，返回 UpDisconnected"
    },
    {
      "type": "text",
      "version": 263,
      "versionNonce": 969193338,
      "isDeleted": false,
      "id": "UIeP9hI9FTEzd9HVEqLvL",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 7181.742941282087,
      "y": -1796.0911752698044,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "width": 1014,
      "height": 30,
      "seed": 659604007,
      "groupIds": [
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226291,
      "link": null,
      "locked": false,
      "fontSize": 28,
      "fontFamily": 1,
      "text": "如果原 state 为 ptr，就是有 recvicer 在阻塞，返回 UpWoke(SignalToken::cast_from_usize(ptr)),",
      "baseline": 24,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "如果原 state 为 ptr，就是有 recvicer 在阻塞，返回 UpWoke(SignalToken::cast_from_usize(ptr)),"
    },
    {
      "id": "Ay2effUwkA52msPyYzlYX",
      "type": "text",
      "x": 8026.020854693545,
      "y": -1861.980030250273,
      "width": 752,
      "height": 60,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "seed": 1453561095,
      "version": 109,
      "versionNonce": 1000346918,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226291,
      "link": null,
      "locked": false,
      "text": "原注释：If the other end is already disconnected, then we failed the upgrade. \nBe sure to trash the port we were given.",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 54,
      "containerId": null,
      "originalText": "原注释：If the other end is already disconnected, then we failed the upgrade. \nBe sure to trash the port we were given."
    },
    {
      "id": "IFA1W0gKGQyAJ49xGsDD5",
      "type": "text",
      "x": 7016.171319248169,
      "y": -1729.5910379407023,
      "width": 1032,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "seed": 1071624295,
      "version": 319,
      "versionNonce": 1576253498,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226291,
      "link": null,
      "locked": false,
      "text": "3. upgrade 结束后，根据升级结果，选择不同的 send 方式（使用新的 stream p 进行 send）",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "3. upgrade 结束后，根据升级结果，选择不同的 send 方式（使用新的 stream p 进行 send）"
    },
    {
      "id": "8hyKfSYdwiwQUQAxnIsr0",
      "type": "text",
      "x": 7090.393633023125,
      "y": -1680.1624919434457,
      "width": 377,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "seed": 816455943,
      "version": 170,
      "versionNonce": 1986953318,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226291,
      "link": null,
      "locked": false,
      "text": "如果返回 UpSuccess，调用 p.send()",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "如果返回 UpSuccess，调用 p.send()"
    },
    {
      "type": "text",
      "version": 207,
      "versionNonce": 1308926202,
      "isDeleted": false,
      "id": "6NREGSkhQS4dciuXFAppg",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 7090.4432730825965,
      "y": -1639.7092070837884,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "width": 373,
      "height": 30,
      "seed": 284475721,
      "groupIds": [
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226291,
      "link": null,
      "locked": false,
      "fontSize": 28,
      "fontFamily": 1,
      "text": "如果返回 UpDisconnected，不 send",
      "baseline": 24,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "如果返回 UpDisconnected，不 send"
    },
    {
      "type": "text",
      "version": 306,
      "versionNonce": 2060288934,
      "isDeleted": false,
      "id": "XcQdx9pe_jtOW7ETJGe7g",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 7091.7765555533,
      "y": -1592.5425505896478,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "width": 385,
      "height": 30,
      "seed": 2049273767,
      "groupIds": [
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226291,
      "link": null,
      "locked": false,
      "fontSize": 28,
      "fontFamily": 1,
      "text": "如果返回 UpWoke，先 send 再 wake",
      "baseline": 24,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "如果返回 UpWoke，先 send 再 wake"
    },
    {
      "id": "T8UEQuOtHd38pJZSBuxWL",
      "type": "text",
      "x": 7015.685722366196,
      "y": -1543.8351210614114,
      "width": 498,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "seed": 845429223,
      "version": 195,
      "versionNonce": 91910586,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226291,
      "link": null,
      "locked": false,
      "text": "4. 最后使用 mem::swap 更新 sender 里的packet",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "4. 最后使用 mem::swap 更新 sender 里的packet"
    },
    {
      "type": "rectangle",
      "version": 714,
      "versionNonce": 2062163686,
      "isDeleted": false,
      "id": "BmIwrPAgDmJQazshAQEti",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 7074.900779479973,
      "y": -1287.4187620577181,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 137.4260451316424,
      "height": 40.87019929565573,
      "seed": 757635049,
      "groupIds": [
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [
        {
          "id": "LVlWB8Dl502odrYQohh7w",
          "type": "text"
        },
        {
          "id": "yUMTCgdU4wkvBVoHRprtK",
          "type": "arrow"
        },
        {
          "type": "text",
          "id": "LVlWB8Dl502odrYQohh7w"
        }
      ],
      "updated": 1652863226291,
      "link": null,
      "locked": false,
      "fontSize": 17.711728280846042,
      "baseline": 26.87019929565573
    },
    {
      "type": "text",
      "version": 757,
      "versionNonce": 393751162,
      "isDeleted": false,
      "id": "LVlWB8Dl502odrYQohh7w",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 7079.900779479973,
      "y": -1276.9836624098903,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "width": 127,
      "height": 20,
      "seed": 154924839,
      "groupIds": [
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226291,
      "link": null,
      "locked": false,
      "fontSize": 18.39158968304508,
      "fontFamily": 1,
      "text": "Flavor::Stream(T)",
      "baseline": 16,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "BmIwrPAgDmJQazshAQEti",
      "originalText": "Flavor::Stream(T)"
    },
    {
      "type": "rectangle",
      "version": 822,
      "versionNonce": 1532056102,
      "isDeleted": false,
      "id": "TTL5-4qScbF1fG9eVulCy",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 7376.336541608687,
      "y": -1286.0952630748984,
      "strokeColor": "#000000",
      "backgroundColor": "#40c057",
      "width": 137.4260451316424,
      "height": 40.87019929565573,
      "seed": 838841033,
      "groupIds": [
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [
        {
          "id": "9v3OnvU-R2f_Rcu0HIq1E",
          "type": "text"
        },
        {
          "id": "9v3OnvU-R2f_Rcu0HIq1E",
          "type": "text"
        },
        {
          "id": "8wOF3VcRTzDwAwUlcPHLi",
          "type": "arrow"
        },
        {
          "type": "text",
          "id": "9v3OnvU-R2f_Rcu0HIq1E"
        }
      ],
      "updated": 1652863226291,
      "link": null,
      "locked": false,
      "fontSize": 17.711728280846042,
      "baseline": 26.87019929565573
    },
    {
      "type": "text",
      "version": 860,
      "versionNonce": 985713466,
      "isDeleted": false,
      "id": "9v3OnvU-R2f_Rcu0HIq1E",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 7381.336541608687,
      "y": -1275.6601634270705,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "width": 127,
      "height": 20,
      "seed": 891320903,
      "groupIds": [
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226291,
      "link": null,
      "locked": false,
      "fontSize": 18.39158968304508,
      "fontFamily": 1,
      "text": "Flavor::Stream(T)",
      "baseline": 16,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "TTL5-4qScbF1fG9eVulCy",
      "originalText": "Flavor::Stream(T)"
    },
    {
      "type": "text",
      "version": 532,
      "versionNonce": 1727012198,
      "isDeleted": false,
      "id": "OrJjUKpIIz9KCT0YrIndv",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 7015.945100521582,
      "y": -1273.6578274294075,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "width": 43.42458675163427,
      "height": 19.92422215663219,
      "seed": 116421033,
      "groupIds": [
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226291,
      "link": null,
      "locked": false,
      "fontSize": 18.39158968304511,
      "fontFamily": 1,
      "text": "Sender",
      "baseline": 15.92422215663219,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Sender"
    },
    {
      "type": "text",
      "version": 565,
      "versionNonce": 1438077946,
      "isDeleted": false,
      "id": "ooSB9Lut-GZhlClC62eWu",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 7316.00046995669,
      "y": -1279.1072289108097,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "width": 50.06599413717827,
      "height": 19.92422215663219,
      "seed": 1942460775,
      "groupIds": [
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226291,
      "link": null,
      "locked": false,
      "fontSize": 18.39158968304507,
      "fontFamily": 1,
      "text": "Receiver",
      "baseline": 15.92422215663219,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Receiver"
    },
    {
      "type": "arrow",
      "version": 1877,
      "versionNonce": 51609766,
      "isDeleted": false,
      "id": "yUMTCgdU4wkvBVoHRprtK",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 7168.472134388166,
      "y": -1296.1839543112917,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "width": 73.0331189505323,
      "height": 74.87530905521749,
      "seed": 1093031049,
      "groupIds": [
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "round",
      "boundElements": [],
      "updated": 1652863226291,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "BmIwrPAgDmJQazshAQEti",
        "focus": -0.040876729779558515,
        "gap": 8.76519225357356
      },
      "endBinding": {
        "elementId": "9NpXsQWG4cdli6UcciVd3",
        "focus": 0.08692807081407675,
        "gap": 13.522841692290285
      },
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          73.0331189505323,
          -74.87530905521749
        ]
      ]
    },
    {
      "type": "arrow",
      "version": 2108,
      "versionNonce": 173982906,
      "isDeleted": false,
      "id": "8wOF3VcRTzDwAwUlcPHLi",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 7469.812101312505,
      "y": -1292.5096499784179,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "width": 115.09824518832284,
      "height": 75.17321461428969,
      "seed": 176018567,
      "groupIds": [
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "round",
      "boundElements": [],
      "updated": 1652863226291,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "TTL5-4qScbF1fG9eVulCy",
        "focus": 0.6587108866414209,
        "gap": 6.414386903519471
      },
      "endBinding": {
        "elementId": "9NpXsQWG4cdli6UcciVd3",
        "focus": 0.19721350310537378,
        "gap": 16.899240466091896
      },
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          -115.09824518832284,
          -75.17321461428969
        ]
      ]
    },
    {
      "type": "rectangle",
      "version": 762,
      "versionNonce": 1667791846,
      "isDeleted": false,
      "id": "9NpXsQWG4cdli6UcciVd3",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 7211.231485946734,
      "y": -1458.0511463684932,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "width": 180.51003204081888,
      "height": 73.4690413096937,
      "seed": 583556649,
      "groupIds": [
        "_aEaY101MFgPzonPm3Btf",
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [
        {
          "id": "yUMTCgdU4wkvBVoHRprtK",
          "type": "arrow"
        },
        {
          "id": "8wOF3VcRTzDwAwUlcPHLi",
          "type": "arrow"
        }
      ],
      "updated": 1652863226291,
      "link": null,
      "locked": false
    },
    {
      "type": "rectangle",
      "version": 792,
      "versionNonce": 1113202042,
      "isDeleted": false,
      "id": "GAE6MPwfE_uEV8a7s2UwN",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 7223.881770880388,
      "y": -1433.485055611345,
      "strokeColor": "#000000",
      "backgroundColor": "#ffffff",
      "width": 156.3285123058832,
      "height": 36.272301874894495,
      "seed": 319993063,
      "groupIds": [
        "_aEaY101MFgPzonPm3Btf",
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [
        {
          "id": "3TdxGoh790C0DhfT2iZpg",
          "type": "text"
        },
        {
          "id": "3TdxGoh790C0DhfT2iZpg",
          "type": "text"
        },
        {
          "id": "3TdxGoh790C0DhfT2iZpg",
          "type": "text"
        },
        {
          "type": "text",
          "id": "3TdxGoh790C0DhfT2iZpg"
        }
      ],
      "updated": 1652863226291,
      "link": null,
      "locked": false
    },
    {
      "type": "text",
      "version": 902,
      "versionNonce": 1039929126,
      "isDeleted": false,
      "id": "3TdxGoh790C0DhfT2iZpg",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 7228.881770880388,
      "y": -1425.3489046738978,
      "strokeColor": "#000000",
      "backgroundColor": "#afffff",
      "width": 146,
      "height": 20,
      "seed": 1682747657,
      "groupIds": [
        "_aEaY101MFgPzonPm3Btf",
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226292,
      "link": null,
      "locked": false,
      "fontSize": 18.391589683045094,
      "fontFamily": 1,
      "text": "Stream Packet::new()",
      "baseline": 16,
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "GAE6MPwfE_uEV8a7s2UwN",
      "originalText": "Stream Packet::new()"
    },
    {
      "type": "text",
      "version": 669,
      "versionNonce": 988569146,
      "isDeleted": false,
      "id": "aWobxSi5kAEowG_Z2UCXr",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 7288.106325228576,
      "y": -1456.2434166208084,
      "strokeColor": "#000000",
      "backgroundColor": "#ffffff",
      "width": 22.478609612610654,
      "height": 19.92422215663219,
      "seed": 1490649095,
      "groupIds": [
        "_aEaY101MFgPzonPm3Btf",
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226292,
      "link": null,
      "locked": false,
      "fontSize": 18.391589683045083,
      "fontFamily": 1,
      "text": "Arc",
      "baseline": 15.92422215663219,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Arc"
    },
    {
      "type": "text",
      "version": 587,
      "versionNonce": 2134588006,
      "isDeleted": false,
      "id": "2m30S0Ox3-Cy2GAvbIHy0",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 7188.148247464241,
      "y": -1438.524150113213,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "width": 11,
      "height": 30,
      "seed": 1535354857,
      "groupIds": [
        "_aEaY101MFgPzonPm3Btf",
        "jY-IGd0GkKnMrAz6bOYuh"
      ],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226292,
      "link": null,
      "locked": false,
      "fontSize": 28,
      "fontFamily": 1,
      "text": "p",
      "baseline": 24,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "p"
    },
    {
      "id": "4k-9GDxm-2DtqqK8QUygi",
      "type": "arrow",
      "x": 6144.147051147986,
      "y": -2055.684792798008,
      "width": 800,
      "height": 106.66671752929688,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#afffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "round",
      "seed": 1148769511,
      "version": 77,
      "versionNonce": 284722938,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226292,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          800,
          -106.66671752929688
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": null,
      "endBinding": null,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "id": "rpx8kEs_fziGkz2TQAg70",
      "type": "text",
      "x": 6397.127264539861,
      "y": -2147.208653184448,
      "width": 79,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#afffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 2123285511,
      "version": 23,
      "versionNonce": 2113076646,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226292,
      "link": null,
      "locked": false,
      "text": "先 send",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "先 send"
    },
    {
      "id": "qiM8hCrz3srTotKGy13y0",
      "type": "text",
      "x": 8955.626048664712,
      "y": -2293.53378992545,
      "width": 890,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#afffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 303576007,
      "version": 194,
      "versionNonce": 1524648998,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226292,
      "link": null,
      "locked": false,
      "text": "调用 p.recv()（这里还是 Oneshot::Packet），state 不为 Empty，直接走 try_reccv()",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "调用 p.recv()（这里还是 Oneshot::Packet），state 不为 Empty，直接走 try_reccv()"
    },
    {
      "id": "N-WhPBWuu3V2UsCRpPVmR",
      "type": "text",
      "x": 8950.733563999795,
      "y": -2366.7004616783797,
      "width": 224,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#afffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 98789833,
      "version": 63,
      "versionNonce": 2067165498,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226292,
      "link": null,
      "locked": false,
      "text": "下面是 recviver 升级",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "下面是 recviver 升级"
    },
    {
      "id": "lM-3tGcT0sX1n948YZ7wj",
      "type": "text",
      "x": 8957.169648389481,
      "y": -2236.033805184239,
      "width": 431,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#afffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 130552167,
      "version": 165,
      "versionNonce": 1318049638,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226292,
      "link": null,
      "locked": false,
      "text": "try_recv() 发现 state 为 DISCONNECT，",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "try_recv() 发现 state 为 DISCONNECT，"
    },
    {
      "id": "Ry0y_PZBsjCWWlyIrJPHF",
      "type": "text",
      "x": 9022.503022412919,
      "y": -2182.7004616783797,
      "width": 507,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#afffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 969990183,
      "version": 37,
      "versionNonce": 76036602,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226292,
      "link": null,
      "locked": false,
      "text": "如果 data 中还有数据，take() 掉数据并返回",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "如果 data 中还有数据，take() 掉数据并返回"
    },
    {
      "type": "text",
      "version": 141,
      "versionNonce": 313260710,
      "isDeleted": false,
      "id": "EXk27EfSbFy8HjLs4x6wE",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 9018.669709424637,
      "y": -2131.7004311608016,
      "strokeColor": "#000000",
      "backgroundColor": "#afffff",
      "width": 829,
      "height": 30,
      "seed": 307411849,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226292,
      "link": null,
      "locked": false,
      "fontSize": 28,
      "fontFamily": 1,
      "text": "如果 data 中没有数据，首先检查 upgrade，并将 upgrade 更新为 SendUSed",
      "baseline": 24,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "如果 data 中没有数据，首先检查 upgrade，并将 upgrade 更新为 SendUSed"
    },
    {
      "id": "0rdkw6RWBCqv-myV_Yvzx",
      "type": "text",
      "x": 7036.060094303656,
      "y": -1098.8650588427931,
      "width": 892,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#afffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 193935209,
      "version": 128,
      "versionNonce": 945751098,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226292,
      "link": null,
      "locked": false,
      "text": "注意：这里还要说明的一点是，这里调用的是 Stream::Packet 的 send 方法， ",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "注意：这里还要说明的一点是，这里调用的是 Stream::Packet 的 send 方法， "
    },
    {
      "id": "Id99UdVI3qUkSlCLVnuu_",
      "type": "text",
      "x": 7110.48576921897,
      "y": -1029.5318068896681,
      "width": 894,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#afffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 790495367,
      "version": 101,
      "versionNonce": 1143862374,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226292,
      "link": null,
      "locked": false,
      "text": "Stream::Packet 的签名如下，所有值初始化后都为 0 或 false，队列大小为 128",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "Stream::Packet 的签名如下，所有值初始化后都为 0 或 false，队列大小为 128"
    },
    {
      "id": "PPsOF6dEG9tKvJ4K8vKjj",
      "type": "text",
      "x": 7077.723963275889,
      "y": -942.9126924225922,
      "width": 1657.4019231826412,
      "height": 474.95965933510183,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#afffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 1827534119,
      "version": 438,
      "versionNonce": 1428581626,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1652863226292,
      "link": null,
      "locked": false,
      "text": "pub struct Packet<T> {\n    // 一个队列，存储了所有的消息，消息数量，以及唤醒需要的 Token 等\n    queue: spsc::Queue<Message<T>, ProducerAddition, ConsumerAddition>,\n}\n\nstruct ProducerAddition {\n    cnt: AtomicIsize,     // channel 中的消息数量\n    to_wake: AtomicUsize, // 用于唤醒 阻塞的 recv（SignalToken for the blocked thread to wake up）\n\n    port_dropped: AtomicBool, // 标志位，表示 receiver 是否被 drop（flag if the channel has been destroyed.）\n}\n\nstruct ConsumerAddition {\n    steals: UnsafeCell<isize>, // receiver 已经收到的消息数（How many times has a port received without blocking?）\n}",
      "fontSize": 25.23504831381945,
      "fontFamily": 3,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 468.95965933510183,
      "containerId": null,
      "originalText": "pub struct Packet<T> {\n    // 一个队列，存储了所有的消息，消息数量，以及唤醒需要的 Token 等\n    queue: spsc::Queue<Message<T>, ProducerAddition, ConsumerAddition>,\n}\n\nstruct ProducerAddition {\n    cnt: AtomicIsize,     // channel 中的消息数量\n    to_wake: AtomicUsize, // 用于唤醒 阻塞的 recv（SignalToken for the blocked thread to wake up）\n\n    port_dropped: AtomicBool, // 标志位，表示 receiver 是否被 drop（flag if the channel has been destroyed.）\n}\n\nstruct ConsumerAddition {\n    steals: UnsafeCell<isize>, // receiver 已经收到的消息数（How many times has a port received without blocking?）\n}"
    },
    {
      "id": "cZMS5JhLEnOSSxZ4U8boo",
      "type": "text",
      "x": 7052.921171148719,
      "y": -430.1365289325462,
      "width": 965,
      "height": 30,
      "angle": 0,
      "strokeColor": "#c92a2a",
      "backgroundColor": "#afffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 2011356745,
      "version": 148,
      "versionNonce": 1216247718,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1652863226292,
      "link": null,
      "locked": false,
      "text": "向 Stream::Packet 中 send 数据，就是向队列做了一个 push 操作，接着 cnt 计数 +1。",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "向 Stream::Packet 中 send 数据，就是向队列做了一个 push 操作，接着 cnt 计数 +1。"
    },
    {
      "id": "ppp73TktoGjUgjwt2fE3Y",
      "type": "text",
      "x": 1848.4549224012449,
      "y": -1760.7623344474314,
      "width": 286,
      "height": 120,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#afffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 183897479,
      "version": 205,
      "versionNonce": 1585626554,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226293,
      "link": null,
      "locked": false,
      "text": "Empty // 无数据\nData // 有数据\nptr // receiver在阻塞\nDISCONNECTED // 在升级",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 114,
      "containerId": null,
      "originalText": "Empty // 无数据\nData // 有数据\nptr // receiver在阻塞\nDISCONNECTED // 在升级"
    },
    {
      "id": "2QbaiPFVE9fmEbrwmD0lf",
      "type": "text",
      "x": 1842.7704946814565,
      "y": -1553.126628101841,
      "width": 313,
      "height": 60,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#afffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 499140521,
      "version": 142,
      "versionNonce": 1314689766,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226293,
      "link": null,
      "locked": false,
      "text": "NothingSent // 没有发过东西\nSendUsed // 发过东西",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 54,
      "containerId": null,
      "originalText": "NothingSent // 没有发过东西\nSendUsed // 发过东西"
    },
    {
      "id": "ran2Wi_4pcyB5CYsJ8Dz5",
      "type": "text",
      "x": 2215.3405602365765,
      "y": -1755.9736980767723,
      "width": 404,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#afffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 192244073,
      "version": 137,
      "versionNonce": 1100412538,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226293,
      "link": null,
      "locked": false,
      "text": "send 会先检测 upgrade，再检测 state",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "send 会先检测 upgrade，再检测 state"
    },
    {
      "id": "2cpIcXbGdVnrpxOqGunU3",
      "type": "text",
      "x": 2229.900925828308,
      "y": -1550.4093093247875,
      "width": 563,
      "height": 60,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#afffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 1967370985,
      "version": 147,
      "versionNonce": 5588518,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226293,
      "link": null,
      "locked": false,
      "text": "state 会先检测 state，\n如果是 DISCONNECTED，则会进一步检测 upgrade",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 54,
      "containerId": null,
      "originalText": "state 会先检测 state，\n如果是 DISCONNECTED，则会进一步检测 upgrade"
    },
    {
      "id": "ZKDn5gQNE0UrfKT30Lyhu",
      "type": "ellipse",
      "x": 7133.023242781168,
      "y": -2267.958492870269,
      "width": 290.66668701171875,
      "height": 65.3333740234375,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fd7e14",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 321715751,
      "version": 72,
      "versionNonce": 1083069178,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226293,
      "link": null,
      "locked": false
    },
    {
      "id": "_i2JyRkb1cp_r8566Qmdy",
      "type": "ellipse",
      "x": 7413.023303816324,
      "y": -2199.1166592788077,
      "width": 374.6666259765625,
      "height": 69.33331298828125,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 2128004423,
      "version": 68,
      "versionNonce": 342880678,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226293,
      "link": null,
      "locked": false
    },
    {
      "id": "WfKgSBdJM01oKqhzqnc5B",
      "type": "ellipse",
      "x": 9548.75674481154,
      "y": -2152.5431863815957,
      "width": 332.0001220703125,
      "height": 78.6666259765625,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fd7e14",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 1589963079,
      "version": 69,
      "versionNonce": 536732602,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226293,
      "link": null,
      "locked": false
    },
    {
      "id": "4iJyCzkO-3QY9t8FRZ9zD",
      "type": "line",
      "x": 9115.776620814806,
      "y": -2193.1043724568062,
      "width": 274.6666259765625,
      "height": 0,
      "angle": 0,
      "strokeColor": "#e67700",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "round",
      "seed": 70579529,
      "version": 81,
      "versionNonce": 1376701670,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863226293,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          274.6666259765625,
          0
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": null,
      "endBinding": null,
      "startArrowhead": null,
      "endArrowhead": null
    },
    {
      "id": "NQ0gj5SGq4_J4gaYzqlut",
      "type": "arrow",
      "x": 8186.1553612571015,
      "y": -2211.2448206859813,
      "width": 693.333333333333,
      "height": 3.333333333333485,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "round",
      "seed": 1656533735,
      "version": 76,
      "versionNonce": 884825210,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1652863226293,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          693.333333333333,
          -3.333333333333485
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": null,
      "endBinding": null,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "id": "a56vicHfh2LJ02n74MLay",
      "type": "text",
      "x": 8460.587126469054,
      "y": -2258.273963780998,
      "width": 209,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 497095162,
      "version": 59,
      "versionNonce": 266206842,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1652863437511,
      "link": null,
      "locked": false,
      "text": "recv() : channel 升级",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "recv() : channel 升级"
    },
    {
      "id": "OMsyTfKA5NoWXbSvgqFSF",
      "type": "text",
      "x": 7053.179861794346,
      "y": -382.89506705414976,
      "width": 964,
      "height": 30,
      "angle": 0,
      "strokeColor": "#c92a2a",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 563839546,
      "version": 138,
      "versionNonce": 479182138,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1652863226293,
      "link": null,
      "locked": false,
      "text": "但是 state 没有改变，仍然是 DISCONNECTED，只有等到 receiver 也升级后才会改变",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "但是 state 没有改变，仍然是 DISCONNECTED，只有等到 receiver 也升级后才会改变"
    },
    {
      "id": "3EsrxQM6nSpoMApORylui",
      "type": "ellipse",
      "x": 7534.462352190418,
      "y": -1646.1213757788619,
      "width": 375,
      "height": 84,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 1516421114,
      "version": 113,
      "versionNonce": 1155007994,
      "isDeleted": false,
      "boundElements": [
        {
          "type": "text",
          "id": "Iy48Z-1JTwkQBKQUUiF4_"
        }
      ],
      "updated": 1652863226293,
      "link": null,
      "locked": false
    },
    {
      "id": "Iy48Z-1JTwkQBKQUUiF4_",
      "type": "text",
      "x": 7539.462352190418,
      "y": -1619.1213757788619,
      "width": 365,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 1278709286,
      "version": 115,
      "versionNonce": 1989752506,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1652863226294,
      "link": null,
      "locked": false,
      "text": "Queue 里现在应该有一个数据",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "middle",
      "baseline": 24,
      "containerId": "3EsrxQM6nSpoMApORylui",
      "originalText": "Queue 里现在应该有一个数据"
    },
    {
      "id": "yAtRClepQRkPx9GgB6WAi",
      "type": "text",
      "x": 4047.018780959712,
      "y": -2953.9385748039485,
      "width": 679,
      "height": 39,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 1212795386,
      "version": 68,
      "versionNonce": 1146291558,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1652863226294,
      "link": null,
      "locked": false,
      "text": "不 clone，从 Oneshort Packet 升级为 Stream Packet",
      "fontSize": 36,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 31,
      "containerId": null,
      "originalText": "不 clone，从 Oneshort Packet 升级为 Stream Packet"
    },
    {
      "type": "text",
      "version": 144,
      "versionNonce": 576121850,
      "isDeleted": false,
      "id": "Ivz48P71jjFH4OmVMiAMJ",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 4174.185295038487,
      "y": -245.27175554939123,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "width": 385,
      "height": 39,
      "seed": 261186042,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElements": [],
      "updated": 1652863226294,
      "link": null,
      "locked": false,
      "fontSize": 36,
      "fontFamily": 1,
      "text": "clone，升级为 Shared Packet",
      "baseline": 31,
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "clone，升级为 Shared Packet"
    },
    {
      "id": "FzmOqB2XMdYzRYj4nUaDw",
      "type": "text",
      "x": 8950.43757116698,
      "y": -2065.1695173645153,
      "width": 1213,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 623930918,
      "version": 210,
      "versionNonce": 64579750,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1652863226294,
      "link": null,
      "locked": false,
      "text": "接着这一次循环就结束了，receiver 接收到 upgrade 里存储的 新的 packet 后就替换掉原有的 Oneshot::Packet",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "接着这一次循环就结束了，receiver 接收到 upgrade 里存储的 新的 packet 后就替换掉原有的 Oneshot::Packet"
    },
    {
      "id": "xEPJSRDUM4XlWIDvMcrSu",
      "type": "text",
      "x": 8950.437520304351,
      "y": -2011.7250898742814,
      "width": 940,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 409413114,
      "version": 130,
      "versionNonce": 1330339002,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1652863226294,
      "link": null,
      "locked": false,
      "text": "当开启下一次循环后，receiver 里就是 Stream::Packet 了，到此 Receiver 的升级完成",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "当开启下一次循环后，receiver 里就是 Stream::Packet 了，到此 Receiver 的升级完成"
    },
    {
      "id": "oNJqyI8Q2Lqfw6kW1OEnY",
      "type": "text",
      "x": 10276.069466321233,
      "y": -2224.9575139669473,
      "width": 626.333251953125,
      "height": 146.57552995559863,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 999528570,
      "version": 101,
      "versionNonce": 1871902266,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1652863226294,
      "link": null,
      "locked": false,
      "text": "DISCONNECTED => match (&mut *self.data.get()).take() {\n    Some(data) => Ok(data),\n    None => match ptr::replace(self.upgrade.get(), SendUsed) {\n        SendUsed | NothingSent => Err(Disconnected),\n        GoUp(upgrade) => Err(Upgraded(upgrade)),\n    },\n},",
      "fontSize": 17.244179994776303,
      "fontFamily": 3,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 141.57552995559863,
      "containerId": null,
      "originalText": "DISCONNECTED => match (&mut *self.data.get()).take() {\n    Some(data) => Ok(data),\n    None => match ptr::replace(self.upgrade.get(), SendUsed) {\n        SendUsed | NothingSent => Err(Disconnected),\n        GoUp(upgrade) => Err(Upgraded(upgrade)),\n    },\n},"
    },
    {
      "id": "y_kVVuB9n_1dd75YR0pL1",
      "type": "text",
      "x": 8979.15089041276,
      "y": -1205.000043488699,
      "width": 1044,
      "height": 485,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "cxme0hd5thgUHabAFJV-o"
      ],
      "strokeSharpness": "sharp",
      "seed": 1610052073,
      "version": 423,
      "versionNonce": 567344570,
      "isDeleted": false,
      "boundElements": [],
      "updated": 1652863383378,
      "link": null,
      "locked": false,
      "text": " pub fn recv(&self, deadline: Option<Instant>) -> Result<T, Failure<T>> {\n        // 检查数据\n        match self.try_recv() { // 第一步直接就是 try_recv()\n            data => return data, // 如果能够从队列中拿到数据就直接返回\n            Err(Empty) => {} // 如果队列为空，就进行休眠\n        }\n\n        // 设置 token，进入休眠\n        let (wait_token, signal_token) = blocking::tokens();\n        if self.decrement(signal_token).is_ok() {\n            if let Some(deadline) = deadline {\n                let timed_out = !wait_token.wait_max_until(deadline);\n                if timed_out {\n                    self.abort_selection(/* was_upgrade = */ false).map_err(Upgraded)?;\n                }\n            } else {\n                wait_token.wait();\n            }\n        }",
      "fontSize": 20.496733422372863,
      "fontFamily": 3,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 480,
      "containerId": null,
      "originalText": " pub fn recv(&self, deadline: Option<Instant>) -> Result<T, Failure<T>> {\n        // 检查数据\n        match self.try_recv() { // 第一步直接就是 try_recv()\n            data => return data, // 如果能够从队列中拿到数据就直接返回\n            Err(Empty) => {} // 如果队列为空，就进行休眠\n        }\n\n        // 设置 token，进入休眠\n        let (wait_token, signal_token) = blocking::tokens();\n        if self.decrement(signal_token).is_ok() {\n            if let Some(deadline) = deadline {\n                let timed_out = !wait_token.wait_max_until(deadline);\n                if timed_out {\n                    self.abort_selection(/* was_upgrade = */ false).map_err(Upgraded)?;\n                }\n            } else {\n                wait_token.wait();\n            }\n        }"
    },
    {
      "id": "xBTQayZIqKlkqDXKMxw69",
      "type": "text",
      "x": 10274.709414639268,
      "y": -1195.575639782132,
      "width": 524,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#afffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "1QmgSW4VPmlqJInpni-K1",
        "cxme0hd5thgUHabAFJV-o"
      ],
      "strokeSharpness": "sharp",
      "seed": 576957097,
      "version": 623,
      "versionNonce": 1578259174,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1652863383378,
      "link": null,
      "locked": false,
      "text": "现在 receiver 应该会调用 Stream::Packet 的 recv()",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "现在 receiver 应该会调用 Stream::Packet 的 recv()"
    },
    {
      "id": "_H44IkHp6X7p3Eif01mg7",
      "type": "text",
      "x": 10281.95135621417,
      "y": -1142.7534918274341,
      "width": 325,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#afffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "1QmgSW4VPmlqJInpni-K1",
        "cxme0hd5thgUHabAFJV-o"
      ],
      "strokeSharpness": "sharp",
      "seed": 2102110375,
      "version": 564,
      "versionNonce": 18691706,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1652863383378,
      "link": null,
      "locked": false,
      "text": "p.recv() 首先会调用 try_recv()",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "p.recv() 首先会调用 try_recv()"
    },
    {
      "id": "efSTdo0gsbNIhoDpf76h2",
      "type": "text",
      "x": 10279.951351854515,
      "y": -1094.943908435972,
      "width": 765,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#afffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "1QmgSW4VPmlqJInpni-K1",
        "cxme0hd5thgUHabAFJV-o"
      ],
      "strokeSharpness": "sharp",
      "seed": 754212137,
      "version": 609,
      "versionNonce": 324208166,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1652863383378,
      "link": null,
      "locked": false,
      "text": "try_recv() 会从队列中 pop 一个元素，接着把 steals +1，然后返回;",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "try_recv() 会从队列中 pop 一个元素，接着把 steals +1，然后返回;"
    },
    {
      "id": "wnYeGpTkcvYXvHorZ-fxV",
      "type": "text",
      "x": 10283.437915793194,
      "y": -1023.7262625150447,
      "width": 556,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "1QmgSW4VPmlqJInpni-K1",
        "cxme0hd5thgUHabAFJV-o"
      ],
      "strokeSharpness": "sharp",
      "seed": 799158822,
      "version": 498,
      "versionNonce": 1139038010,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1652863383378,
      "link": null,
      "locked": false,
      "text": "如果 send 和 recv 就这样交替调用，那就结束了",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "如果 send 和 recv 就这样交替调用，那就结束了"
    },
    {
      "id": "4Qrf5m1JISl2s9qmaaaJc",
      "type": "text",
      "x": 10335.528189138742,
      "y": -745.5277570713279,
      "width": 643,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "-pzcPzKJOV9i4yPrl0wBE",
        "cxme0hd5thgUHabAFJV-o"
      ],
      "strokeSharpness": "sharp",
      "seed": 1704142793,
      "version": 580,
      "versionNonce": 479940966,
      "isDeleted": false,
      "boundElements": [
        {
          "id": "mwfiuma8tQES40R6Xqio6",
          "type": "arrow"
        }
      ],
      "updated": 1652863383378,
      "link": null,
      "locked": false,
      "text": "try_recv() 发现队列中没有元素，继续执行下面的步骤",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "try_recv() 发现队列中没有元素，继续执行下面的步骤"
    },
    {
      "id": "GCAf9XKzo5LUEa2oBybhD",
      "type": "text",
      "x": 10328.146023256417,
      "y": -668.5845299732264,
      "width": 898,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "-pzcPzKJOV9i4yPrl0wBE",
        "cxme0hd5thgUHabAFJV-o"
      ],
      "strokeSharpness": "sharp",
      "seed": 1873546089,
      "version": 541,
      "versionNonce": 176775162,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1652863383378,
      "link": null,
      "locked": false,
      "text": "第一步还是要让 receiver 先阻塞，先创建 token，接着调用 wait()，等待被唤醒",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "第一步还是要让 receiver 先阻塞，先创建 token，接着调用 wait()，等待被唤醒"
    },
    {
      "id": "3Qj2VXI0LxBMZGFJQKa8v",
      "type": "text",
      "x": 10337.548516572435,
      "y": -560.5053528585267,
      "width": 712,
      "height": 140,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "-pzcPzKJOV9i4yPrl0wBE",
        "cxme0hd5thgUHabAFJV-o"
      ],
      "strokeSharpness": "sharp",
      "seed": 1599410569,
      "version": 533,
      "versionNonce": 1161311398,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1652863383378,
      "link": null,
      "locked": false,
      "text": "let (wait_token, signal_token) = blocking::tokens();\nif self.decrement(signal_token).is_ok() {\n    ...\n    wait_token.wait();\n}",
      "fontSize": 23.37802561007211,
      "fontFamily": 3,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 134,
      "containerId": null,
      "originalText": "let (wait_token, signal_token) = blocking::tokens();\nif self.decrement(signal_token).is_ok() {\n    ...\n    wait_token.wait();\n}"
    },
    {
      "id": "G8s6jCp-wMS8awXQPpbyC",
      "type": "text",
      "x": 10339.520490726749,
      "y": -174.07798897303746,
      "width": 922.7777608235683,
      "height": 296.239384161386,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "-pzcPzKJOV9i4yPrl0wBE",
        "cxme0hd5thgUHabAFJV-o"
      ],
      "strokeSharpness": "sharp",
      "seed": 2017659975,
      "version": 574,
      "versionNonce": 1896829114,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1652863383378,
      "link": null,
      "locked": false,
      "text": "match self.try_recv() {\n    // Messages which actually popped from the queue shouldn't count as\n    // a steal, so offset the decrement here (we already have our\n    // \"steal\" factored into the channel count above).\n    data @ (Ok(..) | Err(Upgraded(..))) => unsafe {\n        *self.queue.consumer_addition().steals.get() -= 1;\n        data\n    },\n\n    data => data,\n}",
      "fontSize": 22.178349616360446,
      "fontFamily": 3,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 291.239384161386,
      "containerId": null,
      "originalText": "match self.try_recv() {\n    // Messages which actually popped from the queue shouldn't count as\n    // a steal, so offset the decrement here (we already have our\n    // \"steal\" factored into the channel count above).\n    data @ (Ok(..) | Err(Upgraded(..))) => unsafe {\n        *self.queue.consumer_addition().steals.get() -= 1;\n        data\n    },\n\n    data => data,\n}"
    },
    {
      "id": "69u4eskowVIQyLNxkZTOa",
      "type": "text",
      "x": 10334.29840413821,
      "y": -617.3386861918607,
      "width": 525,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "-pzcPzKJOV9i4yPrl0wBE",
        "cxme0hd5thgUHabAFJV-o"
      ],
      "strokeSharpness": "sharp",
      "seed": 875473033,
      "version": 581,
      "versionNonce": 1725345766,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1652863383378,
      "link": null,
      "locked": false,
      "text": "不过中间多了一步调用 decrement(signal_token)",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "不过中间多了一步调用 decrement(signal_token)"
    },
    {
      "id": "xMu_LYiIGKURRk_Dl2DWh",
      "type": "text",
      "x": 10341.988504902793,
      "y": -369.34648743782236,
      "width": 756,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "-pzcPzKJOV9i4yPrl0wBE",
        "cxme0hd5thgUHabAFJV-o"
      ],
      "strokeSharpness": "sharp",
      "seed": 32639047,
      "version": 488,
      "versionNonce": 454633850,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1652863383378,
      "link": null,
      "locked": false,
      "text": "decrement() 方法首先会将 to_weak 更新为传入的 signal_token 指针",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "decrement() 方法首先会将 to_weak 更新为传入的 signal_token 指针"
    },
    {
      "id": "9Ws2OCOBsOyfXuAon8-Dj",
      "type": "text",
      "x": 10341.988437085953,
      "y": -314.16131355544394,
      "width": 963,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fab005",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "-pzcPzKJOV9i4yPrl0wBE",
        "cxme0hd5thgUHabAFJV-o"
      ],
      "strokeSharpness": "sharp",
      "seed": 1629329575,
      "version": 518,
      "versionNonce": 495174438,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1652863383378,
      "link": null,
      "locked": false,
      "text": "接着 take() 掉原有的 steals，将 cnt 更新为 cnt - (1 + steals)，目的就是削减 steal 的值",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "接着 take() 掉原有的 steals，将 cnt 更新为 cnt - (1 + steals)，目的就是削减 steal 的值"
    },
    {
      "id": "IpOFHl3G4u0Bw3_A5TmqF",
      "type": "text",
      "x": 10340.793540971325,
      "y": -239.88685073409943,
      "width": 447,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "-pzcPzKJOV9i4yPrl0wBE",
        "cxme0hd5thgUHabAFJV-o"
      ],
      "strokeSharpness": "sharp",
      "seed": 833741734,
      "version": 401,
      "versionNonce": 1072294458,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1652863383378,
      "link": null,
      "locked": false,
      "text": "最后当被唤醒后，再次尝试拿到数据",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "最后当被唤醒后，再次尝试拿到数据"
    },
    {
      "id": "xIoiH98K0bF-qtzNLE8mD",
      "type": "text",
      "x": 10338.579328951086,
      "y": 170.62461811349294,
      "width": 1096,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "-pzcPzKJOV9i4yPrl0wBE",
        "cxme0hd5thgUHabAFJV-o"
      ],
      "strokeSharpness": "sharp",
      "seed": 299542842,
      "version": 457,
      "versionNonce": 2074898022,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1652863383378,
      "link": null,
      "locked": false,
      "text": "try_recv() 有时候会接收到 Message<GoUp(up)> 类型的消息，暂时不知道哪里会发出这样的消息",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "try_recv() 有时候会接收到 Message<GoUp(up)> 类型的消息，暂时不知道哪里会发出这样的消息"
    },
    {
      "id": "Cou12fKWo9gNSiT9LYaHs",
      "type": "freedraw",
      "x": 10281.912611421789,
      "y": 137.62477070138357,
      "width": 131.66656494140625,
      "height": 96.66671752929688,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "-pzcPzKJOV9i4yPrl0wBE",
        "cxme0hd5thgUHabAFJV-o"
      ],
      "strokeSharpness": "round",
      "seed": 1391951674,
      "version": 454,
      "versionNonce": 912560890,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1652863383378,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -3.333282470703125,
          3.333282470703125
        ],
        [
          -3.3332824707031254,
          6.666717529296875
        ],
        [
          -5,
          11.666717529296875
        ],
        [
          -8.333282470703125,
          16.666717529296875
        ],
        [
          -5,
          23.333282470703125
        ],
        [
          1.666717529296875,
          35
        ],
        [
          3.33343505859375,
          40
        ],
        [
          8.33343505859375,
          48.333282470703125
        ],
        [
          11.666717529296871,
          50
        ],
        [
          13.333435058593746,
          51.666717529296875
        ],
        [
          16.666717529296875,
          56.666717529296875
        ],
        [
          26.66671752929688,
          61.666717529296875
        ],
        [
          33.33343505859375,
          63.333282470703125
        ],
        [
          33.33343505859375,
          66.66671752929688
        ],
        [
          36.666717529296875,
          66.66671752929688
        ],
        [
          41.666717529296875,
          66.66671752929688
        ],
        [
          43.33343505859375,
          66.66671752929688
        ],
        [
          46.666717529296875,
          66.66671752929688
        ],
        [
          50.000000000000014,
          61.66671752929688
        ],
        [
          50,
          53.33328247070312
        ],
        [
          38.33343505859375,
          48.33328247070311
        ],
        [
          29.999999999999993,
          40
        ],
        [
          23.33343505859375,
          26.666717529296875
        ],
        [
          20,
          15.000000000000004
        ],
        [
          18.33343505859375,
          10
        ],
        [
          15,
          8.333282470703125
        ],
        [
          13.33343505859375,
          8.333282470703125
        ],
        [
          13.33343505859375,
          6.666717529296877
        ],
        [
          11.666717529296879,
          6.666717529296872
        ],
        [
          10,
          6.666717529296875
        ],
        [
          5,
          6.666717529296875
        ],
        [
          -3.333282470703125,
          15
        ],
        [
          -5,
          16.666717529296875
        ],
        [
          -10,
          26.666717529296875
        ],
        [
          -21.66656494140625,
          48.333282470703125
        ],
        [
          -35,
          68.33328247070312
        ],
        [
          -43.33328247070311,
          76.66671752929692
        ],
        [
          -46.66656494140625,
          78.33328247070312
        ],
        [
          -46.66656494140625,
          81.66671752929688
        ],
        [
          -43.333282470703125,
          83.33328247070312
        ],
        [
          -38.333282470703125,
          86.66671752929688
        ],
        [
          -36.666564941406236,
          83.33328247070312
        ],
        [
          -35,
          83.33328247070312
        ],
        [
          -33.333282470703125,
          83.33328247070312
        ],
        [
          -25,
          81.66671752929688
        ],
        [
          -11.66656494140625,
          73.33328247070312
        ],
        [
          -1.666564941406257,
          71.66671752929688
        ],
        [
          18.333435058593746,
          66.66671752929688
        ],
        [
          33.33343505859375,
          66.66671752929688
        ],
        [
          46.666717529296875,
          66.66671752929688
        ],
        [
          54.99999999999999,
          65
        ],
        [
          53.33343505859375,
          61.66671752929687
        ],
        [
          50.000000000000014,
          61.66671752929688
        ],
        [
          45,
          60.00000000000001
        ],
        [
          40,
          56.666717529296875
        ],
        [
          38.33343505859376,
          55
        ],
        [
          30,
          51.666717529296875
        ],
        [
          23.333435058593746,
          45
        ],
        [
          15.000000000000007,
          36.666717529296875
        ],
        [
          6.666717529296876,
          21.666717529296875
        ],
        [
          -1.66656494140625,
          11.666717529296877
        ],
        [
          -3.333282470703125,
          0
        ],
        [
          -3.333282470703125,
          -1.6667175292968754
        ],
        [
          -3.333282470703125,
          0
        ],
        [
          -6.66656494140625,
          8.333282470703125
        ],
        [
          -20,
          26.66671752929688
        ],
        [
          -36.66656494140625,
          41.66671752929688
        ],
        [
          -45,
          48.333282470703125
        ],
        [
          -50,
          53.333282470703125
        ],
        [
          -51.66656494140625,
          53.333282470703125
        ],
        [
          -51.66656494140625,
          54.99999999999999
        ],
        [
          -50,
          55
        ],
        [
          -46.66656494140625,
          55
        ],
        [
          -41.66656494140626,
          55.00000000000001
        ],
        [
          -35.00000000000001,
          55.00000000000001
        ],
        [
          -21.66656494140625,
          55
        ],
        [
          -1.66656494140625,
          53.333282470703125
        ],
        [
          6.666717529296875,
          50
        ],
        [
          8.33343505859375,
          50.00000000000001
        ],
        [
          11.666717529296871,
          50
        ],
        [
          13.33343505859375,
          48.333282470703125
        ],
        [
          16.666717529296875,
          48.333282470703125
        ],
        [
          15,
          45
        ],
        [
          16.666717529296875,
          45.00000000000001
        ],
        [
          20.000000000000004,
          40
        ],
        [
          21.666717529296875,
          38.333282470703125
        ],
        [
          25.000000000000004,
          35
        ],
        [
          20,
          33.333282470703125
        ],
        [
          16.666717529296875,
          30
        ],
        [
          6.666717529296875,
          20
        ],
        [
          -5,
          10
        ],
        [
          -6.66656494140625,
          8.333282470703125
        ],
        [
          -6.666564941406251,
          5
        ],
        [
          -6.66656494140625,
          8.333282470703125
        ],
        [
          -11.66656494140625,
          13.333282470703125
        ],
        [
          -21.66656494140625,
          33.333282470703125
        ],
        [
          -35,
          53.333282470703125
        ],
        [
          -44.999999999999986,
          70
        ],
        [
          -53.33328247070313,
          80.00000000000001
        ],
        [
          -58.333282470703125,
          88.33328247070314
        ],
        [
          -60,
          90
        ],
        [
          -63.333282470703146,
          93.33328247070312
        ],
        [
          -68.33328247070312,
          93.33328247070312
        ],
        [
          -73.33328247070312,
          95
        ],
        [
          -76.66656494140625,
          95
        ],
        [
          -75,
          95.00000000000001
        ],
        [
          -73.33328247070312,
          95
        ],
        [
          -68.33328247070312,
          93.33328247070312
        ],
        [
          -58.33328247070313,
          90
        ],
        [
          -53.33328247070312,
          88.33328247070312
        ],
        [
          -33.333282470703125,
          83.33328247070312
        ],
        [
          -18.333282470703125,
          81.66671752929688
        ],
        [
          1.666717529296875,
          76.66671752929688
        ],
        [
          19.999999999999996,
          66.66671752929688
        ],
        [
          28.333435058593746,
          65
        ],
        [
          34.99999999999999,
          61.666717529296875
        ],
        [
          33.33343505859375,
          60
        ],
        [
          31.66671752929688,
          56.666717529296875
        ],
        [
          26.666717529296875,
          51.666717529296875
        ],
        [
          21.666717529296875,
          50.000000000000014
        ],
        [
          10.000000000000002,
          35
        ],
        [
          4.999999999999999,
          20
        ],
        [
          -8.881784197001252e-16,
          15
        ],
        [
          0,
          10
        ],
        [
          -1.66656494140625,
          8.333282470703125
        ],
        [
          -1.66656494140625,
          10
        ],
        [
          -5,
          11.666717529296875
        ],
        [
          0,
          0
        ]
      ],
      "pressures": [],
      "simulatePressure": true,
      "lastCommittedPoint": [
        -5,
        11.666717529296875
      ]
    },
    {
      "id": "MrF3k1WM8V16c9mB2qNIR",
      "type": "text",
      "x": 8983.289107659497,
      "y": -1257.8604520623007,
      "width": 404,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "cxme0hd5thgUHabAFJV-o"
      ],
      "strokeSharpness": "sharp",
      "seed": 872023482,
      "version": 122,
      "versionNonce": 1042133414,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1652863383378,
      "link": null,
      "locked": false,
      "text": "下面是 Stream::Packet 的 recv 代码：",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "下面是 Stream::Packet 的 recv 代码："
    },
    {
      "id": "d8uWctMrZFznyWh6VmCf5",
      "type": "text",
      "x": 8993.358913094331,
      "y": -602.5314329528908,
      "width": 911,
      "height": 593,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "cxme0hd5thgUHabAFJV-o"
      ],
      "strokeSharpness": "sharp",
      "seed": 455278694,
      "version": 429,
      "versionNonce": 17572794,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1652863383378,
      "link": null,
      "locked": false,
      "text": "pub fn try_recv(&self) -> Result<T, Failure<T>> {\n        match self.queue.pop() {\n            // 有数据就返回\n            Some(data) => unsafe {\n                ...\n                *self.queue.consumer_addition().steals.get() += 1;\n                match data {\n                    Data(t) => Ok(t),\n                    GoUp(up) => Err(Upgraded(up)),\n                }\n            },\n            None => {\n                match self.queue.producer_addition().cnt.load(Ordering::SeqCst) {\n                    n if n != DISCONNECTED => Err(Empty),\n                    // 在 pop 为 None 和 检查 cnt 是否为 DISCONNECTED 的短暂窗口期\n                    // channel 里可能会有新的数据进入，在这之后 sender 可能 close 了\n                    _ => match self.queue.pop() {\n                        Some(Data(t)) => Ok(t),\n                        Some(GoUp(up)) => Err(Upgraded(up)),\n                        None => Err(Disconnected),\n                    },\n                }\n            }\n        }\n    }",
      "fontSize": 19.209685602436437,
      "fontFamily": 3,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 589,
      "containerId": null,
      "originalText": "pub fn try_recv(&self) -> Result<T, Failure<T>> {\n        match self.queue.pop() {\n            // 有数据就返回\n            Some(data) => unsafe {\n                ...\n                *self.queue.consumer_addition().steals.get() += 1;\n                match data {\n                    Data(t) => Ok(t),\n                    GoUp(up) => Err(Upgraded(up)),\n                }\n            },\n            None => {\n                match self.queue.producer_addition().cnt.load(Ordering::SeqCst) {\n                    n if n != DISCONNECTED => Err(Empty),\n                    // 在 pop 为 None 和 检查 cnt 是否为 DISCONNECTED 的短暂窗口期\n                    // channel 里可能会有新的数据进入，在这之后 sender 可能 close 了\n                    _ => match self.queue.pop() {\n                        Some(Data(t)) => Ok(t),\n                        Some(GoUp(up)) => Err(Upgraded(up)),\n                        None => Err(Disconnected),\n                    },\n                }\n            }\n        }\n    }"
    },
    {
      "id": "z1a_F5OIOq_220uQ-XWVj",
      "type": "arrow",
      "x": 9775.172933163212,
      "y": -1115.7205120815352,
      "width": 461.30393570275737,
      "height": 4.798652012113962,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "cxme0hd5thgUHabAFJV-o"
      ],
      "strokeSharpness": "round",
      "seed": 361443642,
      "version": 105,
      "versionNonce": 298214,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1652863383378,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          461.30393570275737,
          -4.798652012113962
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": null,
      "endBinding": null,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "id": "mwfiuma8tQES40R6Xqio6",
      "type": "arrow",
      "x": 9643.53821857626,
      "y": -1076.7090626321324,
      "width": 714.4902066219765,
      "height": 319.5478840548801,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "cxme0hd5thgUHabAFJV-o"
      ],
      "strokeSharpness": "round",
      "seed": 759199098,
      "version": 218,
      "versionNonce": 1510186106,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1652863383378,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          714.4902066219765,
          319.5478840548801
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": null,
      "endBinding": {
        "elementId": "4Qrf5m1JISl2s9qmaaaJc",
        "focus": -0.6744299310151528,
        "gap": 11.633421505924389
      },
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "id": "HCiZCboI_AqLp2bUUNETI",
      "type": "text",
      "x": 8989.701498046743,
      "y": -651.5803300508733,
      "width": 288,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [
        "cxme0hd5thgUHabAFJV-o"
      ],
      "strokeSharpness": "sharp",
      "seed": 39877754,
      "version": 82,
      "versionNonce": 1861091366,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1652863383378,
      "link": null,
      "locked": false,
      "text": "下面是 try_recv() 的代码",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "下面是 try_recv() 的代码"
    },
    {
      "id": "Wl6bXZN_9Lwc99Yq2m_KP",
      "type": "arrow",
      "x": 9594.361560171074,
      "y": -1887.9340194631488,
      "width": 2.2222900390625,
      "height": 597.777811686198,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "round",
      "seed": 1075818790,
      "version": 52,
      "versionNonce": 85325562,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1652863393448,
      "link": null,
      "locked": false,
      "points": [
        [
          0,
          0
        ],
        [
          -2.2222900390625,
          597.777811686198
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": null,
      "endBinding": null,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "id": "gsJenK4B0mG-W7HsvBT7_",
      "type": "text",
      "x": 9632.694791779144,
      "y": -1654.9340194631488,
      "width": 257,
      "height": 30,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#22ffff",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 2024050086,
      "version": 38,
      "versionNonce": 186980538,
      "isDeleted": false,
      "boundElements": null,
      "updated": 1652863443274,
      "link": null,
      "locked": false,
      "text": "recv() 2: 正常接收数据",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 24,
      "containerId": null,
      "originalText": "recv() 2: 正常接收数据"
    }
  ],
  "appState": {
    "gridSize": null,
    "viewBackgroundColor": "#ffffff"
  },
  "files": {}
}