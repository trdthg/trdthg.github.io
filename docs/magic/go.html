<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>go - Trdthg&#x27;s Self</title>
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="../../favicon.svg">
                        <link rel="shortcut icon" href="../../favicon.png">
                <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
                <link rel="stylesheet" href="../../css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="../../fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><li class="part-title">trans</li><li class="chapter-item expanded "><a href="../../trans/2022-04-20-è¯‘-ä½¿ç”¨-Tokio-å¤„ç†-CPU-å¯†é›†å‹ä»»åŠ¡.html"><strong aria-hidden="true">1.</strong> 2022-04-20-è¯‘-ä½¿ç”¨-Tokio-å¤„ç†-CPU-å¯†é›†å‹ä»»åŠ¡</a></li><li class="chapter-item expanded "><a href="../../trans/2023-01-03-è¯‘-Rustå†’é™©:-æ»¥ç”¨-Serde.html"><strong aria-hidden="true">2.</strong> 2023-01-03-è¯‘-Rustå†’é™©:-æ»¥ç”¨-Serde</a></li><li class="chapter-item expanded "><a href="../../trans/2023-01-01-è¯‘-æ‹“å±•-Rust-ä¸­çš„-Map.html"><strong aria-hidden="true">3.</strong> 2023-01-01-è¯‘-æ‹“å±•-Rust-ä¸­çš„-Map</a></li><li class="chapter-item expanded "><a href="../../trans/2022-04-01-è¯‘-search_engine.html"><strong aria-hidden="true">4.</strong> 2022-04-01-è¯‘-search_engine</a></li><li class="chapter-item expanded "><a href="../../trans/2022-05-04-è¯‘-å¯è§†åŒ–-Rust-å„æ•°æ®ç±»å‹çš„å†…å­˜å¸ƒå±€.html"><strong aria-hidden="true">5.</strong> 2022-05-04-è¯‘-å¯è§†åŒ–-Rust-å„æ•°æ®ç±»å‹çš„å†…å­˜å¸ƒå±€</a></li><li class="chapter-item expanded "><a href="../../trans/2022-04-13-è¯‘-tail_latency.html"><strong aria-hidden="true">6.</strong> 2022-04-13-è¯‘-tail_latency</a></li><li class="chapter-item expanded "><a href="../../trans/2022-04-30-è¯‘-ä»€ä¹ˆæ—¶å€™ä¸åº”è¯¥ä½¿ç”¨-Rust-ï¼Ÿ.html"><strong aria-hidden="true">7.</strong> 2022-04-30-è¯‘-ä»€ä¹ˆæ—¶å€™ä¸åº”è¯¥ä½¿ç”¨-Rust-ï¼Ÿ</a></li><li class="chapter-item expanded "><a href="../../trans/2022-04-11-è¯‘-å¼‚æ­¥-Rustï¼šåä½œä¸æŠ¢å å¼è°ƒåº¦.html"><strong aria-hidden="true">8.</strong> 2022-04-11-è¯‘-å¼‚æ­¥-Rustï¼šåä½œä¸æŠ¢å å¼è°ƒåº¦</a></li><li class="chapter-item expanded "><a href="../../trans/2023-01-02-è¯‘-æœªåˆå§‹åŒ–å†…å­˜:-unsafe-Rustå¤ªéš¾äº†.html"><strong aria-hidden="true">9.</strong> 2023-01-02-è¯‘-æœªåˆå§‹åŒ–å†…å­˜:-unsafe-Rustå¤ªéš¾äº†</a></li><li class="chapter-item expanded "><a href="../../trans/2022-04-03-è¯‘-Rust-å…­è¾¹å½¢æ¶æ„/index.html"><strong aria-hidden="true">10.</strong> 2022-04-03-è¯‘-Rust-å…­è¾¹å½¢æ¶æ„</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../trans/2022-04-03-è¯‘-Rust-å…­è¾¹å½¢æ¶æ„/Rust-å…­è¾¹å½¢æ¶æ„-4-é‡æ„.html"><strong aria-hidden="true">10.1.</strong> Rust-å…­è¾¹å½¢æ¶æ„-4-é‡æ„</a></li><li class="chapter-item expanded "><a href="../../trans/2022-04-03-è¯‘-Rust-å…­è¾¹å½¢æ¶æ„/Rust-å…­è¾¹å½¢æ¶æ„-2-å†…å­˜å­˜å‚¨åº“.html"><strong aria-hidden="true">10.2.</strong> Rust-å…­è¾¹å½¢æ¶æ„-2-å†…å­˜å­˜å‚¨åº“</a></li><li class="chapter-item expanded "><a href="../../trans/2022-04-03-è¯‘-Rust-å…­è¾¹å½¢æ¶æ„/Rust-å…­è¾¹å½¢æ¶æ„-7-é•¿æœŸå­˜å‚¨åº“.html"><strong aria-hidden="true">10.3.</strong> Rust-å…­è¾¹å½¢æ¶æ„-7-é•¿æœŸå­˜å‚¨åº“</a></li><li class="chapter-item expanded "><a href="../../trans/2022-04-03-è¯‘-Rust-å…­è¾¹å½¢æ¶æ„/Rust-å…­è¾¹å½¢æ¶æ„-1-åŸŸ.html"><strong aria-hidden="true">10.4.</strong> Rust-å…­è¾¹å½¢æ¶æ„-1-åŸŸ</a></li><li class="chapter-item expanded "><a href="../../trans/2022-04-03-è¯‘-Rust-å…­è¾¹å½¢æ¶æ„/Rust-å…­è¾¹å½¢æ¶æ„-5-å…¶ä»–ç”¨ä¾‹.html"><strong aria-hidden="true">10.5.</strong> Rust-å…­è¾¹å½¢æ¶æ„-5-å…¶ä»–ç”¨ä¾‹</a></li><li class="chapter-item expanded "><a href="../../trans/2022-04-03-è¯‘-Rust-å…­è¾¹å½¢æ¶æ„/Rust-å…­è¾¹å½¢æ¶æ„-6-CLI.html"><strong aria-hidden="true">10.6.</strong> Rust-å…­è¾¹å½¢æ¶æ„-6-CLI</a></li><li class="chapter-item expanded "><a href="../../trans/2022-04-03-è¯‘-Rust-å…­è¾¹å½¢æ¶æ„/Rust-å…­è¾¹å½¢æ¶æ„-3-HTTP-API.html"><strong aria-hidden="true">10.7.</strong> Rust-å…­è¾¹å½¢æ¶æ„-3-HTTP-API</a></li><li class="chapter-item expanded "><a href="../../trans/2022-04-03-è¯‘-Rust-å…­è¾¹å½¢æ¶æ„/index.html"><strong aria-hidden="true">10.8.</strong> README</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">note</li><li class="chapter-item expanded "><a href="../../note/java/index.html"><strong aria-hidden="true">11.</strong> java</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../note/java/java.html"><strong aria-hidden="true">11.1.</strong> java</a></li><li class="chapter-item expanded "><a href="../../note/java/springboot.html"><strong aria-hidden="true">11.2.</strong> springboot</a></li><li class="chapter-item expanded "><a href="../../note/java/spring.html"><strong aria-hidden="true">11.3.</strong> spring</a></li><li class="chapter-item expanded "><a href="../../note/java/sourceread.html"><strong aria-hidden="true">11.4.</strong> sourceread</a></li><li class="chapter-item expanded "><a href="../../note/java/index.html"><strong aria-hidden="true">11.5.</strong> README</a></li></ol></li><li class="chapter-item expanded "><a href="../../note/frontend/index.html"><strong aria-hidden="true">12.</strong> frontend</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../note/frontend/mini_bundle.html"><strong aria-hidden="true">12.1.</strong> mini_bundle</a></li><li class="chapter-item expanded "><a href="../../note/frontend/js_advanced.html"><strong aria-hidden="true">12.2.</strong> js_advanced</a></li><li class="chapter-item expanded "><a href="../../note/frontend/mini_vue.html"><strong aria-hidden="true">12.3.</strong> mini_vue</a></li><li class="chapter-item expanded "><a href="../../note/frontend/vue.html"><strong aria-hidden="true">12.4.</strong> vue</a></li><li class="chapter-item expanded "><a href="../../note/frontend/list.html"><strong aria-hidden="true">12.5.</strong> list</a></li><li class="chapter-item expanded "><a href="../../note/frontend/http.html"><strong aria-hidden="true">12.6.</strong> http</a></li><li class="chapter-item expanded "><a href="../../note/frontend/flutter.html"><strong aria-hidden="true">12.7.</strong> flutter</a></li><li class="chapter-item expanded "><a href="../../note/frontend/css.html"><strong aria-hidden="true">12.8.</strong> css</a></li><li class="chapter-item expanded "><a href="../../note/frontend/vdom.html"><strong aria-hidden="true">12.9.</strong> vdom</a></li><li class="chapter-item expanded "><a href="../../note/frontend/index.html"><strong aria-hidden="true">12.10.</strong> README</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">blog</li><li class="chapter-item expanded "><a href="../../blog/index.html"><strong aria-hidden="true">13.</strong> README</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">docs</li><li class="chapter-item expanded "><a href="../../docs/log.html"><strong aria-hidden="true">14.</strong> log</a></li><li class="chapter-item expanded "><a href="../../docs/intro.html"><strong aria-hidden="true">15.</strong> intro</a></li><li class="chapter-item expanded "><a href="../../docs/magic/index.html"><strong aria-hidden="true">16.</strong> magic</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../docs/magic/riscv.html"><strong aria-hidden="true">16.1.</strong> riscv</a></li><li class="chapter-item expanded "><a href="../../docs/magic/haskell.html"><strong aria-hidden="true">16.2.</strong> haskell</a></li><li class="chapter-item expanded "><a href="../../docs/magic/bash.html"><strong aria-hidden="true">16.3.</strong> bash</a></li><li class="chapter-item expanded "><a href="../../docs/magic/memory_ordering.html"><strong aria-hidden="true">16.4.</strong> memory_ordering</a></li><li class="chapter-item expanded "><a href="../../docs/magic/linuxIO.html"><strong aria-hidden="true">16.5.</strong> linuxIO</a></li><li class="chapter-item expanded "><a href="../../docs/magic/cicd.html"><strong aria-hidden="true">16.6.</strong> cicd</a></li><li class="chapter-item expanded "><a href="../../docs/magic/fd.html"><strong aria-hidden="true">16.7.</strong> fd</a></li><li class="chapter-item expanded "><a href="../../docs/magic/hadoop.html"><strong aria-hidden="true">16.8.</strong> hadoop</a></li><li class="chapter-item expanded "><a href="../../docs/magic/go.html" class="active"><strong aria-hidden="true">16.9.</strong> go</a></li><li class="chapter-item expanded "><a href="../../docs/magic/async.html"><strong aria-hidden="true">16.10.</strong> async</a></li><li class="chapter-item expanded "><a href="../../docs/magic/index.html"><strong aria-hidden="true">16.11.</strong> README</a></li><li class="chapter-item expanded "><a href="../../docs/magic/software_arch.html"><strong aria-hidden="true">16.12.</strong> software_arch</a></li></ol></li><li class="chapter-item expanded "><a href="../../docs/riscv/index.html"><strong aria-hidden="true">17.</strong> riscv</a></li><li class="chapter-item expanded "><a href="../../docs/common/index.html"><strong aria-hidden="true">18.</strong> common</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../docs/common/pgsql.html"><strong aria-hidden="true">18.1.</strong> pgsql</a></li><li class="chapter-item expanded "><a href="../../docs/common/git.html"><strong aria-hidden="true">18.2.</strong> git</a></li><li class="chapter-item expanded "><a href="../../docs/common/linux.html"><strong aria-hidden="true">18.3.</strong> linux</a></li><li class="chapter-item expanded "><a href="../../docs/common/datastructure.html"><strong aria-hidden="true">18.4.</strong> datastructure</a></li><li class="chapter-item expanded "><a href="../../docs/common/docker.html"><strong aria-hidden="true">18.5.</strong> docker</a></li><li class="chapter-item expanded "><a href="../../docs/common/analyze.html"><strong aria-hidden="true">18.6.</strong> analyze</a></li><li class="chapter-item expanded "><a href="../../docs/common/oci.html"><strong aria-hidden="true">18.7.</strong> oci</a></li><li class="chapter-item expanded "><a href="../../docs/common/unsorted.html"><strong aria-hidden="true">18.8.</strong> unsorted</a></li><li class="chapter-item expanded "><a href="../../docs/common/oauth2.html"><strong aria-hidden="true">18.9.</strong> oauth2</a></li><li class="chapter-item expanded "><a href="../../docs/common/vim.html"><strong aria-hidden="true">18.10.</strong> vim</a></li><li class="chapter-item expanded "><a href="../../docs/common/python.html"><strong aria-hidden="true">18.11.</strong> python</a></li><li class="chapter-item expanded "><a href="../../docs/common/index.html"><strong aria-hidden="true">18.12.</strong> README</a></li></ol></li><li class="chapter-item expanded "><a href="../../docs/rust/index.html"><strong aria-hidden="true">19.</strong> rust</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../docs/rust/mini_tokio.html"><strong aria-hidden="true">19.1.</strong> mini_tokio</a></li><li class="chapter-item expanded "><a href="../../docs/rust/wasm.html"><strong aria-hidden="true">19.2.</strong> wasm</a></li><li class="chapter-item expanded "><a href="../../docs/rust/rust_quiz.html"><strong aria-hidden="true">19.3.</strong> rust_quiz</a></li><li class="chapter-item expanded "><a href="../../docs/rust/rust.html"><strong aria-hidden="true">19.4.</strong> rust</a></li><li class="chapter-item expanded "><a href="../../docs/rust/print_into_detail.html"><strong aria-hidden="true">19.5.</strong> print_into_detail</a></li><li class="chapter-item expanded "><a href="../../docs/rust/net-piercer.html"><strong aria-hidden="true">19.6.</strong> net-piercer</a></li><li class="chapter-item expanded "><a href="../../docs/rust/rs_channel.html"><strong aria-hidden="true">19.7.</strong> rs_channel</a></li><li class="chapter-item expanded "><a href="../../docs/rust/lists.html"><strong aria-hidden="true">19.8.</strong> lists</a></li><li class="chapter-item expanded "><a href="../../docs/rust/index.html"><strong aria-hidden="true">19.9.</strong> README</a></li></ol></li><li class="chapter-item expanded "><a href="../../docs/riscv/index.html"><strong aria-hidden="true">20.</strong> riscv</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../docs/riscv/index.html"><strong aria-hidden="true">20.1.</strong> README</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">other</li><li class="chapter-item expanded "><a href="../../other/2023-04-12-remote-usb.html"><strong aria-hidden="true">21.</strong> 2023-04-12-remote-usb</a></li><li class="chapter-item expanded "><a href="../../other/resources.html"><strong aria-hidden="true">22.</strong> resources</a></li><li class="chapter-item expanded "><a href="../../other/i3wm.html"><strong aria-hidden="true">23.</strong> i3wm</a></li><li class="chapter-item expanded "><a href="../../other/lsm.html"><strong aria-hidden="true">24.</strong> lsm</a></li><li class="chapter-item expanded "><a href="../../other/site_update_log.html"><strong aria-hidden="true">25.</strong> site_update_log</a></li><li class="chapter-item expanded "><a href="../../other/ioclub/index.html"><strong aria-hidden="true">26.</strong> ioclub</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../other/ioclub/share_1.html"><strong aria-hidden="true">26.1.</strong> share_1</a></li><li class="chapter-item expanded "><a href="../../other/ioclub/index.html"><strong aria-hidden="true">26.2.</strong> README</a></li></ol></li><li class="chapter-item expanded "><a href="../../other/2021-åç«¯/index.html"><strong aria-hidden="true">27.</strong> 2021-åç«¯</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../other/2021-åç«¯/backend_1.html"><strong aria-hidden="true">27.1.</strong> backend_1</a></li><li class="chapter-item expanded "><a href="../../other/2021-åç«¯/backend_2.html"><strong aria-hidden="true">27.2.</strong> backend_2</a></li><li class="chapter-item expanded "><a href="../../other/2021-åç«¯/backend_3.html"><strong aria-hidden="true">27.3.</strong> backend_3</a></li><li class="chapter-item expanded "><a href="../../other/2021-åç«¯/backend_4.html"><strong aria-hidden="true">27.4.</strong> backend_4</a></li></ol></li><li class="chapter-item expanded "><a href="../../other/2021-åç«¯/index.html"><strong aria-hidden="true">28.</strong> 2021-åç«¯</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../other/2021-åç«¯/backend_1.html"><strong aria-hidden="true">28.1.</strong> backend_1</a></li><li class="chapter-item expanded "><a href="../../other/2021-åç«¯/backend_2.html"><strong aria-hidden="true">28.2.</strong> backend_2</a></li><li class="chapter-item expanded "><a href="../../other/2021-åç«¯/backend_3.html"><strong aria-hidden="true">28.3.</strong> backend_3</a></li><li class="chapter-item expanded "><a href="../../other/2021-åç«¯/backend_4.html"><strong aria-hidden="true">28.4.</strong> backend_4</a></li><li class="chapter-item expanded "><a href="../../other/2021-åç«¯/index.html"><strong aria-hidden="true">28.5.</strong> README</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">draft</li><li class="chapter-item expanded "><a href="../../draft/ç»„æˆåŸç†.html"><strong aria-hidden="true">29.</strong> ç»„æˆåŸç†</a></li><li class="chapter-item expanded "><a href="../../draft/è®¡ç®—æœºç½‘ç»œ.html"><strong aria-hidden="true">30.</strong> è®¡ç®—æœºç½‘ç»œ</a></li><li class="chapter-item expanded "><a href="../../draft/è¯‘-pkg_mng.html"><strong aria-hidden="true">31.</strong> è¯‘-pkg_mng</a></li><li class="chapter-item expanded "><a href="../../draft/DistributedSystem.html"><strong aria-hidden="true">32.</strong> DistributedSystem</a></li><li class="chapter-item expanded "><a href="../../draft/oscamp2022.html"><strong aria-hidden="true">33.</strong> oscamp2022</a></li><li class="chapter-item expanded "><a href="../../draft/compile.html"><strong aria-hidden="true">34.</strong> compile</a></li><li class="chapter-item expanded "><a href="../../draft/test.html"><strong aria-hidden="true">35.</strong> test</a></li><li class="chapter-item expanded "><a href="../../draft/ld.html"><strong aria-hidden="true">36.</strong> ld</a></li><li class="chapter-item expanded "><a href="../../draft/æ•°æ®åº“è®¾è®¡.html"><strong aria-hidden="true">37.</strong> æ•°æ®åº“è®¾è®¡</a></li><li class="chapter-item expanded "><a href="../../draft/index.html"><strong aria-hidden="true">38.</strong> README</a></li><li class="chapter-item expanded "><a href="../../draft/computer_network/index.html"><strong aria-hidden="true">39.</strong> computer_network</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../draft/computer_network/index.html"><strong aria-hidden="true">39.1.</strong> README</a></li></ol></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">Trdthg&#x27;s Self</h1>

                    <div class="right-buttons">
                                                <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="go-è¯­è¨€"><a class="header" href="#go-è¯­è¨€">Go è¯­è¨€</a></h1>
<p>###./ åŸºç¡€</p>
<h4 id="æ ¼å¼åŒ–"><a class="header" href="#æ ¼å¼åŒ–">æ ¼å¼åŒ–</a></h4>
<pre><code class="language-go">fmt.Printf(&quot;type %T value %v \n&quot;, a, a)
</code></pre>
<h4 id="å¾ªç¯"><a class="header" href="#å¾ªç¯">å¾ªç¯</a></h4>
<pre><code class="language-go">if num := 10; num &gt; 0 {
    fmt.Println(num)
}

for i := 1; i &lt; 10; i++ {
    fmt.Println(i)
    if i == 3 {
        break
    }
}

finger := 2
switch finger {
case 1:
    fmt.Println(1)
case 2:
    fmt.Println(2)
    fallthrough
default:
    println(&quot;sss&quot;)
}

dd := 1
switch {
case dd &gt; 0:
    println(0)
case dd &gt; -1:
    println(-1)
}
</code></pre>
<h4 id="æ•°ç»„"><a class="header" href="#æ•°ç»„">æ•°ç»„</a></h4>
<p>æ•°ç»„æœ‰å›ºå®šå¤§å°ï¼Œæ•°ç»„çš„å¤§å°æ˜¯ç±»å‹çš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤ [5]int å’Œ [25]int æ˜¯ä¸åŒç±»å‹</p>
<pre><code class="language-go">a := []int{2}
a[0] = 1
fmt.Println(a)

var b [3][2]int
b = [3][2]int{
    {1, 2},
    {1, 2},
    {1, 2},
}
fmt.Println(b)

veggies := []string{&quot;potatoes&quot;, &quot;tomatoes&quot;, &quot;brinjal&quot;}
fruits := []string{&quot;oranges&quot;, &quot;apples&quot;}
food := append(veggies, fruits...)
fmt.Println(&quot;food:&quot;, veggies, fruits, food)
fmt.Println(&quot;food:&quot;, cap(veggies), cap(fruits), cap(food))
fmt.Println(&quot;food:&quot;, len(veggies), len(fruits), len(food))
nums := []int{1, 2}
change(nums...)
pln(nums...)
</code></pre>
<h4 id="map"><a class="header" href="#map">map</a></h4>
<pre><code class="language-go">// map çš„é›¶å€¼ä¸º nilï¼Œå¿…é¡»ä½¿ç”¨ make åˆå§‹åŒ–
// map æ˜¯ å¼•ç”¨ç±»å‹ï¼Œå½“ map è¢«èµ‹å€¼ç»™å¦ä¸€ä¸ªå˜é‡æ˜¯åï¼Œä»–ä»¬å…±äº«ä¸€ä¸ª
// map ä¸èƒ½ä½¿ç”¨==åˆ¤æ–­ï¼Œ==åªèƒ½ç”¨æ¥åˆ¤æ–­ map æ˜¯å¦ä¸º nilï¼Œåº”è¯¥éå†å­—å…¸å…ƒç´ å»æ¯”è¾ƒä¸¤ä¸ªå­—å…¸
var mm map[string]int
// mm[&quot;s&quot;] = 1                    // å›æŠ¥é”™ï¼Œmap is nil
// fmt.Printf(&quot;%T %v \n&quot;, mm, mm) // è¿™é‡Œè™½ç„¶èƒ½æ‰“å°å‡º map[]ï¼Œä½†æ˜¯æ— æµäºäº‹
if mm == nil {
    mm = make(map[string]int)
    mm[&quot;s&quot;] = 1
    fmt.Printf(&quot;%T %v \n&quot;, mm, mm)
}
mmm := map[string]int{
    &quot;aaa&quot;: 1,
}
if v, ok := mmm[&quot;aa&quot;]; ok == true {
    fmt.Println(v)
    delete(mmm, &quot;aa&quot;)
} else {
    fmt.Println(&quot;no such key&quot;)
    fmt.Println(len(mmm))
    for k, v := range mmm {
        fmt.Println(k, v)
    }
}
</code></pre>
<h4 id="å­—ç¬¦ä¸²-ä¸-åˆ‡ç‰‡"><a class="header" href="#å­—ç¬¦ä¸²-ä¸-åˆ‡ç‰‡">å­—ç¬¦ä¸² ä¸ åˆ‡ç‰‡</a></h4>
<pre><code class="language-go">// å­—ç¬¦ä¸²
name := &quot;SeÃ±or&quot;
for i := 0; i &lt; len(name); i++ {
    fmt.Printf(&quot;%c&quot;, name[i])
}
fmt.Printf(&quot;\n&quot;)
for _, v := range name {
    fmt.Printf(&quot;%c&quot;, v)
}
fmt.Printf(&quot;\n&quot;)
name_ := []rune(name)
for i := 0; i &lt; len(name_); i++ {
    fmt.Printf(&quot;%c&quot;, name_[i])
}
</code></pre>
<p>å½“å¯¹åˆ‡ç‰‡è°ƒç”¨<code>append(slice, ...elems)</code>æ˜¯ï¼Œå¦‚æœè¶…å‡ºåˆ‡ç‰‡çš„ capï¼Œå°±ä¼šé‡æ–°åˆ†é…å†…å­˜ç©ºé—´ï¼Œå› æ­¤å¿…é¡»éœ€è¦ç”¨å˜é‡æ¥å—è¿”å›å€¼</p>
<pre><code class="language-go">//å…³äºåˆ‡ç‰‡
// a[x] æ˜¯ (*a)[x] çš„ç®€å†™å½¢å¼
// arr := [3]int{1, 2, 3}
// modify(&amp;arr)
// modify(arr[:]) è¿™ç§æ›´å¸¸ç”¨
// arr++ è¿™ç§ç›´æ¥è¿›è¡ŒæŒ‡é’ˆæ“ä½œä¸è¢«å…è®¸
func modify1(arr *[3]int) {
	(*arr)[0] = 90
}
func modify2(arr *[3]int) {
	arr[0] = 90
}

func change(elems ...int) {
	for i, v := range elems {
		v += 1        // æ— æ•ˆ
		elems[i] += 1 // æœ‰æ•ˆ
	}
}

func pln(elems ...int) {
	for i, v := range elems {
		fmt.Printf(&quot;index: %v value %v\n&quot;, i, v)
	}
}
</code></pre>
<h3 id="ç»“æ„ä½“"><a class="header" href="#ç»“æ„ä½“">ç»“æ„ä½“</a></h3>
<ul>
<li>ç»“æ„ä½“æ˜¯å€¼ç±»å‹ã€‚å¦‚æœå®ƒçš„æ¯ä¸€ä¸ªå­—æ®µéƒ½æ˜¯å¯æ¯”è¾ƒçš„ï¼Œåˆ™è¯¥ç»“æ„ä½“ä¹Ÿæ˜¯å¯æ¯”è¾ƒçš„ã€‚å¦‚æœä¸¤ä¸ªç»“æ„ä½“å˜é‡çš„å¯¹åº”å­—æ®µç›¸ç­‰ï¼Œåˆ™è¿™ä¸¤ä¸ªå˜é‡ä¹Ÿæ˜¯ç›¸ç­‰çš„ã€‚</li>
<li>å¦‚æœç»“æ„ä½“åŒ…å«ä¸å¯æ¯”è¾ƒçš„å­—æ®µï¼Œåˆ™ç»“æ„ä½“å˜é‡ä¹Ÿä¸å¯æ¯”è¾ƒã€‚</li>
</ul>
<h4 id="ä¹¦å†™"><a class="header" href="#ä¹¦å†™">ä¹¦å†™</a></h4>
<ul>
<li>
<p>åŒ¿åç»“æ„ä½“ï¼šstring,int å°±æ˜¯å­—æ®µåï¼Œå­—æ®µä¸èƒ½é‡å¤</p>
<pre><code class="language-go">type Person struct {
    string
    int
}
person := Person{&quot;aa&quot;, 1}
fmt.Println(person.int, person.string)
</code></pre>
</li>
<li>
<p>æå‡å­—æ®µï¼šåµŒå…¥çš„ç»“æ„ä½“ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨é‡Œé¢çš„å­—æ®µ</p>
<pre><code class="language-go">type Group struct {
    string
    int
    Person
}
</code></pre>
</li>
<li>
<p>åŒ¿å + æå‡ï¼Œå‘ä¸Šé¢çš„æƒ…å†µ</p>
<p>åŒ¿åçš„ç±»å‹å¯ä»¥é‡å¤ï¼Œä½†æ˜¯ä¼šä»¥è‡ªèº«çš„ä¸ºå‡†</p>
<pre><code class="language-go">group := Group{&quot;bb&quot;, 1, person}
fmt.Print(group.string, group.string)
</code></pre>
</li>
</ul>
<h4 id="ç»“æ„ä½“-tag"><a class="header" href="#ç»“æ„ä½“-tag">ç»“æ„ä½“ Tag</a></h4>
<p><strong>æ ¼å¼</strong> ç©ºæ ¼åˆ†å‰²çš„é”®å€¼å¯¹</p>
<p><strong>ä½¿ç”¨</strong> ç¤ºä¾‹ï¼šjson åº“èƒ½å¤Ÿååºåˆ—åŒ–ç»“æ„ä½“</p>
<ul>
<li>å¦‚æœåŠ ä¸Š omiteptyï¼Œå½“ç»“æ„ä½“ä¸ºç©ºæ˜¯å°±ä¼šè¢«å¿½ç•¥</li>
<li>å¦‚æœä¸åŠ ï¼Œä¸ºç©ºçš„å­—æ®µä¼šè¢«è§£æä¸ºç©ºå­—ç¬¦ä¸²&quot;&quot;</li>
</ul>
<pre><code class="language-go">type Person struct {
    Name string `json:&quot;name&quot;`
	Age  int    `json:&quot;age&quot;`
	Addr string `json:&quot;addr&quot;` // ,omitempty
}

func main() {
    p1 := Person{
		Name: &quot;Jack&quot;,
		Age:  22,
	}
	data1, _ := json.Marshal(p1)
	fmt.Printf(&quot;%s\n&quot;, data1)
}
</code></pre>
<p><strong>å¯ä»¥é€šè¿‡åå°„è¯»å– tag</strong></p>
<pre><code class="language-go">// ä¸‰ç§è·å– field
field := reflect.TypeOf(obj).FieldByName(&quot;Name&quot;)
field := reflect.ValueOf(obj).Type().Field(i)  // i è¡¨ç¤ºç¬¬å‡ ä¸ªå­—æ®µ
field := reflect.ValueOf(&amp;obj).Elem().Type().Field(i)  // i è¡¨ç¤ºç¬¬å‡ ä¸ªå­—æ®µ

// è·å– Tag
tag := field.Tag

// è·å–é”®å€¼å¯¹
labelValue := tag.Get(&quot;label&quot;)  // è·å–ä¸åˆ°å°±ä¼šè¿”å› &quot;&quot;
labelValue,ok := tag.Lookup(&quot;label&quot;)
</code></pre>
<ul>
<li>è·å–é”®å€¼å¯¹ï¼Œæœ‰ Get å’Œ Lookup ä¸¤ç§æ–¹æ³•ï¼Œä½†å…¶å® Get åªæ˜¯å¯¹ Lookup å‡½æ•°çš„ç®€å•å°è£…è€Œå·²ï¼Œå½“æ²¡æœ‰è·å–åˆ°å¯¹åº” tag
çš„å†…å®¹ï¼Œä¼šè¿”å›ç©ºå­—ç¬¦ä¸²ã€‚
<pre><code class="language-go">func (tag StructTag) Get(key string) string {
    v, _ := tag.Lookup(key)
    return v
}
</code></pre>
</li>
<li>ç©º Tag å’Œä¸è®¾ç½® Tag æ•ˆæœæ˜¯ä¸€æ ·çš„</li>
</ul>
<h3 id="æ–¹æ³•--å‡½æ•°"><a class="header" href="#æ–¹æ³•--å‡½æ•°">æ–¹æ³• &amp; å‡½æ•°</a></h3>
<h4 id="ç»“æ„ä½“ä¸Šçš„æ–¹æ³•"><a class="header" href="#ç»“æ„ä½“ä¸Šçš„æ–¹æ³•">ç»“æ„ä½“ä¸Šçš„æ–¹æ³•</a></h4>
<ul>
<li>ç»“æ„ä½“æ–¹æ³•ï¼šä¸ç®¡æ˜¯ä¸€ä¸ªå€¼ï¼Œè¿˜æ˜¯ä¸€ä¸ªå¯ä»¥è§£å¼•ç”¨çš„æŒ‡é’ˆï¼Œè°ƒç”¨è¿™æ ·çš„æ–¹æ³•éƒ½æ˜¯åˆæ³•çš„ã€‚æˆ–è€…è¯´ï¼šç”¨<strong>ä¸€ä¸ªæŒ‡é’ˆ</strong>æˆ–è€…<strong>ä¸€ä¸ªå¯å–å¾—åœ°å€çš„å€¼</strong>æ¥è°ƒç”¨éƒ½æ˜¯åˆæ³•çš„</li>
<li>åŒ¿åå­—æ®µçš„æ–¹æ³•ï¼šå±äºç»“æ„ä½“çš„åŒ¿åå­—æ®µçš„æ–¹æ³•å¯ä»¥è¢«ç›´æ¥è°ƒç”¨ï¼Œå°±å¥½åƒè¿™äº›æ–¹æ³•æ˜¯å±äºå®šä¹‰äº†åŒ¿åå­—æ®µçš„ç»“æ„ä½“ä¸€æ ·ã€‚</li>
</ul>
<pre><code class="language-go">type rectangle struct {
	length int
	width  int
}

func (r *rectangle) area() {
	r.length += 1
}

// func (r rectangle) area() {
// 	r.length += 1
// }

r := rectangle{
    length: 10,
    width:  5,
}

r.area()
(&amp;r).area()
// {12, 5}
// å¦‚æœæ”¹ä¸º ä¸å¸¦*çš„æ–¹æ³•ï¼Œ{10, 5}
</code></pre>
<p>é‚£ä¹ˆä»€ä¹ˆæ—¶å€™ä½¿ç”¨æŒ‡é’ˆæ¥æ”¶å™¨ï¼Œä»€ä¹ˆæ—¶å€™ä½¿ç”¨å€¼æ¥æ”¶å™¨ï¼Ÿ</p>
<ul>
<li>ä¸€èˆ¬æ¥è¯´ï¼ŒæŒ‡é’ˆæ¥æ”¶å™¨å¯ä»¥ä½¿ç”¨åœ¨ï¼šå¯¹æ–¹æ³•å†…éƒ¨çš„æ¥æ”¶å™¨æ‰€åšçš„æ”¹å˜åº”è¯¥å¯¹è°ƒç”¨è€…å¯è§æ—¶ã€‚</li>
<li>æŒ‡é’ˆæ¥æ”¶å™¨ä¹Ÿå¯ä»¥è¢«ä½¿ç”¨åœ¨å¦‚ä¸‹åœºæ™¯ï¼šå½“æ‹·è´ä¸€ä¸ªç»“æ„ä½“çš„ä»£ä»·è¿‡äºæ˜‚è´µæ—¶ã€‚è€ƒè™‘ä¸‹ä¸€ä¸ªç»“æ„ä½“æœ‰å¾ˆå¤šçš„å­—æ®µã€‚åœ¨æ–¹æ³•å†…ä½¿ç”¨è¿™ä¸ªç»“æ„ä½“åšä¸ºå€¼æ¥æ”¶å™¨éœ€è¦æ‹·è´æ•´ä¸ªç»“æ„ä½“ï¼Œè¿™æ˜¯å¾ˆæ˜‚è´µçš„ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ä½¿ç”¨æŒ‡é’ˆæ¥æ”¶å™¨ï¼Œç»“æ„ä½“ä¸ä¼šè¢«æ‹·è´ï¼Œåªä¼šä¼ é€’ä¸€ä¸ªæŒ‡é’ˆåˆ°æ–¹æ³•å†…éƒ¨ä½¿ç”¨ã€‚</li>
<li>åœ¨å…¶ä»–çš„æ‰€æœ‰æƒ…å†µï¼Œå€¼æ¥æ”¶å™¨éƒ½å¯ä»¥è¢«ä½¿ç”¨ã€‚</li>
</ul>
<h4 id="å­¤å„¿è§„åˆ™"><a class="header" href="#å­¤å„¿è§„åˆ™">å­¤å„¿è§„åˆ™ğŸ¶</a></h4>
<p>ä¸‹é¢çš„ä¸å…è®¸ï¼Œå› ä¸º int ç±»å‹å’Œè¿™ä¸ªæ–¹æ³•ï¼Œä¸å†åŒä¸€ä¸ªåŒ…é‡Œ</p>
<pre><code class="language-go">func (a int) add(b int) {
}
</code></pre>
<p>è§£å†³æ–¹æ³•</p>
<ul>
<li>å®šä¹‰ç±»å‹åˆ«å</li>
</ul>
<pre><code class="language-go">type myInt int

func (a myInt) add(b myInt) myInt {
    return a + b
}
</code></pre>
<ul>
<li>wrapper åŒ…è£…</li>
</ul>
<h4 id="å‡½æ•°"><a class="header" href="#å‡½æ•°">å‡½æ•°</a></h4>
<p><strong>åŒ¿åå‡½æ•°</strong></p>
<pre><code class="language-go">func main() {
    func(n string) {
        fmt.Println(&quot;Welcome&quot;, n)
    }(&quot;Gophers&quot;)
}
</code></pre>
<p><strong>è‡ªå®šä¹‰å‡½æ•°ç±»å‹</strong></p>
<pre><code class="language-go">type add func(a int, b int) int

func main() {
    var a add = func(a int, b int) int {
        return a + b
    }
    s := a(5, 6)
    fmt.Println(&quot;Sum&quot;, s)
}
</code></pre>
<p><strong>é«˜é˜¶å‡½æ•°</strong></p>
<pre><code class="language-go">// æ¥å—å‡½æ•°
func simple(a func(a, b int) int) {
    fmt.Println(a(60, 7))
}

// è¿”å›å‡½æ•°
func simple() func(a, b int) int {
    f := func(a, b int) int {
        return a + b
    }
    return f
}
</code></pre>
<h3 id="æ¥å£"><a class="header" href="#æ¥å£">æ¥å£</a></h3>
<p>ç±»ä¼¼äº dyn Train</p>
<pre><code class="language-go">type SalaryCalculator interface {
    CalculateSalary() int
}
employees := []SalaryCalculator{pemp1, pemp2, cemp1}
</code></pre>
<h4 id="æ¥å£çš„æ–­è¨€"><a class="header" href="#æ¥å£çš„æ–­è¨€">æ¥å£çš„æ–­è¨€</a></h4>
<ul>
<li>ç±»å‹æ–­è¨€</li>
</ul>
<pre><code class="language-go">func assert(i interface{}) {
    v, ok := i.(int)
    fmt.Println(v, ok)
    // å¦‚æœä¸æ˜¯ int ç±»å‹ï¼Œv å°±ä¼šè¢«èµ‹ä¸º T çš„é›¶å€¼
}
func main() {
    var s interface{} = 56
    assert(s)
    var i interface{} = &quot;Steven Paul&quot;
    assert(i)
}
</code></pre>
<ul>
<li>switch type æ³¨æ„ï¼šæŠŠå˜é‡ä¼ é€’åˆ°å‡½æ•°ä¸­åä¼šè‡ªåŠ¨è½¬æ¢ç±»å‹åˆ° interfaceï¼Œå› æ­¤è°ƒç”¨å‡½æ•°èƒ½è¡Œï¼Œä½†æ˜¯ä¸‹é¢ç›´æ¥ switch å°±ä¸è¡Œ</li>
<li>å›æŠ¥é”™ï¼ša (variable of type int) is not an interface</li>
</ul>
<pre><code class="language-go">func findType(i interface{}) {
    switch i.(type) {
    case string:
        fmt.Printf(&quot;I am a string and my value is %s\n&quot;, i.(string))
    case int:
        fmt.Printf(&quot;I am an int and my value is %d\n&quot;, i.(int))
    default:
        fmt.Printf(&quot;Unknown type\n&quot;)
    }
}

func main() {
	a := 1
	findType(a)

	switch interface{}(a).(type) {
	case string:
		fmt.Printf(&quot;I am a string and my value is %s\n&quot;, interface{}(a).(string))
	case int:
		fmt.Printf(&quot;I am an int and my value is %d\n&quot;, interface{}(a).(int))
	default:
		fmt.Printf(&quot;Unknown type\n&quot;)
	}
}
</code></pre>
<h4 id="æ¥å£ç±»å‹å˜é‡"><a class="header" href="#æ¥å£ç±»å‹å˜é‡">æ¥å£ç±»å‹å˜é‡</a></h4>
<p>å£°æ˜ä¸€ä¸ªå˜é‡æ˜¯æ¥å£ç±»å‹ï¼Œé‚£ä¹ˆè¿™ä¸ªå˜é‡å¯ä»¥è¢«èµ‹å€¼ä¸ºï¼Œä»»ä½•å®ç°äº†æ¥å£çš„ç±»å‹</p>
<pre><code class="language-go">type Describer interface {
    Describe()
}
type Person struct {
    name string
    age  int
}
type Address struct {
    state   string
    country string
}
</code></pre>
<p>ç°åœ¨è¿˜ä¸èƒ½èµ‹å€¼ï¼Œæ¥ä¸‹æ¥ä¸ºä¸¤ä¸ª struct æˆ‘ä»¬å®ç°æ¥å£</p>
<p>ä¸º person å®ç° describeï¼Œä½¿ç”¨<strong>å€¼</strong>æ¥å—è€…ï¼Œä¸‹é¢ä¸¤ç§èµ‹å€¼éƒ½å¯ä»¥ï¼Œä¹Ÿéƒ½èƒ½è°ƒç”¨æ–¹æ³•</p>
<pre><code class="language-go">func (p Person) Describe() { // ä½¿ç”¨å€¼æ¥å—è€…å®ç°
    fmt.Printf(&quot;%s is %d years old\n&quot;, p.name, p.age)
}
var d1 Describer
p1 := Person{&quot;Sam&quot;, 25}
d1 = p1
d1.Describe()
p2 := Person{&quot;James&quot;, 32}
d1 = &amp;p2
d1.Describe()
</code></pre>
<p>ä¸º Address å®ç° describerï¼Œä½¿ç”¨<strong>æŒ‡é’ˆ</strong>æ¥å—è€…ï¼Œä¸‹é¢å°±æ¯”è¾ƒç‰¹æ®Š d =
a ä¸èƒ½ç›´æ¥èµ‹å€¼ï¼Œå¦‚æœæ˜¯åœ¨ç»“æ„ä½“çš„æ–¹æ³•ä¸­ï¼Œä¸‹é¢çš„ä¸¤ç§èµ‹å€¼éƒ½æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯åœ¨æ¥å£ä¸­ä¸è¡Œ</p>
<p>å…¶åŸå› æ˜¯ï¼šå¯¹äºä½¿ç”¨æŒ‡é’ˆæ¥å—è€…çš„æ–¹æ³•ï¼Œç”¨<strong>ä¸€ä¸ªæŒ‡é’ˆ</strong>æˆ–è€…<strong>ä¸€ä¸ªå¯å–å¾—åœ°å€çš„å€¼</strong>æ¥è°ƒç”¨éƒ½æ˜¯åˆæ³•çš„ã€‚ä½†æ¥å£ä¸­å­˜å‚¨çš„å…·ä½“å€¼ï¼ˆConcrete
Valueï¼‰å¹¶ä¸èƒ½å–åˆ°åœ°å€ï¼Œå› æ­¤åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œå¯¹äºç¼–è¯‘å™¨æ— æ³•è‡ªåŠ¨è·å– a çš„åœ°å€ï¼Œäºæ˜¯ç¨‹åºæŠ¥é”™ã€‚</p>
<pre><code class="language-go">func (a *Address) Describe() { // ä½¿ç”¨æŒ‡é’ˆæ¥å—è€…å®ç°
    fmt.Printf(&quot;State %s Country %s&quot;, a.state, a.country)
}
var d Describer
a := Address{&quot;Washington&quot;, &quot;USA&quot;}

//d = a  // è¿™æ˜¯ä¸åˆæ³•çš„ï¼Œä¼šæŠ¥é”™ï¼šAddress does not implement Describer

d = &amp;a // è¿™æ˜¯åˆæ³•çš„ï¼ŒAddress ç±»å‹çš„æŒ‡é’ˆå®ç°äº† Describer æ¥å£
d.Describe()
</code></pre>
<h4 id="æ¥å£å¯ä»¥åµŒå¥—"><a class="header" href="#æ¥å£å¯ä»¥åµŒå¥—">æ¥å£å¯ä»¥åµŒå¥—</a></h4>
<p>ç±»ä¼¼äºåŒ¿åç»“æ„ä½“çš„åµŒå¥— ä¸€ä¸ªç»“æ„ä½“å®ç°äº† Aï¼ŒBï¼Œé‚£å°±è¯´å®ƒä¹Ÿå®ç°äº† C</p>
<pre><code class="language-go">type A interface {
    foo()
}

type B interface {
    bar() int
}

type C interface {
    A
    B
}
</code></pre>
<h4 id="æ¥å£çš„é›¶å€¼"><a class="header" href="#æ¥å£çš„é›¶å€¼">æ¥å£çš„é›¶å€¼</a></h4>
<p>æ¥å£çš„é›¶å€¼æ˜¯ nilï¼ŒåŒæ—¶å…¶åº•å±‚å€¼ï¼ˆUnderlying Valueï¼‰å’Œå…·ä½“ç±»å‹ï¼ˆConcrete Typeï¼‰éƒ½ä¸º nilã€‚è°ƒç”¨æ–¹æ³•ä¼š panic</p>
<h4 id="æ¥å£çš„å‘"><a class="header" href="#æ¥å£çš„å‘">æ¥å£çš„å‘</a></h4>
<ul>
<li>ä¸èƒ½æŠŠ interface èµ‹å€¼ä¸ºåˆ«çš„ç±»å‹
<pre><code class="language-go">func main() {
    // å£°æ˜ a å˜é‡ï¼Œç±»å‹ intï¼Œåˆå§‹å€¼ä¸º 1
    var a int = 1

    // å£°æ˜ i å˜é‡ï¼Œç±»å‹ä¸º interface{}, åˆå§‹å€¼ä¸º aï¼Œæ­¤æ—¶ i çš„å€¼å˜ä¸º 1
    var i interface{} = a

    // å£°æ˜ b å˜é‡ï¼Œå°è¯•èµ‹å€¼ i
    var b int = i
}
</code></pre>
</li>
<li>åˆ‡ç‰‡ä¹Ÿä¸èƒ½å†åˆ†
<pre><code class="language-go">func main() {
    sli := []int{2, 3, 5, 7, 11, 13}

    var i interface{}
    i = sli

    g := i[1:3]
    fmt.Println(g)
}
</code></pre>
</li>
</ul>
<h3 id="channel"><a class="header" href="#channel">channel</a></h3>
<h4 id="ç‰¹æ€§"><a class="header" href="#ç‰¹æ€§">ç‰¹æ€§</a></h4>
<ul>
<li>go çš„ channel é»˜è®¤æ˜¯åŒå‘çš„ï¼Œæ—¢å¯ä»¥ sendï¼Œä¹Ÿå¯ä»¥ recv</li>
<li>channel å¿…é¡»æœ‰å‘é€ç«¯å’Œæ¥æ”¶ç«¯ï¼Œå¦åˆ™å°± panic</li>
<li>make(chan int, n) n è¡¨ç¤ºç¼“å†²åŒºå¤§å°ï¼Œå¯ä»¥çœç•¥ï¼Œé»˜è®¤ä¸º 0
<ul>
<li>è€Œå¯¹äºæ— ç¼“å†² channelï¼Œæ¥å—å’Œå‘é€éƒ½è¦åœ¨ä¸åŒæºç¨‹ä¹‹é—´ï¼Œä¸è®©ä¸¤ä¸ªäººäº’ç›¸é˜»å¡</li>
<li>å¯¹äºæœ‰ç¼“å†²åŒº channelï¼Œåœ¨ç¼“å†²åŒºå¤§å°å†…ï¼Œä¸¤ä¸ªä¸ä¼šäº’ç›¸é˜»å¡ï¼Œå¯ä»¥åœ¨åŒä¸€åç¨‹å†…</li>
<li>å¦‚æœè¶…è¿‡ç¼“å†²åŒºå¤§å°ï¼Œå°±ä¼š panicï¼Œæ‰€ä»¥è¶…è¿‡ç¼“å†²åŒºå¤§å°çš„è¿˜æ˜¯å¿…é¡»åœ¨å…¶ä»–çš„åç¨‹ä¸­å¤„ç†</li>
</ul>
</li>
<li>ç¼“å†²åŒºä¹Ÿæœ‰ len å’Œ cap çš„æ¦‚å¿µ</li>
<li>å¯¹äº rustï¼Œå¦‚æœè¶…å‡ºç¼“å†²åŒºå¤§å° send å°±ä¼šè¿”å› Error</li>
</ul>
<pre><code class="language-go">func sendData(sendch chan&lt;- int) {
    sendch &lt;- 10
}

func main() {
    cha1 := make(chan int)
    go sendData(cha1)
    fmt.Println(&lt;-cha1)
}
</code></pre>
<h4 id="å•å‘-channel"><a class="header" href="#å•å‘-channel">å•å‘ channel</a></h4>
<pre><code class="language-go">// å£°æ˜å‚æ•°æ˜¯ä¸€ä¸ªåªèƒ½å‘é€çš„ ch
func sendData(sendch chan&lt;- int) {
    sendch &lt;- 10
}

func main() {
    // å£°æ˜ä¸€ä¸ªåªèƒ½å‘é€çš„ channelï¼Œä¸‹é¢ä½¿ç”¨å®ƒå»æ¥å—å°±ä¼š panic
    // å¦‚æœå£°æ˜ä¸º chan intï¼Œä¸‹é¢çš„æ¥å—ä¸ä¼š panicï¼Œåœ¨ sendData ä¼šè¢«è½¬æ¢ä¸ºåªèƒ½å‘é€çš„ channelï¼Œè€Œ main ä¸­çš„ä»ç„¶æ˜¯åŒå‘çš„
    sendch := make(chan&lt;- int)
    go sendData(sendch)
    fmt.Println(&lt;-sendch)
}
</code></pre>
<h4 id="å…³é—­-channel"><a class="header" href="#å…³é—­-channel">å…³é—­ channel</a></h4>
<p>ä¸èƒ½ä¸€ç›´ send æˆ–è€…ä¸€ç›´ recvï¼Œå¤„ç†å®ŒåŠæ—¶æŠŠä¸€ç«¯ close äº†</p>
<pre><code class="language-go">func producer(chnl chan int) {
    for i := 0; i &lt; 10; i++ {
        chnl &lt;- i
    }
    // å‘é€å®Œæˆåï¼Œä½¿ç”¨ send å‡½æ•°æ˜¾å¼å…³é—­ channel
    close(chnl)
}

func main() {
    ch := make(chan int)
    go producer(ch)
    for {
        // é€šè¿‡ ok åˆ¤æ–­ channel æ˜¯å¦å…³é—­
        v, ok := &lt;-ch
        if ok == false {
            break
        }
        fmt.Println(&quot;Received &quot;, v, ok)
    }
}
</code></pre>
<h4 id="waitgroup"><a class="header" href="#waitgroup">waitGroup</a></h4>
<p>ç­‰å¾…ä¸€ç¾¤åç¨‹ç»“æŸ</p>
<p>æ³¨æ„ä¸€å®šè¦ä½¿ç”¨æŒ‡é’ˆ</p>
<h4 id="å·¥ä½œæ± "><a class="header" href="#å·¥ä½œæ± ">å·¥ä½œæ± </a></h4>
<pre><code class="language-go">// æ¨¡æ‹Ÿè€—æ—¶çš„è®¡ç®—
func calculate(number int) int {
	time.Sleep(2 * time.Second)
	return number
}

// ç”Ÿäº§è€…ï¼Œåˆ†å‘å·¥ä½œ
func produceJobs(jobs chan&lt;- Job, n int) {
	for i := 0; i &lt; n; i++ {
		// fmt.Printf(&quot;sending %d \n&quot;, i)
		jobs &lt;- Job{
			id:     i,
			number: i,
		}
	}
	close(jobs)
}

// æ¶ˆè´¹è€…ï¼Œæ¥å—å·¥ä½œï¼Œå¹²å®Œæ´»å°±é€šçŸ¥ä»¥ä¸‹ç®¡ç†å‘˜
func consumeFunc(jobs &lt;-chan Job, results chan&lt;- int, wg *sync.WaitGroup) {
	// æ¯ä¸ª worker éƒ½åœ¨æŠ¢å·¥ä½œï¼ŒçœŸç§¯æå•Š
	for job := range jobs {
		// fmt.Printf(&quot;id: %d\n&quot;, job.id)
		results &lt;- calculate(job.number)
	}
	wg.Done()
}

// ç®¡ç†å‘˜ï¼Œç­‰å¾…æ‰€æœ‰å·¥äººéƒ½é€šçŸ¥ä»–ï¼Œæ¯æ¬¡è¢«é€šçŸ¥ï¼Œè®¡æ•°å™¨å°±å‡ 1ï¼Œå½“è®¡æ•°å™¨ä¸º 0 æ˜¯å°±ä¸å†é˜»å¡
func consumeJobs(jobs &lt;-chan Job, results chan&lt;- int, worker_number int) {
	// ç­‰å¾…ä¸€æ‰¹ goroutine ç»“æŸï¼Œç±»ä¼¼äº join
	var wg sync.WaitGroup
	// ä¸ºæ¯ä¸€ä¸ªå·¥ä½œå¼€å¯ä¸€ä¸ª goroutine
	for i := 0; i &lt; worker_number; i++ {
		wg.Add(1)
		go consumeFunc(jobs, results, &amp;wg)
	}
	wg.Wait() // é˜»å¡å½“å‰ goroutine ç›´åˆ°è®¡æ•°å™¨å½’ 0ï¼Œæ‰€æœ‰ job éƒ½åº”è¯¥åšå®Œäº†ï¼Œresult åº”è¯¥ä¹Ÿéƒ½å‘é€å‡ºå»äº†
	close(results)
}

type Job struct {
	id     int
	number int
}

func main() {
	startTime := time.Now()

	jobs := make(chan Job, 10)
	results := make(chan int, 10)

	// å‘é€ work, jobs send
	go produceJobs(jobs, 100)
	// jobs recv | results send
	go consumeJobs(jobs, results, 50)
	// results recv
	a := 0
	for res := range results {
		a += res
	}
	fmt.Print(&quot;res: &quot;, a)

	endTime := time.Now()
	diff := endTime.Sub(startTime)
	fmt.Println(&quot;total time taken &quot;, diff.Seconds(), &quot;seconds&quot;)

}
</code></pre>
<h4 id="select"><a class="header" href="#select">select</a></h4>
<p>ç”¨æ³•æŒºæ™®é€š</p>
<ul>
<li>channel ä¸é™åˆ¶ send/recvï¼Œåªè¦æ˜¯å¯¹ channel çš„æ“ä½œå°±è¡Œ</li>
<li>å¦‚æœæœ‰å¤šä¸ª channel å‡†å¤‡å°±ç»ªï¼Œå°±éšæœºé€‰æ‹©ä¸€ä¸ªæ‰§è¡Œ</li>
<li>æ­»é”ä¸é»˜è®¤æƒ…å†µï¼šå¦‚æœ select ä¸€ç›´æ²¡æœ‰å‘½ä¸­ï¼Œå°±ä¼šè§¦å‘æ­»é”ï¼Œå¯¼è‡´ panicï¼Œç©º select ä¸€æ ·ä¹Ÿä¼šå¯¼è‡´ panic</li>
<li>å¯ä»¥å‡†å¤‡ä¸€ä¸ª timeout chanï¼Œåˆ°æ—¶é—´å°± send ä½œä¸ºè¶…æ—¶ä¿¡å·</li>
</ul>
<pre><code class="language-go">func main() {
    ch := make(chan string)
    select {
    case &lt;-ch:
    default:
        fmt.Println(&quot;default case executed&quot;)
    }
}
</code></pre>
<h3 id="å¹¶å‘"><a class="header" href="#å¹¶å‘">å¹¶å‘</a></h3>
<p>goroutine ä¸èƒ½ä¿è¯å¹¶å‘å®‰å…¨ï¼Œä¸‹é¢æ˜¯ä¸€äº›è§£å†³æ–¹æ³•</p>
<ul>
<li>æ€»ä½“è¯´æ¥ï¼Œå½“ Go åç¨‹éœ€è¦ä¸å…¶ä»–åç¨‹é€šä¿¡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ channelã€‚è€Œå½“åªå…è®¸ä¸€ä¸ªåç¨‹è®¿é—®ä¸´ç•ŒåŒºæ—¶ï¼Œå¯ä»¥ä½¿ç”¨ Mutexã€‚</li>
<li>å°±æˆ‘ä»¬ä¸Šé¢è§£å†³çš„é—®é¢˜è€Œè¨€ï¼Œæˆ‘æ›´å€¾å‘äºä½¿ç”¨ Mutexï¼Œå› ä¸ºè¯¥é—®é¢˜å¹¶ä¸éœ€è¦åç¨‹é—´çš„é€šä¿¡ã€‚æ‰€ä»¥ Mutex æ˜¯å¾ˆè‡ªç„¶çš„é€‰æ‹©ã€‚</li>
</ul>
<h4 id="mutex"><a class="header" href="#mutex">mutex</a></h4>
<pre><code class="language-go">func aa(wg *sync.WaitGroup, m *sync.Mutex) {
	m.Lock()
	x += 1
	m.Unlock()
	wg.Done()
}

func main() {
    var wg sync.WaitGroup
    var m sync.Mutex
    for i := 0; i &lt; 1000; i++ {
        wg.Add(1)
        go aa(&amp;wg, &amp;m)
    }
    wg.Wait()
    fmt.Print(x)
}
</code></pre>
<h4 id="channel-1"><a class="header" href="#channel-1">channel</a></h4>
<p>ä½¿ç”¨ç¼“å†²ä¸º 1 çš„ channel å®ç°</p>
<pre><code class="language-go">func aa(wg *sync.WaitGroup, ch chan bool) {
	ch &lt;- true
	x += 1
	&lt;-ch
	wg.Done()
}

func main() {
	startTime := time.Now()
	var wg sync.WaitGroup
	var ch = make(chan bool, 1)
	for i := 0; i &lt; 1000; i++ {
		wg.Add(1)
		go aa(&amp;wg, ch)
	}
	wg.Wait()
	fmt.Print(x)
}
</code></pre>
<h3 id="defer"><a class="header" href="#defer">defer</a></h3>
<h4 id="å®å‚æ±‚å€¼"><a class="header" href="#å®å‚æ±‚å€¼">å®å‚æ±‚å€¼</a></h4>
<p>å½“æ‰§è¡Œ defer è¯­å¥çš„æ—¶å€™ï¼Œå°±ä¼šå¯¹å»¶è¿Ÿå‡½æ•°çš„å®å‚è¿›è¡Œæ±‚å€¼ã€‚</p>
<pre><code class="language-go">func printA(a int) {
    fmt.Println(&quot;value of a in deferred function&quot;, a)
}
func main() {
    a := 5
    defer printA(a)
    a = 10
}
// value of a in deferred function 5
</code></pre>
<h4 id="defer-æ ˆ"><a class="header" href="#defer-æ ˆ">defer æ ˆ</a></h4>
<p>å½“ä¸€ä¸ªå‡½æ•°å†…å¤šæ¬¡è°ƒç”¨ defer æ—¶ï¼ŒGo ä¼šæŠŠ defer è°ƒç”¨æ”¾å…¥åˆ°ä¸€ä¸ªæ ˆä¸­ï¼ŒéšåæŒ‰ç…§åè¿›å…ˆå‡ºï¼ˆLast In First Out, LIFOï¼‰çš„é¡ºåºæ‰§è¡Œã€‚</p>
<p>ä¸‹é¢çš„ç¨‹åºï¼Œä½¿ç”¨ defer æ ˆï¼Œå°†ä¸€ä¸ªå­—ç¬¦ä¸²é€†åºæ‰“å°ã€‚</p>
<pre><code class="language-go">func main() {
    name := &quot;Naveen&quot;
    for _, v := range []rune(name) {
        defer fmt.Printf(&quot;%c&quot;, v)
    }
}
// å€’å™è¾“å‡ºï¼šneevaN
</code></pre>
<h4 id="defer-åœ¨-return-åæ‰§è¡Œ"><a class="header" href="#defer-åœ¨-return-åæ‰§è¡Œ">defer åœ¨ return åæ‰§è¡Œ</a></h4>
<pre><code class="language-go">import &quot;fmt&quot;

var name string = &quot;go&quot;

func myfunc() string {
    defer func() {
        name = &quot;python&quot;
    }()

    fmt.Printf(&quot;myfunc å‡½æ•°é‡Œçš„ nameï¼š%s\n&quot;, name) // go
    return name
}

func main() {
    myname := myfunc()
    fmt.Printf(&quot;main å‡½æ•°é‡Œçš„ name: %s\n&quot;, name) // python
    fmt.Println(&quot;main å‡½æ•°é‡Œçš„ myname: &quot;, myname) // go
}
</code></pre>
<h4 id="ä½¿ç”¨åœºæ™¯"><a class="header" href="#ä½¿ç”¨åœºæ™¯">ä½¿ç”¨åœºæ™¯</a></h4>
<pre><code class="language-go">func (r rect) area(wg *sync.WaitGroup) {
    // defer wg.Done() // ä»£æ›¿ä¸‹é¢çš„ 3 ä¸ª return ä¸­çš„ wg.Done()
    if r.length &lt; 0 {
        fmt.Printf(&quot;rect %v's length should be greater than zero\n&quot;, r)
        wg.Done()
        return
    }
    if r.width &lt; 0 {
        fmt.Printf(&quot;rect %v's width should be greater than zero\n&quot;, r)
        wg.Done()
        return
    }
    area := r.length * r.width
    fmt.Printf(&quot;rect %v's area %d\n&quot;, r, area)
    wg.Done()
}
</code></pre>
<h3 id="é”™è¯¯å¤„ç†"><a class="header" href="#é”™è¯¯å¤„ç†">é”™è¯¯å¤„ç†</a></h3>
<h4 id="é”™è¯¯æ¥å£"><a class="header" href="#é”™è¯¯æ¥å£">é”™è¯¯æ¥å£</a></h4>
<p>åœ¨æ ‡å‡†åº“é‡Œçš„å®šä¹‰</p>
<pre><code class="language-go">type error interface {
    Error() string
}
</code></pre>
<p>open å‡½æ•°çš„è®¾è®¡</p>
<pre><code class="language-go">type PathError struct {
    Op   string
    Path string
    Err  error
}

func (e *PathError) Error() string { return e.Op + &quot; &quot; + e.Path + &quot;: &quot; + e.Err.Error() }
</code></pre>
<h4 id="é”™è¯¯ç±»å‹æ–­è¨€"><a class="header" href="#é”™è¯¯ç±»å‹æ–­è¨€">é”™è¯¯ç±»å‹æ–­è¨€</a></h4>
<p>é€šè¿‡ç±»å‹æ–­è¨€æ‹¿åˆ°é”™è¯¯ä¿¡æ¯</p>
<pre><code class="language-go">func main() {
    f, err := os.Open(&quot;/test.txt&quot;)
    if err, ok := err.(*os.PathError); ok {
        fmt.Println(&quot;File at path&quot;, err.Path, &quot;failed to open&quot;)
        return
    }
    fmt.Println(f.Name(), &quot;opened successfully&quot;)
}
</code></pre>
<h4 id="å­é”™è¯¯ç±»å‹"><a class="header" href="#å­é”™è¯¯ç±»å‹">å­é”™è¯¯ç±»å‹</a></h4>
<pre><code class="language-go">type DNSError struct {
    ...
}

func (e *DNSError) Error() string {
    ...
}
func (e *DNSError) Timeout() bool {
    ...
}
func (e *DNSError) Temporary() bool {
    ...
}

func main() {
    addr, err := net.LookupHost(&quot;golangbot123.com&quot;)
    if err, ok := err.(*net.DNSError); ok {
        if err.Timeout() {
            fmt.Println(&quot;operation timed out&quot;)
        } else if err.Temporary() {
            fmt.Println(&quot;temporary error&quot;)
        } else {
            fmt.Println(&quot;generic error: &quot;, err)
        }
        return
    }
    fmt.Println(addr)
}
</code></pre>
<h4 id="panic-å’Œ-recover"><a class="header" href="#panic-å’Œ-recover">panic å’Œ recover</a></h4>
<p>ä¸‹é¢ä½¿ç”¨ recover å»æ¢å¤ panic</p>
<ul>
<li>æ³¨æ„ï¼šGo åç¨‹ä¸­è°ƒç”¨ recover æ‰ç®¡ç”¨ã€‚recover ä¸èƒ½æ¢å¤ä¸€ä¸ªä¸åŒåç¨‹çš„ panicã€‚</li>
</ul>
<pre><code class="language-go">func recoverName() {
    if r := recover(); r!= nil {
        fmt.Println(&quot;recovered from &quot;, r)
    }
}

func fullName(firstName *string, lastName *string) {
    defer recoverName()
    if firstName == nil {
        panic(&quot;runtime error: first name cannot be nil&quot;)
    }
    if lastName == nil {
        panic(&quot;runtime error: last name cannot be nil&quot;)
    }
    fmt.Printf(&quot;%s %s\n&quot;, *firstName, *lastName)
    fmt.Println(&quot;returned normally from fullName&quot;)
}
</code></pre>
<h4 id="æ¢å¤åè·å¾—å †æ ˆ"><a class="header" href="#æ¢å¤åè·å¾—å †æ ˆ">æ¢å¤åè·å¾—å †æ ˆ</a></h4>
<pre><code class="language-go">import (
    &quot;runtime/debug&quot;
)

func r() {
    if r := recover(); r != nil {
        fmt.Println(&quot;Recovered&quot;, r)
        debug.PrintStack()
    }
}
</code></pre>
<h3 id="åå°„"><a class="header" href="#åå°„">åå°„</a></h3>
<p><strong>åŸºç¡€</strong></p>
<pre><code class="language-go">type order struct {
	ordId      int
	customerId int
}

func play(q interface{}) {
	t := reflect.TypeOf(q)
	k := t.Kind()

	v := reflect.ValueOf(q)
	fieldsNum := v.NumField()
	fmt.Println(&quot;Type: &quot;, t, &quot;Kind: &quot;, k)
	fmt.Println(&quot;Value: &quot;, v, &quot;FieldNum: &quot;, fieldsNum)
	for i := 0; i &lt; fieldsNum; i++ {
		fmt.Println(t.Field(i).Name, v.Field(i).Type(), v.Field(i))
	}
}

func createQuery(q interface{}) {
    // æ‹¿åˆ°ç±»å‹
    if reflect.TypeOf(q).Kind() != reflect.Struct {
		return
	}
    // æ‹¿åˆ°ç±»å‹åç§°
	t := reflect.TypeOf(q).Name()
	query := fmt.Sprintf(&quot;insert into %s values(&quot;, t)
    // æ‹¿åˆ°å€¼
	v := reflect.ValueOf(q)
    // æ‹¿åˆ°å­—æ®µæ•°é‡
	for i := 0; i &lt; v.NumField(); i++ {
        // æ‹¿åˆ°å­—æ®µç±»å‹ï¼Œå­—æ®µåç§°ï¼Œå­—æ®µå€¼
		switch v.Field(i).Kind() {
		case reflect.Int:
			if i == 0 {
				query = fmt.Sprintf(&quot;%s%d&quot;, query, v.Field(i).Int())
			} else {
				query = fmt.Sprintf(&quot;%s, %d&quot;, query, v.Field(i).Int())
			}
		case reflect.String:
			if i == 0 {
				query = fmt.Sprintf(&quot;%s\&quot;%s\&quot;&quot;, query, v.Field(i).String())
			} else {
				query = fmt.Sprintf(&quot;%s, \&quot;%s\&quot;&quot;, query, v.Field(i).String())
			}
		default:
			fmt.Println(&quot;unsupported field type&quot;)
			return
		}
	}
	query = fmt.Sprintf(&quot;%s)&quot;, query)
	fmt.Println(query)
	return
}

func main() {
	o := order{
		ordId:      456,
		customerId: 56,
	}
	play(o)
	println(&quot;----------------------------------------&quot;)
	createQuery(o)

	var a int = 1
	b := reflect.ValueOf(a).String()
	fmt.Println(reflect.TypeOf(b))
}
</code></pre>
<p><strong>ä¿®æ”¹ç±»å‹</strong></p>
<pre><code class="language-go">func main() {
    var age interface{} = 25
    v := reflect.ValueOf(age)
    // ä»åå°„å¯¹è±¡åˆ°æ¥å£å˜é‡
    i := v.Interface().(int)
}
</code></pre>
<p><strong>å¯å†™æ€§</strong></p>
<pre><code class="language-go">func main() {
    var name string = &quot;Go ç¼–ç¨‹æ—¶å…‰&quot;
    v1 := reflect.ValueOf(&amp;name)
    fmt.Println(&quot;v1 å¯å†™æ€§ä¸ºï¼š&quot;, v1.CanSet())

    v2 := v1.Elem()
    fmt.Println(&quot;v2 å¯å†™æ€§ä¸ºï¼š&quot;, v2.CanSet())
}
</code></pre>
<h2 id="è¿›é˜¶"><a class="header" href="#è¿›é˜¶">è¿›é˜¶</a></h2>
<h3 id="å˜é‡"><a class="header" href="#å˜é‡">å˜é‡</a></h3>
<h4 id="make"><a class="header" href="#make">make</a></h4>
<p>make å‡½æ•°åˆ›å»º sliceã€map æˆ– chan ç±»å‹å˜é‡</p>
<p><strong>å’Œ new çš„åŒºåˆ«</strong></p>
<ul>
<li>
<p>newï¼šä¸ºæ‰€æœ‰çš„ç±»å‹åˆ†é…å†…å­˜ï¼Œå¹¶åˆå§‹åŒ–ä¸ºé›¶å€¼ï¼Œè¿”å›æŒ‡é’ˆã€‚</p>
</li>
<li>
<p>makeï¼šåªèƒ½ä¸º sliceï¼Œmapï¼Œchan åˆ†é…å†…å­˜ï¼Œå¹¶åˆå§‹åŒ–ï¼Œè¿”å›çš„æ˜¯ç±»å‹ (æŒ‡é’ˆ)ã€‚å› ä¸ºè¿™ä¸‰ä¸ªæœ¬èº«å°±æ˜¯å¼•ç”¨ç±»å‹</p>
</li>
<li>
<p>sliceã€map å’Œ chan æ˜¯ Go ä¸­çš„å¼•ç”¨ç±»å‹ï¼Œå®ƒä»¬çš„åˆ›å»ºå’Œåˆå§‹åŒ–ï¼Œä¸€èˆ¬ä½¿ç”¨ makeã€‚ç‰¹åˆ«çš„ï¼Œchan åªèƒ½ç”¨ makeã€‚slice å’Œ map
è¿˜å¯ä»¥ç®€å•çš„æ–¹å¼ï¼š</p>
</li>
</ul>
<pre><code class="language-go">slice := []int{0, 0}
m := map[string]int{}
</code></pre>
<h4 id="åŒ¿åå˜é‡"><a class="header" href="#åŒ¿åå˜é‡">åŒ¿åå˜é‡</a></h4>
<ul>
<li>ä¸åˆ†é…å†…å­˜ï¼Œä¸å ç”¨å†…å­˜ç©ºé—´</li>
</ul>
<h4 id="æµ®ç‚¹æ•°"><a class="header" href="#æµ®ç‚¹æ•°">æµ®ç‚¹æ•°</a></h4>
<p>æµ®ç‚¹æ•°è½¬äºŒè¿›åˆ¶æ—¶ä¸¢å¤±äº†ç²¾åº¦ï¼Œè®¡ç®—å®Œå†è½¬å›åè¿›åˆ¶æ—¶å’Œç†è®ºç»“æœä¸åŒã€‚</p>
<ul>
<li>f32: 1 8</li>
<li>f64: 1 11</li>
</ul>
<h4 id="ä½œç”¨åŸŸ"><a class="header" href="#ä½œç”¨åŸŸ">ä½œç”¨åŸŸ</a></h4>
<p><strong>åˆ†ç±»</strong></p>
<ul>
<li>å†…ç½®ä½œç”¨åŸŸï¼šä¸éœ€è¦è‡ªå·±å£°æ˜ï¼Œæ‰€æœ‰çš„å…³é”®å­—å’Œå†…ç½®ç±»å‹ã€å‡½æ•°éƒ½æ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸ</li>
<li>åŒ…çº§ä½œç”¨åŸŸï¼šå¿…é ˆå‡½æ•°å¤–å£°æ˜ï¼Œåœ¨è¯¥åŒ…å†…çš„æ‰€æœ‰æ–‡ä»¶éƒ½å¯ä»¥è®¿é—®</li>
<li>æ–‡ä»¶çº§ä½œç”¨åŸŸï¼šä¸éœ€è¦å£°æ˜ï¼Œå¯¼å…¥å³å¯ã€‚ä¸€ä¸ªæ–‡ä»¶ä¸­é€šè¿‡ import å¯¼å…¥çš„åŒ…åï¼Œåªåœ¨è¯¥æ–‡ä»¶å†…å¯ç”¨</li>
<li>å±€éƒ¨ä½œç”¨åŸŸï¼šåœ¨è‡ªå·±çš„è¯­å¥å—å†…å£°æ˜ï¼ŒåŒ…æ‹¬å‡½æ•°ï¼Œforã€if ç­‰è¯­å¥å—ï¼Œæˆ–è‡ªå®šä¹‰çš„ {} è¯­å¥å—å½¢æˆçš„ä½œç”¨åŸŸï¼Œåªåœ¨è‡ªå·±çš„å±€éƒ¨ä½œç”¨åŸŸå†…å¯ç”¨</li>
</ul>
<p><strong>ä½œç”¨è§„åˆ™</strong></p>
<ul>
<li>ä½å±‚ä½œç”¨åŸŸï¼Œå¯ä»¥è®¿é—®é«˜å±‚ä½œç”¨åŸŸ</li>
<li>åŒä¸€å±‚çº§çš„ä½œç”¨åŸŸï¼Œæ˜¯ç›¸äº’éš”ç¦»çš„</li>
<li>ä½å±‚ä½œç”¨åŸŸé‡Œå£°æ˜çš„å˜é‡ï¼Œä¼šè¦†ç›–é«˜å±‚ä½œç”¨åŸŸé‡Œå£°æ˜çš„å˜é‡</li>
</ul>
<p><strong>åŠ¨æ€ä½œç”¨åŸŸ</strong></p>
<p>ä¸‹é¢çš„ bash è„šæœ¬ä¸­ï¼Œfunc02 åœ¨ func01 å†…éƒ¨å¯ä»¥è®¿é—®åˆ° valueï¼Œä½†åœ¨ func01 å¤–é¢ä¸èƒ½ï¼Œå±äºåŠ¨æ€ä½œç”¨åŸŸ</p>
<pre><code class="language-shell">#!/bin/bash
func01() {
    local value=1
    func02
}
func02() {
    echo &quot;func02 sees value as ${value}&quot;
}

# æ‰§è¡Œå‡½æ•°
func01
func02
</code></pre>
<h3 id="åç¨‹æ± "><a class="header" href="#åç¨‹æ± ">åç¨‹æ± </a></h3>
<pre><code class="language-go">type Pool struct {
	work chan func()   // ä»»åŠ¡
	sem  chan struct{} // ä½¿ç”¨ç¼“å†²åŒºå¤§å°æ§åˆ¶å·¥äººæ•°é‡
}

func New(size int) *Pool {
	return &amp;Pool{
		work: make(chan func()),
		sem:  make(chan struct{}, size),
	}
}
func (p *Pool) worker(task func()) {
	defer func() { &lt;-p.sem }()
	for {
		task()
		task = &lt;-p.work
	}
}
func (p *Pool) NewTask(task func()) {
	// ç¬¬ä¸€æ¬¡åŠ æ–°ä»»åŠ¡æ—¶ï¼Œwork ç¼“å†²åŒºå¤§å°ä¸º 0ï¼Œå‘å‡ºå»ä¹Ÿæ²¡äººæ¥å—ï¼Œæ‰€ä»¥ä¸€å®šä¼šèµ°ç¬¬äºŒä¸ª
	// ç›¸å½“äºæ‰¾åˆ°äº†ç¬¬ä¸€ä¸ªå·¥äººå¤„ç†ä»»åŠ¡ï¼Œworker æœ¬èº«æ˜¯ä¸ª for å¾ªç¯ï¼Œå®ƒå¤„ç†å®Œç¬¬ä¸€ä¸ªä»»åŠ¡åä¼šç»§ç»­æ¥å—æ–°ä»»åŠ¡
	// ç¬¬äºŒæ¬¡åŠ å…¥æ—¶ï¼Œå°±è¢«ç¬¬ä¸€ä¸ªå·¥äººå¤„ç†äº†ï¼Œ
	// å¦‚æœç¬¬ä¸‰ä¸ªåŠ å…¥ï¼Œå› ä¸º sem ç¼“å†²åŒºå¤§å°çš„é™åˆ¶ï¼Œä¸ä¼šç»§ç»­äº§ç”Ÿæ–°çš„ worker
	select {
	case p.work &lt;- task:
	case p.sem &lt;- struct{}{}:
		go p.worker(task)
	}
}
func main() {
	pool := New(2)
	for i := 0; i &lt; 5; i++ {
		pool.NewTask(func() {
			time.Sleep(1 * time.Second)
			fmt.Println(time.Now())
		})
	}
	time.Sleep(4 * time.Second)
}
</code></pre>
<h3 id="åŠ¨æ€ç±»å‹"><a class="header" href="#åŠ¨æ€ç±»å‹">åŠ¨æ€ç±»å‹</a></h3>
<p>æ¥å£åˆ†ä¸ºä¸¤ç§<code>iface</code>å’Œ<code>eface</code></p>
<p>æ‰€æœ‰çš„å˜é‡éƒ½å®ç°äº†ç©ºæ¥å£ (eface)</p>
<pre><code class="language-go">// å®šä¹‰é™æ€ç±»å‹
i := (int)(25)
i = &quot;Go ç¼–ç¨‹æ—¶å…‰&quot; // ä¼šæŠ¥é”™

// å®šä¹‰åŠ¨æ€ç±»å‹
i := (interface{})(25)
var i interface{}
i = 18

i = &quot;Go ç¼–ç¨‹æ—¶å…‰&quot; // ä¸Šé¢ä¸‰ç§éƒ½è¡Œï¼Œä¸ä¼šæŠ¥é”™
</code></pre>
<pre><code class="language-go">var reader io.Reader

tty, err := os.OpenFile(&quot;/dev/tty&quot;, os.O_RDWR, 0)
if err != nil {
    return nil, err
}

reader = tty
</code></pre>
<p>ç¬¬ä¸€è¡Œä»£ç ç»“æŸåï¼Œreader çš„é™æ€ç±»å‹ä¸º<code>io.Reader</code>è¿˜æ²¡æœ‰åŠ¨æ€ç±»å‹
<img src="https://trdthg-img-for-md-1306147581.cos.ap-beijing.myqcloud.com/img/202203060928375.png" alt="" />
è¢«èµ‹å€¼ä¸º tty åï¼Œreader çš„åŠ¨æ€ç±»å‹å˜ä¸º<code>*os.File</code>
<img src="https://trdthg-img-for-md-1306147581.cos.ap-beijing.myqcloud.com/img/202203060936153.png" alt="" /></p>
<pre><code class="language-go">//ä¸å¸¦å‡½æ•°çš„ interface
var empty interface{}

tty, err := os.OpenFile(&quot;/dev/tty&quot;, os.O_RDWR, 0)
if err != nil {
    return nil, err
}

empty = tty
</code></pre>
<p>åˆšå¼€å§‹ empty æ˜¯ efaceï¼Œ<code>_type</code>ä¸º nil
<img src="https://trdthg-img-for-md-1306147581.cos.ap-beijing.myqcloud.com/img/202203060938295.png" alt="" />
è¢«èµ‹å€¼åï¼Œ<code>_type</code>çš„<strong>é™æ€ç±»å‹</strong>ä¸º<code>*os.File</code>
<img src="https://trdthg-img-for-md-1306147581.cos.ap-beijing.myqcloud.com/img/202203060938635.png" alt="" /></p>
<h3 id="å¯¼å…¥"><a class="header" href="#å¯¼å…¥">å¯¼å…¥</a></h3>
<p>å¯¼å…¥æ–¹å¼ï¼š</p>
<ul>
<li>ç»å¯¹å¯¼å…¥ï¼šä» <code>$GOPATH/src</code> æˆ– <strong><code>$GOROOT</code></strong> æˆ–è€… <code>$GOPATH/pkg/mod</code> ç›®å½•ä¸‹æœç´¢åŒ…å¹¶å¯¼å…¥</li>
<li>ç›¸å¯¹å¯¼å…¥ï¼šä»å½“å‰ç›®å½•ä¸­æœç´¢åŒ…å¹¶å¼€å§‹å¯¼å…¥ã€‚å°±åƒä¸‹é¢è¿™æ ·</li>
</ul>
<p>æ³¨æ„ï¼š</p>
<ul>
<li>å¯¼å…¥æ—¶ï¼Œæ˜¯æŒ‰ç…§ç›®å½•å¯¼å…¥ã€‚å¯¼å…¥ç›®å½•åï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰åŒ…ã€‚</li>
<li>åªè¦ä¸æ˜¯<code>.</code>æˆ–<code>..</code>å¼€å¤´ï¼Œå…¨éƒ½æ˜¯ç»å¯¹è·¯å¾„</li>
</ul>
<h3 id="context"><a class="header" href="#context">context</a></h3>
<p>å½“ä¸€ä¸ª goutine å¼€å¯åï¼Œåªèƒ½é€šè¿‡ channel çš„é€šçŸ¥å®ç°ç®¡ç†ï¼Œä½¿ç”¨ context æ›´æ–¹ä¾¿äº†</p>
<p>å½“ä½ æŠŠ Context ä¼ é€’ç»™å¤šä¸ª goroutine ä½¿ç”¨æ—¶ï¼Œåªè¦æ‰§è¡Œä¸€æ¬¡ cancel æ“ä½œï¼Œæ‰€æœ‰çš„ goroutine å°±å¯ä»¥æ”¶åˆ°
å–æ¶ˆçš„ä¿¡å·ï¼ŒContext æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¯ä»¥æ”¾å¿ƒåœ°åœ¨å¤šä¸ª goroutine ä¸­ä½¿ç”¨ã€‚</p>
<p>context åˆ›å»ºä¾èµ–äº 4 ä¸ªå‡½æ•°</p>
<ul>
<li>withCancel æœ€æ™®é€šï¼Œåªèƒ½ä½¿ç”¨ cancel å»ç»“æŸ</li>
<li>withDeadline å’Œ WithDeadline ä¼šåœ¨è¶…æ—¶åè‡ªåŠ¨ cancelï¼Œä¼ é€’çš„æ˜¯ç»å¯¹æ—¶é—´å’Œç›¸å¯¹æ—¶é—´</li>
<li>withValue èƒ½å¤Ÿæºå¸¦ä¸€äº›é”®å€¼å¯¹ (é”®åº”è¯¥æ˜¯å¯æ¯”çš„ï¼Œå€¼å¿…é¡»æ˜¯çº¿ç¨‹å®‰å…¨çš„)</li>
</ul>
<pre><code class="language-go">func WithCancel(parent Context) (ctx Context, cancel CancelFunc)
func WithDeadline(parent Context, deadline time.Time) (Context, CancelFunc)
func WithTimeout(parent Context, timeout time.Duration) (Context, CancelFunc)
func WithValue(parent Context, key, val interface{}) Context
</code></pre>
<pre><code class="language-go">func monitor(ctx context.Context, number int)  {
    for {
        select {
        case &lt;- ctx.Done():
            fmt.Printf(&quot;ç›‘æ§å™¨%vï¼Œç›‘æ§ç»“æŸã€‚\n&quot;, number)
            return
        default:
            fmt.Printf(&quot;ç›‘æ§å™¨%vï¼Œæ­£åœ¨ç›‘æ§ä¸­...\n&quot;, number)
            time.Sleep(2 * time.Second)
        }
    }
}

func main() {
    ctx01, cancel := context.WithCancel(context.Background())
    ctx02, cancel := context.WithDeadline(ctx01, time.Now().Add(1 * time.Second))

    defer cancel()

    for i :=1 ; i &lt;= 5; i++ {
        go monitor(ctx02, i)
    }

    time.Sleep(5  * time.Second)
    if ctx02.Err() != nil {
        fmt.Println(&quot;ç›‘æ§å™¨å–æ¶ˆçš„åŸå› ï¼š&quot;, ctx02.Err())
    }

    fmt.Println(&quot;ä¸»ç¨‹åºé€€å‡ºï¼ï¼&quot;)
}
</code></pre>
<h2 id="å‚è€ƒ"><a class="header" href="#å‚è€ƒ">å‚è€ƒ</a></h2>
<ul>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzAxMTA4Njc0OQ==&amp;mid=2651439981&amp;idx=4&amp;sn=b1ad1fd6e9ddf4618b0db904b067f7f6&amp;scene=19#wechat_redirect">2020 é‡å­¦ Go ç³»åˆ—ï¼š34. å›¾è§£é™æ€ç±»å‹ä¸åŠ¨æ€ç±»å‹</a></li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                                                    <a rel="prev" href="../../docs/magic/hadoop.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        
                                                    <a rel="next" href="../../docs/magic/async.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                                    <a rel="prev" href="../../docs/magic/hadoop.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                
                                    <a rel="next" href="../../docs/magic/async.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        
    </body>
</html>
